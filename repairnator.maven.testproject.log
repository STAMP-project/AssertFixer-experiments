[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building TestContainers :: Couchbase 1.1.1
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ couchbase-testcontainer ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/differentway/testcontainers-java-module-couchbase/419569564/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ couchbase-testcontainer ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ couchbase-testcontainer ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ couchbase-testcontainer ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20:test (default-test) @ couchbase-testcontainer ---
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20/surefire-junit4-2.20.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20/surefire-junit4-2.20.pom (4 KB at 8.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.20/surefire-providers-2.20.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.20/surefire-providers-2.20.pom (3 KB at 104.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20/surefire-junit4-2.20.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20/surefire-junit4-2.20.jar (81 KB at 1435.9 KB/sec)
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.testcontainers.couchbase.CouchbaseContainerTest
11:43:58.681 DEBUG org.testcontainers.utility.TestcontainersConfiguration - Testcontainers configuration overrides will be loaded from file:/root/.testcontainers.properties
11:43:59.014 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:43:59.641 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:00.143 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:00.644 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:01.146 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:01.647 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:02.149 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:02.651 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:03.153 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:03.656 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:04.158 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:04.660 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:05.162 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:05.665 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:06.167 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:06.670 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:07.172 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:07.674 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:08.176 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:08.678 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - Pinging docker daemon...
11:44:09.050 ERROR org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy - ping failed with configuration Environment variables, system properties and defaults. Resolved: 
    dockerHost=unix:///var/run/docker.sock
    apiVersion='{UNKNOWN_VERSION}'
    registryUrl='https://index.docker.io/v1/'
    registryUsername='root'
    registryPassword='null'
    registryEmail='null'
    dockerConfig='DefaultDockerClientConfig[dockerHost=unix:///var/run/docker.sock,registryUsername=root,registryPassword=<null>,registryEmail=<null>,registryUrl=https://index.docker.io/v1/,dockerConfig=/root/.docker,sslConfig=<null>,apiVersion={UNKNOWN_VERSION}]'
 due to org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception
org.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception
	at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:51)
	at org.testcontainers.dockerclient.DockerClientProviderStrategy.ping(DockerClientProviderStrategy.java:166)
	at org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy.test(EnvironmentAndSystemPropertyClientProviderStrategy.java:42)
	at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$1(DockerClientProviderStrategy.java:104)
	at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.tryAdvance(StreamSpliterators.java:302)
	at java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:731)
	at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.findAny(ReferencePipeline.java:469)
	at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:137)
	at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:92)
	at org.testcontainers.containers.GenericContainer.<init>(GenericContainer.java:126)
	at org.testcontainers.couchbase.CouchbaseContainer.<init>(CouchbaseContainer.java:82)
	at org.testcontainers.couchbase.AbstractCouchbaseTest.initCouchbaseContainer(AbstractCouchbaseTest.java:40)
	at org.testcontainers.couchbase.AbstractCouchbaseTest.getCouchbaseContainer(AbstractCouchbaseTest.java:22)
	at org.testcontainers.couchbase.AbstractCouchbaseTest.openBucket(AbstractCouchbaseTest.java:54)
	at org.testcontainers.couchbase.AbstractCouchbaseTest.getBucket(AbstractCouchbaseTest.java:25)
	at org.testcontainers.couchbase.CouchbaseContainerTest.should_execute_n1ql(CouchbaseContainerTest.java:32)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:236)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:386)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:323)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:143)
Caused by: org.testcontainers.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: No such file or directory: /var/run/docker.sock
	at org.testcontainers.shaded.io.netty.channel.unix.Errors.throwConnectException(Errors.java:107)
	at org.testcontainers.shaded.io.netty.channel.unix.Socket.connect(Socket.java:243)
	at org.testcontainers.shaded.io.netty.channel.epoll.AbstractEpollStreamChannel.doConnect(AbstractEpollStreamChannel.java:752)
	at org.testcontainers.shaded.io.netty.channel.epoll.EpollDomainSocketChannel.doConnect(EpollDomainSocketChannel.java:87)
	at org.testcontainers.shaded.io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.connect(AbstractEpollStreamChannel.java:815)
	at org.testcontainers.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1266)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:545)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:530)
	at org.testcontainers.shaded.io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.connect(CombinedChannelDuplexHandler.java:497)
	at org.testcontainers.shaded.io.netty.channel.ChannelOutboundHandlerAdapter.connect(ChannelOutboundHandlerAdapter.java:47)
	at org.testcontainers.shaded.io.netty.channel.CombinedChannelDuplexHandler.connect(CombinedChannelDuplexHandler.java:298)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:545)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:530)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:512)
	at org.testcontainers.shaded.io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:985)
	at org.testcontainers.shaded.io.netty.channel.AbstractChannel.connect(AbstractChannel.java:255)
	at org.testcontainers.shaded.io.netty.bootstrap.Bootstrap$3.run(Bootstrap.java:252)
	at org.testcontainers.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at org.testcontainers.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:403)
	at org.testcontainers.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:311)
	at org.testcontainers.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)
	at org.testcontainers.shaded.io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:138)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.ConnectException: connect(..) failed: No such file or directory
	... 23 common frames omitted
11:44:09.054 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - EnvironmentAndSystemPropertyClientProviderStrategy: failed with exception InvalidConfigurationException (ping failed)
11:44:09.057 DEBUG org.testcontainers.dockerclient.DockerClientProviderStrategy - UnixSocketClientProviderStrategy: failed with exception InvalidConfigurationException (ping failed). Root cause NoSuchFileException (/var/run/docker.sock)
11:44:09.058 ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - Could not find a valid Docker environment. Please check configuration. Attempted configurations were:
11:44:09.058 ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     EnvironmentAndSystemPropertyClientProviderStrategy: failed with exception InvalidConfigurationException (ping failed)
11:44:09.059 ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     UnixSocketClientProviderStrategy: failed with exception InvalidConfigurationException (ping failed). Root cause NoSuchFileException (/var/run/docker.sock)
11:44:09.059 ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - As no valid configuration was found, execution cannot continue
[ERROR] Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 10.715 s <<< FAILURE! - in org.testcontainers.couchbase.CouchbaseContainerTest
[ERROR] should_execute_n1ql(org.testcontainers.couchbase.CouchbaseContainerTest)  Time elapsed: 10.658 s  <<< ERROR!
java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration
	at org.testcontainers.couchbase.CouchbaseContainerTest.should_execute_n1ql(CouchbaseContainerTest.java:32)

[ERROR] should_execute_n1ql(org.testcontainers.couchbase.CouchbaseContainerTest)  Time elapsed: 10.659 s  <<< ERROR!
java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration

[ERROR] should_insert_document(org.testcontainers.couchbase.CouchbaseContainerTest)  Time elapsed: 0.006 s  <<< ERROR!
java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration
	at org.testcontainers.couchbase.CouchbaseContainerTest.should_insert_document(CouchbaseContainerTest.java:25)

[ERROR] should_insert_document(org.testcontainers.couchbase.CouchbaseContainerTest)  Time elapsed: 0.007 s  <<< ERROR!
java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR] org.testcontainers.couchbase.CouchbaseContainerTest.should_execute_n1ql(org.testcontainers.couchbase.CouchbaseContainerTest)
[ERROR]   Run 1: CouchbaseContainerTest.should_execute_n1ql:32->AbstractCouchbaseTest.getBucket:25->AbstractCouchbaseTest.openBucket:54->AbstractCouchbaseTest.getCouchbaseContainer:22->AbstractCouchbaseTest.initCouchbaseContainer:40 » IllegalState
[ERROR]   Run 2: CouchbaseContainerTest>AbstractCouchbaseTest.clear:30->AbstractCouchbaseTest.getCouchbaseContainer:22->AbstractCouchbaseTest.initCouchbaseContainer:40 » IllegalState
[INFO] 
[ERROR] org.testcontainers.couchbase.CouchbaseContainerTest.should_insert_document(org.testcontainers.couchbase.CouchbaseContainerTest)
[ERROR]   Run 1: CouchbaseContainerTest.should_insert_document:25->AbstractCouchbaseTest.getBucket:25->AbstractCouchbaseTest.openBucket:54->AbstractCouchbaseTest.getCouchbaseContainer:22->AbstractCouchbaseTest.initCouchbaseContainer:40 » IllegalState
[ERROR]   Run 2: CouchbaseContainerTest>AbstractCouchbaseTest.clear:30->AbstractCouchbaseTest.getCouchbaseContainer:22->AbstractCouchbaseTest.initCouchbaseContainer:40 » IllegalState
[INFO] 
[INFO] 
[ERROR] Tests run: 2, Failures: 0, Errors: 2, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 14.043 s
[INFO] Finished at: 2018-08-23T11:44:09+02:00
[INFO] Final Memory: 22M/376M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.20:test (default-test) on project couchbase-testcontainer: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/differentway/testcontainers-java-module-couchbase/419569564/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
