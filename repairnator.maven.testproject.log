[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for net.whydah.identity:UserIdentityBackend:jar:2.5.3-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: commons-collections:commons-collections:jar -> duplicate declaration of version 3.2.2 @ line 499, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building UserIdentityBackend 2.5.3-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ UserIdentityBackend ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 38 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ UserIdentityBackend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ UserIdentityBackend ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 10 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ UserIdentityBackend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ UserIdentityBackend ---
[INFO] Surefire report directory: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.pom (4 KB at 5.0 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom (3 KB at 52.9 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.pom (2 KB at 45.6 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.pom (3 KB at 67.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.pom (3 KB at 68.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/testng/testng/5.7/testng-5.7.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/testng/testng/5.7/testng-5.7.pom (12 KB at 254.6 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.jar (36 KB at 640.5 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.jar (29 KB at 344.6 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.jar (38 KB at 426.3 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.jar (37 KB at 418.7 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Configuring TestNG with: TestNG652Configurator
04:05:52.400 [main] INFO  o.f.c.internal.util.VersionPrinter - Flyway 3.2.1 by Boxfuse
04:05:52.762 [main] INFO  hsqldb.db.HSQLDB665692CAE3.ENGINE - Checkpoint start
04:05:52.762 [main] INFO  hsqldb.db.HSQLDB665692CAE3.ENGINE - checkpointClose start
04:05:52.888 [main] INFO  hsqldb.db.HSQLDB665692CAE3.ENGINE - checkpointClose end
04:05:52.889 [main] INFO  hsqldb.db.HSQLDB665692CAE3.ENGINE - Checkpoint end - txts: 1
04:05:52.979 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:05:53.044 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:05:53.045 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:05:53.073 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.015s)
04:05:53.081 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:05:53.101 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:05:53.102 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:05:53.120 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:05:53.131 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:05:53.139 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:05:53.147 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.067s).
04:05:53.160 [main] INFO  org.eclipse.jetty.util.log - Logging initialized @1811ms
04:05:53.302 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:05:53.302 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:05:53.303 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:05:53.436 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:05:53.459 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:05:53.460 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:05:53.475 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:05:53.475 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:05:53.518 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:05:53 CEST 2018]; root of context hierarchy
04:05:53.550 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:05:54.127 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:05:54.315 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:05:54.326 [pool-1-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:54.329 [pool-1-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:05:54.578 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1103 ms
04:05:55.632 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@337bbfdf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:05:55.649 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4faa298{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
04:05:55.650 [main] INFO  org.eclipse.jetty.server.Server - Started @4301ms
04:05:55.650 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6645/uib
Request method:	GET
Request path:	http://localhost:6645/uib/appToken1/applications
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
Cookies:		<none>
Body:			<none>
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:05:57.262 [qtp62343880-26] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:0
04:05:57.263 [qtp62343880-26] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:05:57.264 [qtp62343880-26] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:57.265 [qtp62343880-26] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:57.269 [qtp62343880-26] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:57.270 [qtp62343880-26] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:05:57.528 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4faa298{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
04:05:57.533 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:05:57.533 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:05:53 CEST 2018]; root of context hierarchy
04:05:57.537 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@337bbfdf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:05:58.051 [main] INFO  n.w.i.security.AuthenticationService - Comparing applicationCredential:ApplicationCredential{applicationID='2212', applicationName='Whydah-UserAdminService', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'} - with uasCredential:ApplicationCredential{applicationID='2212', applicationName='Whydah-UserAdminService', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}
04:05:58.055 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 8-80. Got: 0
04:05:58.055 [main] WARN  n.w.s.a.m.ApplicationCredentialMapper - Old appsecret fallback for applicationSecret
04:05:58.057 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 8-80. Got: 0
04:05:58.239 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:05:58.245 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:05:58.246 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:05:58.251 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:05:58.254 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:05:58.262 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:05:58.263 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:05:58.271 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:05:58.278 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:05:58.284 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:05:58.291 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.038s).
04:05:58.293 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:05:58.293 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:05:58.293 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:05:58.307 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:05:58.308 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:05:58.308 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:05:58.308 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:05:58.308 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:05:58.309 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:05:58 CEST 2018]; root of context hierarchy
04:05:58.309 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:05:58.435 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:05:58.453 [pool-3-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:58.453 [pool-3-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:05:58.456 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:05:58.512 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 204 ms
04:05:58.731 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@994544{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:05:58.732 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5df92089{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
04:05:58.733 [main] INFO  org.eclipse.jetty.server.Server - Started @7385ms
04:05:58.734 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6645/uib
Request method:	POST
Request path:	http://localhost:6645/uib/appToken1/userToken1/application
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Body:
{
    "id": "1234",
    "name": "UAS",
    "description": "",
    "company": "",
    "tags": "",
    "applicationUrl": "",
    "logoUrl": "",
    "roles": [
        
    ],
    "defaultRoleName": "",
    "organizationNames": [
        
    ],
    "defaultOrganizationName": "",
    "security": {
        "minSecurityLevel": "0",
        "minimumDEFCONLevel": "DEFCON5",
        "maxSessionTimeoutSeconds": "15724800000",
        "allowedIpAddresses": [
            "0.0.0.0/0"
        ],
        "userTokenFilter": true,
        "whydahUASAccess": false,
        "secret": "9ju592A4t8dzz8mz7a5QQJ7Px",
        "whydahAdmin": false
    },
    "supportedUserSessionLevels": [
        
    ],
    "acl": [
        
    ],
    "minimumApplicationDEFCON": "DEFCON5",
    "orgs": [
        
    ]
}
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:518
04:05:58.864 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json; charset=UTF-8
04:05:58.864 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:05:58.866 [qtp1605950465-44] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:58.867 [qtp1605950465-44] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:58.868 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:58.868 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:05:58.917 [qtp1605950465-44] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [1234]
Request method:	POST
Request path:	http://localhost:6645/uib/appToken1/userToken1/application
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Body:
{
    "id": "9977",
    "name": "TESTAPP",
    "description": "",
    "company": "",
    "tags": "",
    "applicationUrl": "",
    "logoUrl": "",
    "roles": [
        
    ],
    "defaultRoleName": "",
    "organizationNames": [
        
    ],
    "defaultOrganizationName": "",
    "security": {
        "minSecurityLevel": "0",
        "minimumDEFCONLevel": "DEFCON5",
        "maxSessionTimeoutSeconds": "15724800000",
        "allowedIpAddresses": [
            "0.0.0.0/0"
        ],
        "userTokenFilter": true,
        "whydahUASAccess": false,
        "secret": "33879936R6Jr47D4Hj5R6p9qT",
        "whydahAdmin": false
    },
    "supportedUserSessionLevels": [
        
    ],
    "acl": [
        
    ],
    "minimumApplicationDEFCON": "DEFCON5",
    "orgs": [
        
    ]
}
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:522
04:05:59.313 [qtp1605950465-44] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json; charset=UTF-8
04:05:59.313 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:05:59.314 [qtp1605950465-44] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:59.314 [qtp1605950465-44] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:59.315 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:59.315 [qtp1605950465-44] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:05:59.321 [qtp1605950465-44] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [9977]
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	uasAppCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>1234</applicationID>
        <applicationName></applicationName>
        <applicationSecret>9ju592A4t8dzz8mz7a5QQJ7Px</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:698
04:05:59.571 [qtp1605950465-49] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
04:05:59.571 [qtp1605950465-49] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:05:59.572 [qtp1605950465-49] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:05:59.572 [qtp1605950465-49] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:59.573 [qtp1605950465-49] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:05:59.573 [qtp1605950465-49] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:05:59.587 [qtp1605950465-49] INFO  n.w.i.a.ApplicationAuthenticationEndpoint - UAS ApplicationCredential lookup for applicationID:1234
HTTP/1.1 403 Forbidden
Date: Tue, 09 Oct 2018 02:05:59 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	uasAppCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>1234</applicationID>
        <applicationName></applicationName>
        <applicationSecret>wrongSecret</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:684
04:06:00.353 [qtp1605950465-50] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
04:06:00.353 [qtp1605950465-50] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:06:00.354 [qtp1605950465-50] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:06:00.354 [qtp1605950465-50] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:06:00.355 [qtp1605950465-50] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:06:00.355 [qtp1605950465-50] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:06:00.366 [qtp1605950465-50] INFO  n.w.i.a.ApplicationAuthenticationEndpoint - UAS ApplicationCredential lookup for applicationID:1234
04:06:00.368 [qtp1605950465-50] WARN  n.w.i.application.ApplicationService - authenticate - Incorrect applicationSectret 
04:06:00.368 [qtp1605950465-50] WARN  n.w.i.a.ApplicationAuthenticationEndpoint - UAS Application authentication failed for ApplicationCredential{applicationID='1234', applicationName='', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}. Returning Forbidden
HTTP/1.1 403 Forbidden
Date: Tue, 09 Oct 2018 02:06:00 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	appCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>9977</applicationID>
        <applicationName></applicationName>
        <applicationSecret>wrongSecret</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
04:06:00.402 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:06:00.402 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:06:00.402 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:06:00.402 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
04:06:00.402 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:06:00.403 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:681
04:06:00.403 [qtp1605950465-52] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
04:06:00.403 [qtp1605950465-52] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:06:00.404 [qtp1605950465-52] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:06:00.405 [qtp1605950465-52] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:06:00.406 [qtp1605950465-52] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:06:00.406 [qtp1605950465-52] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
HTTP/1.1 403 Forbidden
Date: Tue, 09 Oct 2018 02:06:00 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
04:06:00.419 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@5df92089{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
04:06:00.421 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:06:00.421 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:05:58 CEST 2018]; root of context hierarchy
04:06:00.423 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@994544{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:06:00.503 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:06:00.509 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:06:00.509 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:00.515 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:06:00.518 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:00.525 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:00.525 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:00.532 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:00.538 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:00.544 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:00.549 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.032s).
04:06:00.555 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:06:02.140 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:06:03.540 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:06:03.551 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:06:03.560 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:06:03.583 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:03.590 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:06:03.640 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:06:03.683 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:06:03.687 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:06:03.687 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:06:03.687 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:06:03.702 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:06:03.704 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:06:03.704 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:06:03.705 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:06:03.705 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:06:03.706 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:06:03 CEST 2018]; root of context hierarchy
04:06:03.706 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:06:03.852 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:06:03.872 [pool-9-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:06:03.873 [pool-9-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:03.875 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:06:03.951 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 246 ms
04:06:04.170 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2352c21f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:06:04.171 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@23cb8fcb{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
04:06:04.172 [main] INFO  org.eclipse.jetty.server.Server - Started @12823ms
04:06:04.173 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6655/uib
04:06:04.173 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:06:04.182 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@7efba9b9
04:06:04.192 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:06:04.428 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:06:04.604 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:06:04.772 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:06:04.939 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:06:05.154 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:06:05.306 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:06:05.479 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:06:05.647 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:06:05.814 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:06:06.222 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:06:06.387 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:06:06.588 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:06:07.004 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:06:08.564 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:06:08.564 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:06:08.564 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:06:08.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:06:08.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:06:08.570 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:06:08.570 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:06:08.570 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:06:08.571 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:06:08.571 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:06:08.571 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:06:08.765 [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
04:06:08.765 [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
04:06:08.773 [main] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@56d3af4d
04:06:08.867 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:06:08.879 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:06:08.889 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:06:08.900 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:06:08.912 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:06:09.096 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:06:09.097 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:06:09.109 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:06:09.205 [main] ERROR n.w.s.u.mappers.UserIdentityMapper - Error parsing userIdentityJSON, using alternative structure 
04:06:09.215 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@23cb8fcb{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
04:06:09.217 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:06:09.217 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:06:03 CEST 2018]; root of context hierarchy
04:06:09.221 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2352c21f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:06:09.221 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:06:09.222 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:06:09.225 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:06:09.238 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:06:09.313 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:06:09.320 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.003s)
04:06:09.320 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:09.327 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
04:06:09.330 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:09.336 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:09.337 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:09.343 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:09.349 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:09.355 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:09.360 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.031s).
04:06:09.363 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:06:09.542 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:06:10.076 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:06:10.083 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:10.083 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:06:10.084 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:06:10.085 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:10.087 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:10.089 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:10.091 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:10.091 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:06:10.092 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:06:10.105 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:06:10.106 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:06:10.107 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:06:10.107 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:06:10.120 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:06:10.121 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:06:10.122 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:06:10.123 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:06:10.123 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:06:10.124 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:06:10 CEST 2018]; root of context hierarchy
04:06:10.125 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:06:10.234 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:06:10.250 [pool-15-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
04:06:10.251 [pool-15-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:10.252 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:06:10.302 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 179 ms
04:06:10.455 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@6c0bf8f4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:06:10.456 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@73476e2d{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
04:06:10.457 [main] INFO  org.eclipse.jetty.server.Server - Started @19108ms
04:06:10.457 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6655/uib
04:06:10.460 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@73476e2d{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
04:06:10.461 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:06:10.462 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:06:10 CEST 2018]; root of context hierarchy
04:06:10.470 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@6c0bf8f4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:06:10.471 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:06:10.471 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:06:10.471 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:06:10.476 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
Configuring TestNG with: TestNG652Configurator
04:06:10.655 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid cellphone number 900-FLYING-CIRCUS
04:06:10.663 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers
04:06:10.748 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:06:11.365 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:06:11.881 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:06:11.883 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:06:11.883 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:06:11.884 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:11.887 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:06:11.888 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:06:11.900 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:06:11.900 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:11.938 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:06:11.946 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.006s)
04:06:11.956 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
04:06:11.956 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
04:06:12.078 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: username1234
04:06:12.080 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='fff4b9be-f4c7-48e2-98c2-51e72a776bab', username='username1234', firstName='firstName2', lastName='lastName2', personRef='personRef2', email='test2@test.no', cellPhone='+47 123 45 678'}, username=username1234, appid=9999, role=WhydahDefaultUser
04:06:12.221 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='fff4b9be-f4c7-48e2-98c2-51e72a776bab', username='username1234', firstName='firstName2', lastName='lastName2', personRef='personRef2', email='test2@test.no', cellPhone='+47 123 45 678'}
04:06:12.237 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - User already exists, could not create user username1234
04:06:12.258 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: username123
04:06:12.261 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='40da6706-b6b3-40a6-a30e-ab2d1e591423', username='username123', firstName='firstName', lastName='lastName', personRef='personRef', email='test@test.no', cellPhone='12345678'}, username=username123, appid=9999, role=WhydahDefaultUser
04:06:12.403 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='40da6706-b6b3-40a6-a30e-ab2d1e591423', username='username123', firstName='firstName', lastName='lastName', personRef='personRef', email='test@test.no', cellPhone='12345678'}
04:06:12.415 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - User already exists, could not create user username123
04:06:12.431 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: us1315e8cc577f4567bda4443101545bb9
04:06:12.445 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='643167cb-e7c6-4893-ab0d-9e673da23a43', username='us1315e8cc577f4567bda4443101545bb9', firstName='Mt Test', lastName='Testesen', personRef='pref', email='aa667e94a07c471584089e78fbf5ec23@getwhydah.com', cellPhone='null'}, username=us1315e8cc577f4567bda4443101545bb9, appid=9999, role=WhydahDefaultUser
04:06:12.579 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='643167cb-e7c6-4893-ab0d-9e673da23a43', username='us1315e8cc577f4567bda4443101545bb9', firstName='Mt Test', lastName='Testesen', personRef='pref', email='aa667e94a07c471584089e78fbf5ec23@getwhydah.com', cellPhone='null'}
04:06:12.588 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:06:12.588 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:06:12.594 [pool-20-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:06:12.596 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:06:12.600 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:06:12.606 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers
04:06:12.688 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:06:13.257 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:06:13.826 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:06:13.828 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:06:13.828 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:06:13.829 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:13.832 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:06:13.832 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:06:13.845 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:06:13.845 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:13.846 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:06:13.853 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
04:06:13.864 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
04:06:13.864 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
04:06:13.901 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: us9e6b8d737f0e4de49336c61fe735a026
04:06:13.903 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='ce6e2043-ceb8-496e-a911-3d38db90de76', username='us9e6b8d737f0e4de49336c61fe735a026', firstName='Mt Test', lastName='Testesen', personRef='pref', email='5c7dd462dce04baea646fede620ce335@getwhydah.com', cellPhone='null'}, username=us9e6b8d737f0e4de49336c61fe735a026, appid=9999, role=WhydahDefaultUser
04:06:14.187 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='ce6e2043-ceb8-496e-a911-3d38db90de76', username='us9e6b8d737f0e4de49336c61fe735a026', firstName='Mt Test', lastName='Testesen', personRef='pref', email='5c7dd462dce04baea646fede620ce335@getwhydah.com', cellPhone='null'}
04:06:14.193 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:06:14.193 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:06:14.196 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:06:14.202 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:06:14.209 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap
04:06:14.290 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:06:14.820 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:06:15.339 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:06:15.341 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:06:15.341 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:06:15.341 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:06:15.343 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:06:15.344 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:06:15.356 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:06:15.356 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:06:15.473 [main] INFO  n.w.i.u.identity.LdapUserIdentityDao - deleteUserIdentity with username=usernameToBeDeleted
04:06:15.491 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:06:15.491 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:06:15.493 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.495 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.496 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.496 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.498 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.499 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.499 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.500 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.501 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:06:15.503 [pool-28-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:06:15.505 [pool-28-thread-3] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:06:15.508 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:06:15.511 [pool-28-thread-3] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.511 [pool-28-thread-2] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.511 [pool-28-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:06:15.541 [main] INFO  hsqldb.db.HSQLDB66569323F3.ENGINE - Checkpoint start
04:06:15.541 [main] INFO  hsqldb.db.HSQLDB66569323F3.ENGINE - checkpointClose start
04:06:15.677 [main] INFO  hsqldb.db.HSQLDB66569323F3.ENGINE - checkpointClose end
04:06:15.677 [main] INFO  hsqldb.db.HSQLDB66569323F3.ENGINE - Checkpoint end - txts: 1
04:06:15.736 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles (HSQL Database Engine 2.3)
04:06:15.740 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:06:15.740 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:15.746 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:06:15.749 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:15.757 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:15.757 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:15.765 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:15.772 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:15.777 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:15.782 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.033s).
04:06:15.795 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:06:15.796 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:15.802 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
04:06:15.805 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:15.812 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:15.813 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:15.819 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:15.826 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:15.832 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:15.838 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.033s).
04:06:15.848 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:06:15.848 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:15.854 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:06:15.857 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:15.863 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:15.863 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:15.870 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:15.877 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:15.883 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:15.889 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.033s).
04:06:15.906 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.003s)
04:06:15.906 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:15.914 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.006s)
04:06:15.918 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:15.926 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:15.927 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:15.935 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:15.943 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:15.952 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:15.959 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.042s).
04:06:15.979 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.003s)
04:06:15.979 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:06:15.986 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
04:06:15.990 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:06:15.997 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:06:15.998 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:06:16.006 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:06:16.014 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:06:16.021 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:06:16.027 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.038s).
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_0 added item to index
thread_99 added item to index
thread_98 added item to index
thread_97 added item to index
thread_96 added item to index
thread_95 added item to index
thread_94 added item to index
thread_93 added item to index
thread_92 added item to index
thread_91 added item to index
thread_90 added item to index
thread_89 added item to index
thread_88 added item to index
thread_87 added item to index
thread_86 added item to index
thread_85 added item to index
thread_84 added item to index
thread_83 added item to index
thread_82 added item to index
thread_81 added item to index
thread_80 added item to index
thread_79 added item to index
thread_78 added item to index
thread_77 added item to index
thread_76 added item to index
thread_75 added item to index
thread_74 added item to index
thread_73 added item to index
thread_72 added item to index
thread_71 added item to index
thread_70 added item to index
thread_69 added item to index
thread_68 added item to index
thread_67 added item to index
thread_66 added item to index
thread_65 added item to index
thread_64 added item to index
thread_63 added item to index
thread_62 added item to index
thread_61 added item to index
thread_60 added item to index
thread_59 added item to index
thread_58 added item to index
thread_57 added item to index
thread_56 added item to index
thread_55 added item to index
thread_54 added item to index
thread_53 added item to index
thread_52 added item to index
thread_51 added item to index
thread_50 added item to index
thread_49 added item to index
thread_48 added item to index
thread_47 added item to index
thread_46 added item to index
thread_45 added item to index
thread_44 added item to index
thread_43 added item to index
thread_42 added item to index
thread_41 added item to index
thread_40 added item to index
thread_39 added item to index
thread_38 added item to index
thread_37 added item to index
thread_36 added item to index
thread_35 added item to index
thread_34 added item to index
thread_33 added item to index
thread_32 added item to index
thread_31 added item to index
thread_30 added item to index
thread_29 added item to index
thread_28 added item to index
thread_27 added item to index
thread_26 added item to index
thread_25 added item to index
thread_24 added item to index
thread_23 added item to index
thread_22 added item to index
thread_21 added item to index
thread_20 added item to index
thread_19 added item to index
thread_18 added item to index
thread_17 added item to index
thread_16 added item to index
thread_15 added item to index
thread_14 added item to index
thread_13 added item to index
thread_12 added item to index
thread_11 added item to index
thread_10 added item to index
thread_9 added item to index
thread_8 added item to index
thread_7 added item to index
thread_6 added item to index
thread_5 added item to index
thread_4 added item to index
thread_3 added item to index
thread_2 added item to index
thread_1 added item to index
Thread count 100
Total records: 100
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_0 added its user to the index
thread_99 added its user to the index
thread_99 removed its user out of the index list
thread_98 added its user to the index
thread_98 removed its user out of the index list
thread_97 added its user to the index
thread_97 removed its user out of the index list
thread_96 added its user to the index
thread_95 added its user to the index
thread_95 removed its user out of the index list
thread_94 added its user to the index
thread_93 added its user to the index
thread_93 removed its user out of the index list
thread_92 added its user to the index
thread_92 removed its user out of the index list
thread_91 added its user to the index
thread_91 removed its user out of the index list
thread_90 added its user to the index
thread_89 added its user to the index
thread_88 added its user to the index
thread_88 removed its user out of the index list
thread_87 added its user to the index
thread_87 removed its user out of the index list
thread_86 added its user to the index
thread_85 added its user to the index
thread_84 added its user to the index
thread_83 added its user to the index
thread_82 added its user to the index
thread_81 added its user to the index
thread_81 removed its user out of the index list
thread_80 added its user to the index
thread_80 removed its user out of the index list
thread_79 added its user to the index
thread_79 removed its user out of the index list
thread_78 added its user to the index
thread_77 added its user to the index
thread_76 added its user to the index
thread_76 removed its user out of the index list
thread_75 added its user to the index
thread_74 added its user to the index
thread_74 removed its user out of the index list
thread_73 added its user to the index
thread_73 removed its user out of the index list
thread_72 added its user to the index
thread_72 updated its user
thread_71 added its user to the index
thread_71 removed its user out of the index list
thread_70 added its user to the index
thread_70 removed its user out of the index list
thread_69 added its user to the index
thread_68 added its user to the index
thread_67 added its user to the index
thread_67 updated its user
thread_66 added its user to the index
thread_66 removed its user out of the index list
thread_65 added its user to the index
thread_65 removed its user out of the index list
thread_64 added its user to the index
thread_64 removed its user out of the index list
thread_63 added its user to the index
thread_62 added its user to the index
thread_61 added its user to the index
thread_61 removed its user out of the index list
thread_60 added its user to the index
thread_59 added its user to the index
thread_59 removed its user out of the index list
thread_58 added its user to the index
thread_58 removed its user out of the index list
thread_57 added its user to the index
thread_56 added its user to the index
thread_55 added its user to the index
thread_54 added its user to the index
thread_53 added its user to the index
thread_52 added its user to the index
thread_51 added its user to the index
thread_51 removed its user out of the index list
thread_50 added its user to the index
thread_50 removed its user out of the index list
thread_49 added its user to the index
thread_48 added its user to the index
thread_47 added its user to the index
thread_46 added its user to the index
thread_46 removed its user out of the index list
thread_45 added its user to the index
thread_44 added its user to the index
thread_43 added its user to the index
thread_43 removed its user out of the index list
thread_42 added its user to the index
thread_42 removed its user out of the index list
thread_41 added its user to the index
thread_40 added its user to the index
thread_39 added its user to the index
thread_38 added its user to the index
thread_38 removed its user out of the index list
thread_37 added its user to the index
thread_36 added its user to the index
thread_35 added its user to the index
thread_35 updated its user
thread_34 added its user to the index
thread_33 added its user to the index
thread_32 added its user to the index
thread_32 removed its user out of the index list
thread_31 added its user to the index
thread_31 removed its user out of the index list
thread_30 added its user to the index
thread_29 added its user to the index
thread_29 removed its user out of the index list
thread_28 added its user to the index
thread_27 added its user to the index
thread_26 added its user to the index
thread_25 added its user to the index
thread_24 added its user to the index
thread_24 removed its user out of the index list
thread_23 added its user to the index
thread_23 removed its user out of the index list
thread_22 added its user to the index
thread_22 removed its user out of the index list
thread_21 added its user to the index
thread_20 added its user to the index
thread_19 added its user to the index
thread_18 added its user to the index
thread_17 added its user to the index
thread_17 removed its user out of the index list
thread_16 added its user to the index
thread_15 added its user to the index
thread_15 removed its user out of the index list
thread_14 added its user to the index
thread_14 removed its user out of the index list
thread_13 added its user to the index
thread_12 added its user to the index
thread_11 added its user to the index
thread_10 added its user to the index
thread_9 added its user to the index
thread_9 removed its user out of the index list
thread_8 added its user to the index
thread_7 added its user to the index
thread_6 added its user to the index
thread_6 removed its user out of the index list
thread_5 added its user to the index
thread_5 removed its user out of the index list
thread_4 added its user to the index
thread_4 removed its user out of the index list
thread_3 added its user to the index
thread_2 added its user to the index
thread_1 added its user to the index
thread_2 updated its user
thread_3 updated its user
thread_7 removed its user out of the index list
thread_8 updated its user
thread_10 removed its user out of the index list
thread_11 updated its user
thread_12 updated its user
thread_13 updated its user
thread_16 removed its user out of the index list
thread_18 updated its user
thread_19 updated its user
thread_20 updated its user
thread_21 updated its user
thread_25 updated its user
thread_26 removed its user out of the index list
thread_27 updated its user
thread_28 updated its user
thread_30 removed its user out of the index list
thread_33 updated its user
thread_34 updated its user
thread_36 updated its user
thread_37 updated its user
thread_39 updated its user
thread_40 updated its user
thread_41 updated its user
thread_44 updated its user
thread_45 removed its user out of the index list
thread_47 removed its user out of the index list
thread_48 updated its user
thread_49 updated its user
thread_52 updated its user
thread_53 updated its user
thread_54 updated its user
thread_55 removed its user out of the index list
thread_56 updated its user
thread_57 removed its user out of the index list
thread_60 updated its user
thread_62 updated its user
thread_63 removed its user out of the index list
thread_68 removed its user out of the index list
thread_69 updated its user
thread_75 removed its user out of the index list
thread_77 updated its user
thread_78 updated its user
thread_82 updated its user
thread_83 updated its user
thread_84 updated its user
thread_85 updated its user
thread_86 updated its user
thread_89 updated its user
thread_90 updated its user
thread_94 updated its user
thread_96 updated its user
thread_0 updated its user
thread_1 updated its user
Thread count 100
Total items updated: 46
Total items removed: 54
Total records (exlude deletion): 46
tear down after tests...
04:07:17.485 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:17.602 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:18.202 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:18.713 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:18.714 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:18.715 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:18.715 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:18.717 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:18.718 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:18.730 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:18.731 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:18.736 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:07:18.737 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:18.742 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:07:18.745 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:18.751 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:18.751 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:18.757 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:18.762 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:18.766 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:18.770 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.025s).
04:07:18.772 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:18.773 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@1822f675
04:07:18.780 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:19.002 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:19.159 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:19.310 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:19.493 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:19.635 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:19.793 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:19.975 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:20.119 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:20.294 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:20.629 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:20.785 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:20.994 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:21.152 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:21.294 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:21.294 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:21.294 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:21.294 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:21.295 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:21.295 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:21.295 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:21.296 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:21.296 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:21.296 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:21.296 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:21.309 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:21.315 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:21.321 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:21.327 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:21.332 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:21.509 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:21.509 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:21.518 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:21.519 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:21.520 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:21.520 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:21.531 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:21.532 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:21.532 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:21.532 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:21.532 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:21.533 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:21 CEST 2018]; root of context hierarchy
04:07:21.533 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:21.652 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:21.667 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:21.671 [pool-33-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WhydahApplicationSession getInstance(String sts, String uas, ApplicationCredential appCred) called
04:07:21.671 [pool-33-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WhydahApplicationSession initializing: sts:http://localhost:9998/tokenservice/,  uas:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}
04:07:21.715 [hystrix-STSApplicationAuthGroup-1] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:07:21.715 [pool-33-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:07:21.717 [pool-33-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 1: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:07:21.717 [pool-33-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 1: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:21.734 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 202 ms
04:07:21.921 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@588931b9{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:21.923 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@3b977a31{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:21.924 [main] INFO  org.eclipse.jetty.server.Server - Started @90575ms
04:07:21.924 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getuserroles()======================
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:07:21.975 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:21.975 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.010 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.025 [hystrix-WhydahThreat-1] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.194 [qtp1709502041-478] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=d314c4f1-cdcb-4585-b322-1eec5a9beaad
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:113
04:07:22.215 [qtp1709502041-464] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:22.215 [qtp1709502041-464] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.217 [qtp1709502041-464] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.228 [hystrix-WhydahThreat-2] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.240 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.240 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.240 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.241 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.241 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:116
04:07:22.241 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:22.241 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.243 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.251 [hystrix-WhydahThreat-3] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.260 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.260 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.260 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.260 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.261 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:119
04:07:22.261 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:22.261 [qtp1709502041-484] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.262 [qtp1709502041-484] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.270 [hystrix-WhydahThreat-4] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.281 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.281 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.281 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.281 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.281 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.283 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.290 [qtp1709502041-478] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId1]
04:07:22.290 [qtp1709502041-478] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
04:07:22.291 [qtp1709502041-478] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
04:07:22.294 [hystrix-WhydahThreat-5] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.297 [qtp1709502041-488] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.297 [qtp1709502041-488] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.297 [qtp1709502041-488] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.297 [qtp1709502041-488] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.297 [qtp1709502041-488] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.298 [qtp1709502041-488] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.302 [hystrix-WhydahThreat-6] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.303 [qtp1709502041-488] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId1]
04:07:22.306 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.306 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.306 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.306 [qtp1709502041-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.306 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.308 [qtp1709502041-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.312 [qtp1709502041-478] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
04:07:22.314 [hystrix-WhydahThreat-7] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.317 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:22.317 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:22.317 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:22.317 [qtp1709502041-484] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:22.317 [qtp1709502041-484] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:22.318 [qtp1709502041-484] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:22.321 [qtp1709502041-484] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
04:07:22.326 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:22.328 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@3b977a31{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:22.330 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:22.330 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:21 CEST 2018]; root of context hierarchy
04:07:22.331 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@588931b9{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:22.332 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:22.332 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:22.333 [NioProcessor-16] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:22.334 [pool-32-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:07:22.334 [NioProcessor-16] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:22.335 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:22.336 [pool-32-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:07:22.339 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:22.347 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:22.429 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:22.974 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:23.398 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:23.400 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:23.400 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:23.401 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:23.403 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:23.404 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:23.416 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:23.417 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:23.422 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:07:23.422 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:23.427 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
04:07:23.429 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:23.461 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:23.461 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:23.466 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:23.469 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:23.472 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:23.474 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.046s).
04:07:23.476 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:23.476 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@2094869b
04:07:23.482 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:23.660 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:23.810 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:23.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:24.150 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:24.302 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:24.491 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:24.643 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:24.793 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:24.984 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:25.295 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:25.484 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:25.642 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:25.785 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:25.967 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:25.967 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:25.967 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:25.968 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:25.968 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:25.968 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:25.968 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:25.968 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:25.969 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:25.969 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:25.969 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:25.980 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:25.986 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:25.991 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:25.996 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:26.001 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:26.167 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:26.167 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:26.174 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:26.175 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:26.175 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:26.175 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:26.192 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:26.193 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:26.193 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:26.194 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:26.194 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:26.195 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:26 CEST 2018]; root of context hierarchy
04:07:26.195 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:26.307 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:26.327 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:26.380 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 186 ms
04:07:26.503 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2ee17b74{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:26.504 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1f8dbc5d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:26.504 [main] INFO  org.eclipse.jetty.server.Server - Started @95156ms
04:07:26.504 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================thatAddUserDoesNotAllowMissingEmail()======================
04:07:26.508 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:26.509 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:26.509 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:26.509 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:26.509 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:122
04:07:26.509 [qtp54436922-516] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:26.509 [qtp54436922-516] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:26.510 [qtp54436922-516] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:26.516 [hystrix-WhydahThreat-9] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:26.540 [qtp54436922-516] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='22f37cc9-234d-4d61-a81f-bd5cb9d4348d', username='tsnyper', firstName='tEdmund', lastName='tGoffse', personRef='triffraff', email='null', cellPhone='12121212'}ExceptionMessage: 'mail' has no values.
04:07:26.551 [qtp54436922-516] ERROR n.w.identity.util.BaseLuceneIndexer - addToIndex failed for LDAPUserIdentity{uid='22f37cc9-234d-4d61-a81f-bd5cb9d4348d', username='tsnyper', firstName='tEdmund', lastName='tGoffse', personRef='triffraff', email='null', cellPhone='12121212'}, error: value cannot be null
04:07:26.552 [qtp54436922-516] INFO  n.w.i.user.resource.UserResource - addUserIdentity returned 400 Bad Request because addUserIdentity failed for LDAPUserIdentity{uid='22f37cc9-234d-4d61-a81f-bd5cb9d4348d', username='tsnyper', firstName='tEdmund', lastName='tGoffse', personRef='triffraff', email='null', cellPhone='12121212'}. 
json {
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"tGoffse",
 "cellPhone":"12121212"}
04:07:26.557 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1f8dbc5d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:26.560 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:26.560 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:26 CEST 2018]; root of context hierarchy
04:07:26.561 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2ee17b74{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:26.562 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:26.562 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:26.565 [NioProcessor-19] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:26.566 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:26.573 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:26.573 [pool-40-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:26.573 [pool-40-thread-2] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:26.583 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:26.708 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 1: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:26.719 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:1
04:07:26.727 [hystrix-STSApplicationAuthGroup-2] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:07:26.728 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:07:26.728 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 2: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:07:26.728 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 2: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:27.495 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:27.984 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:27.985 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:27.985 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:27.986 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:27.987 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:27.988 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:28.000 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:28.001 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:28.004 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:28.005 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:28.008 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:07:28.010 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:28.014 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:28.014 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:28.018 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:28.022 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:28.027 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:28.031 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.021s).
04:07:28.034 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:28.034 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@7b3eea4e
04:07:28.042 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:28.209 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:28.359 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:28.551 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:28.701 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:28.843 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:28.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:29.151 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:29.293 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:29.484 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:29.754 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:29.918 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:30.093 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:30.251 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:30.401 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:30.402 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:30.402 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:30.402 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:30.402 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:30.403 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:30.403 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:30.403 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:30.403 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:30.403 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:30.403 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:30.415 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:30.420 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:30.425 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:30.429 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:30.434 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:30.592 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:30.592 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:30.597 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:30.599 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:30.599 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:30.599 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:30.609 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:30.610 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:30.610 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:30.611 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:30.611 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:30.612 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:30 CEST 2018]; root of context hierarchy
04:07:30.612 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:30.699 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:30.715 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:30.763 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 152 ms
04:07:30.881 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@7f888518{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:30.883 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4fb54ca0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:30.883 [main] INFO  org.eclipse.jetty.server.Server - Started @99535ms
04:07:30.883 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testAddUserWithLettersInPhoneNumberIsNotAllowed()======================
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:158
04:07:30.888 [qtp675700739-558] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:30.888 [qtp675700739-558] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:30.890 [qtp675700739-558] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:30.898 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:30.903 [qtp675700739-558] ERROR n.w.s.d.model.base.AssertionConcern - Invalid cellphone number 12121-bb-212
04:07:30.905 [qtp675700739-558] INFO  n.w.i.user.resource.UserResource - addUserIdentity, invalid json. userIdentityJson={
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"lastname",
 "email":"tsnyper@midget.orj",
 "cellPhone":"12121-bb-212"}
com.fasterxml.jackson.databind.JsonMappingException: Invalid cellphone number 12121-bb-212
 at [Source: (String)"{
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"lastname",
 "email":"tsnyper@midget.orj",
 "cellPhone":"12121-bb-212"}"; line: 7, column: 14] (through reference chain: net.whydah.sso.user.types.UserIdentity["cellPhone"])
	at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:277)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:588)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:576)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:134)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:287)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addUserIdentity(UserResource.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Invalid cellphone number 12121-bb-212
	at net.whydah.sso.ddd.model.base.AssertionConcern.throwException(AssertionConcern.java:124)
	at net.whydah.sso.ddd.model.base.AssertionConcern.assertArgumentTrue(AssertionConcern.java:129)
	at net.whydah.sso.ddd.model.base.AssertionConcern.assertArgumentWithAPattern(AssertionConcern.java:164)
	at net.whydah.sso.ddd.model.user.CellPhone.validateInput(CellPhone.java:15)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:64)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:44)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:40)
	at net.whydah.sso.ddd.model.user.CellPhone.<init>(CellPhone.java:9)
	at net.whydah.sso.user.types.UserIdentity.setCellPhone(UserIdentity.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:132)
	... 57 common frames omitted
04:07:30.908 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4fb54ca0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:30.910 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:30.910 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:30 CEST 2018]; root of context hierarchy
04:07:30.911 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@7f888518{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:30.912 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:30.912 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:30.915 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:30.919 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:30.919 [pool-46-thread-2] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:30.925 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:31.007 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:31.518 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:31.974 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:31.976 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:31.976 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:31.977 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:31.979 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:31.980 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:31.992 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:31.993 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:31.997 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:31.997 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:32.002 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:07:32.003 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:32.008 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:32.008 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:32.012 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:32.016 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:32.021 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:32.025 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.022s).
04:07:32.027 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:32.027 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@1f041bad
04:07:32.093 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:32.276 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:32.426 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:32.601 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:32.759 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:32.918 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:33.093 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:33.243 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:33.401 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:33.585 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:33.870 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:34.068 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:34.218 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:34.368 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:34.543 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:34.543 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:34.543 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:34.543 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:34.543 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:34.543 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:34.544 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:34.544 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:34.544 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:34.544 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:34.544 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:34.554 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:34.559 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:34.565 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:34.570 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:34.574 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:34.725 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:34.725 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:34.731 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:34.732 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:34.733 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:34.733 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:34.746 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:34.748 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:34.748 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:34.749 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:34.749 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:34.750 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:34 CEST 2018]; root of context hierarchy
04:07:34.750 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:34.849 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:34.865 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:34.913 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 164 ms
04:07:35.015 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@7ec77f27{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:35.017 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@17698f4c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:35.017 [main] INFO  org.eclipse.jetty.server.Server - Started @103668ms
04:07:35.017 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserrole()======================
04:07:35.021 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:35.022 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:35.022 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:35.022 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:35.022 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:07:35.022 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:35.022 [qtp977449654-594] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:35.023 [qtp977449654-594] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:35.028 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:35.185 [qtp977449654-594] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=44866c39-cf49-4bd6-95ae-18e537fd5354
04:07:35.190 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:35.190 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:35.190 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:35.190 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:35.190 [qtp977449654-603] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:35.191 [qtp977449654-603] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:35.194 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
04:07:35.202 [qtp977449654-594] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:35.202 [qtp977449654-594] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:35.203 [qtp977449654-594] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:35.207 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:35.218 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:35.218 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:35.218 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:35.218 [qtp977449654-603] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:35.218 [qtp977449654-603] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:35.219 [qtp977449654-603] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:35.222 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:35.222 [qtp977449654-603] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:07:35.226 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@17698f4c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:35.228 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:35.228 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:34 CEST 2018]; root of context hierarchy
04:07:35.230 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@7ec77f27{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:35.230 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:35.230 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:35.231 [NioProcessor-25] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:35.231 [NioProcessor-25] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:35.233 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:35.237 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:35.244 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:35.320 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:35.790 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:36.191 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:36.193 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:36.193 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:36.193 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:36.195 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:36.195 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:36.207 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:36.208 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:36.212 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:07:36.212 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:36.216 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:07:36.218 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:36.223 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:36.223 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:36.227 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:36.230 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:36.233 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:36.236 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.017s).
04:07:36.237 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:36.237 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@2687bf90
04:07:36.243 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:36.400 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:36.551 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:36.692 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 2: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:2
04:07:36.724 [hystrix-STSApplicationAuthGroup-3] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:07:36.724 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:07:36.724 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 3: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:07:36.724 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 3: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:36.834 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:37.026 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:37.168 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:37.317 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:37.501 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:37.651 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:37.928 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:38.100 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:38.250 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:38.401 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:38.559 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:38.559 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:38.559 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:38.560 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:38.560 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:38.560 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:38.560 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:38.560 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:38.561 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:38.561 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:38.561 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:38.571 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:38.576 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:38.582 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:38.586 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:38.591 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:38.733 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:38.733 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:38.739 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:38.739 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:38.739 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:38.739 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:38.750 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:38.750 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:38.750 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:38.751 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:38.751 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:38.752 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:38 CEST 2018]; root of context hierarchy
04:07:38.752 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:38.853 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:38.869 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:38.914 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 163 ms
04:07:39.045 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4e7148dd{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:39.047 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@56e18141{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:39.047 [main] INFO  org.eclipse.jetty.server.Server - Started @107698ms
04:07:39.047 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testGetNonExistingUser()======================
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:07:39.055 [qtp2019435375-634] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:39.056 [qtp2019435375-634] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:39.057 [qtp2019435375-634] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:39.066 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:39.210 [qtp2019435375-634] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=117fa178-4290-49e5-bbc3-87208c4ce1be
04:07:39.217 [qtp2019435375-643] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:39.217 [qtp2019435375-643] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:39.217 [qtp2019435375-643] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:39.217 [qtp2019435375-643] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:39.217 [qtp2019435375-643] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:39.219 [qtp2019435375-643] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:39.224 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:39.227 [qtp2019435375-643] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: non-existent-uid
04:07:39.233 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@56e18141{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:39.235 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:39.235 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:38 CEST 2018]; root of context hierarchy
04:07:39.237 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4e7148dd{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:39.237 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:39.237 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:39.242 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:39.247 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:39.247 [pool-58-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:39.247 [pool-58-thread-2] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:39.253 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:39.349 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:39.905 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:40.312 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:40.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:40.314 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:40.314 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:40.316 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:40.316 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:40.328 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:40.329 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:40.332 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:40.332 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:40.335 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:07:40.336 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:40.339 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:40.340 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:40.343 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:40.346 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:40.348 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:40.350 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
04:07:40.352 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:40.352 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@10d29fe
04:07:40.359 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:40.558 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:40.709 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:40.850 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:41.009 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:41.159 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:41.301 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:41.491 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:41.642 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:41.792 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:42.103 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:42.250 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:42.400 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:42.584 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:42.742 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:42.742 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:42.742 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:42.742 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:42.743 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:42.743 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:42.752 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:42.756 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:42.760 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:42.765 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:42.769 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:42.916 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:42.916 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:42.922 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:42.923 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:42.923 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:42.923 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:42.934 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:42.934 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:42.934 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:42.935 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:42.935 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:42.936 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:42 CEST 2018]; root of context hierarchy
04:07:42.936 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:43.049 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:43.070 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:43.134 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 199 ms
04:07:43.260 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@32aed633{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:43.262 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@24d6ee26{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:43.262 [main] INFO  org.eclipse.jetty.server.Server - Started @111914ms
04:07:43.262 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingLastName()======================
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:130
04:07:43.267 [qtp1525603579-688] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:43.267 [qtp1525603579-688] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:43.269 [qtp1525603579-688] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:43.277 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:43.293 [qtp1525603579-688] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='619da449-6117-4670-888c-211e82e90b68', username='tsnyper', firstName='tEdmund', lastName='null', personRef='triffraff', email='tsnyper@midget.orj', cellPhone='12121212'}ExceptionMessage: 'sn' has no values.
04:07:43.452 [qtp1525603579-688] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=619da449-6117-4670-888c-211e82e90b68
04:07:43.457 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@24d6ee26{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:43.459 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:43.459 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:42 CEST 2018]; root of context hierarchy
04:07:43.461 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@32aed633{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:43.462 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:43.462 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:43.462 [NioProcessor-31] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:43.462 [NioProcessor-31] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:43.463 [NioProcessor-31] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:43.464 [NioProcessor-31] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:43.465 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:43.470 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:43.470 [pool-64-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:43.477 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:43.572 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:44.062 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:44.497 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:44.498 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:44.498 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:44.499 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:44.501 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:44.501 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:44.513 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:44.514 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:44.517 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:44.517 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:44.521 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:07:44.522 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:44.526 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:44.526 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:44.529 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:44.532 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:44.535 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:44.537 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
04:07:44.539 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:44.539 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@3b0ebc6
04:07:44.546 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:44.708 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:44.858 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:45.042 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:45.184 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:45.325 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:45.509 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:45.659 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:45.817 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:46.001 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:46.294 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:46.474 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:46.625 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 3: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:3
04:07:46.722 [hystrix-STSApplicationAuthGroup-4] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:07:46.723 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:07:46.723 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 4: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:07:46.723 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 4: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:46.783 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:46.982 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:46.982 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:46.982 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:46.983 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:46.983 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:46.983 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:46.983 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:46.983 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:46.984 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:46.984 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:46.984 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:46.993 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:46.998 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:47.003 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:47.007 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:47.012 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:47.166 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:47.166 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:47.171 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:47.172 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:47.172 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:47.172 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:47.183 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:47.184 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:47.184 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:47.184 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:47.185 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:47.185 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:47 CEST 2018]; root of context hierarchy
04:07:47.186 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:47.265 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:47.276 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:47.310 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 125 ms
04:07:47.395 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4fc62b5d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:47.395 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@45f80a0a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:47.395 [main] INFO  org.eclipse.jetty.server.Server - Started @116047ms
04:07:47.395 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUser()======================
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:155
04:07:47.400 [qtp1019204680-725] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:47.400 [qtp1019204680-725] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:47.401 [qtp1019204680-725] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:47.408 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:47.602 [qtp1019204680-725] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=b7b0612e-c17a-4585-bb49-cdf83010860b
04:07:47.607 [qtp1019204680-713] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:47.607 [qtp1019204680-713] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:47.607 [qtp1019204680-713] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:47.607 [qtp1019204680-713] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:47.607 [qtp1019204680-713] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:47.608 [qtp1019204680-713] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:47.668 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:47.679 [qtp1019204680-728] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:47.679 [qtp1019204680-728] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:47.679 [qtp1019204680-728] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:47.679 [qtp1019204680-728] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:47.679 [qtp1019204680-728] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:47.680 [qtp1019204680-728] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:47.684 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:47.904 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@45f80a0a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:47.906 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:47.906 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:47 CEST 2018]; root of context hierarchy
04:07:47.907 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4fc62b5d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:47.908 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:47.908 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:47.911 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:47.915 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:47.920 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:48.003 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:48.474 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:48.898 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:48.899 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:48.899 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:48.900 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:48.902 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:48.903 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:48.915 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:48.916 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:48.920 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:48.921 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:48.925 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:07:48.926 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:48.930 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:48.931 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:48.934 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:48.937 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:48.984 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:48.988 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.062s).
04:07:48.989 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:48.990 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@68efc230
04:07:48.998 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:49.158 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:49.300 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:49.474 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:49.617 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:49.759 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:49.909 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:50.092 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:50.242 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:50.400 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:50.686 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:50.842 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:51.017 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:51.167 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:51.309 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:51.309 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:51.309 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:51.309 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:51.309 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:51.309 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:51.310 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:51.310 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:51.310 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:51.310 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:51.310 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:51.318 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:51.322 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:51.327 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:51.331 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:51.334 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:51.508 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:51.508 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:51.513 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:51.514 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:51.514 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:51.514 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:51.524 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:51.525 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:51.525 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:51.526 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:51.526 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:51.526 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:51 CEST 2018]; root of context hierarchy
04:07:51.527 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:51.599 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:51.610 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:51.643 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 117 ms
04:07:51.729 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5d8c86b{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:51.730 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6ee8afd0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:51.730 [main] INFO  org.eclipse.jetty.server.Server - Started @120382ms
04:07:51.730 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================test Find()======================
04:07:51.734 [qtp1258012278-769] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:51.734 [qtp1258012278-769] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:51.734 [qtp1258012278-769] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:51.734 [qtp1258012278-769] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:51.734 [qtp1258012278-769] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:51.735 [qtp1258012278-769] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:51.739 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:51.761 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6ee8afd0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:51.763 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:51.763 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:51 CEST 2018]; root of context hierarchy
04:07:51.764 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5d8c86b{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:51.764 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:51.764 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:51.767 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:51.771 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:51.771 [pool-76-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:07:51.777 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:51.858 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:52.374 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:52.834 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:52.836 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:52.836 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:52.836 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:52.838 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:52.839 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:52.851 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:52.852 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:52.856 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:07:52.856 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:52.859 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:07:52.861 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:52.864 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:52.865 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:52.868 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:52.872 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:52.875 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:52.877 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.017s).
04:07:52.879 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:52.879 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@6a7cd14c
04:07:52.887 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:53.075 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:53.216 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:53.375 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:53.550 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:53.683 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:53.833 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:54.017 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:54.175 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:54.325 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:54.644 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:54.800 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:54.974 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:55.117 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:55.267 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:55.267 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:55.267 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:55.267 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:55.267 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:55.267 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:55.268 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:55.268 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:55.268 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:55.268 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:55.268 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:55.276 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:55.281 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:55.286 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:55.290 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:55.293 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:55.432 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:55.432 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:55.438 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:55.439 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:55.439 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:55.439 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:55.449 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:55.449 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:55.449 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:55.450 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:55.450 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:55.451 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:55 CEST 2018]; root of context hierarchy
04:07:55.451 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:55.540 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:55.550 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:55.583 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 133 ms
04:07:55.665 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@3893de24{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:55.665 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5d4a80{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:55.665 [main] INFO  org.eclipse.jetty.server.Server - Started @124317ms
04:07:55.665 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserroleNoJson()======================
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:07:55.673 [qtp1786096100-789] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:55.673 [qtp1786096100-789] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:55.674 [qtp1786096100-789] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:55.683 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:55.834 [qtp1786096100-789] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=89b706d4-6879-403e-84b0-5d4b546f7117
04:07:55.838 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:55.838 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:55.839 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:55.839 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:55.839 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:0
04:07:55.839 [qtp1786096100-798] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:55.839 [qtp1786096100-798] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:55.840 [qtp1786096100-798] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:55.844 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:07:55.848 [qtp1786096100-798] ERROR n.w.i.user.resource.UserResource - addRole, invalid json. roleJson=
com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input
 at [Source: (String)""; line: 1, column: 0]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4133)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3988)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:215)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:07:55.851 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@5d4a80{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:55.853 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:07:55.853 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:55 CEST 2018]; root of context hierarchy
04:07:55.854 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@3893de24{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:07:55.854 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:07:55.854 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:07:55.855 [NioProcessor-40] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:55.856 [NioProcessor-40] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:07:55.856 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:07:55.861 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:07:55.869 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:07:55.965 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:07:56.513 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:07:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 4: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:4
04:07:56.722 [hystrix-STSApplicationAuthGroup-5] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:07:56.722 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:07:56.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 5: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:07:56.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 5: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:07:56.951 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:07:56.952 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:07:56.952 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:07:56.953 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:07:56.955 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:07:56.955 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:07:56.967 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:07:56.968 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:07:56.971 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:07:56.971 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:07:56.974 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:07:56.975 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:07:56.979 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:07:56.979 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:07:56.982 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:07:56.985 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:07:56.987 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:07:56.989 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
04:07:56.991 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:07:56.991 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@6a79decb
04:07:56.998 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:07:57.149 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:07:57.291 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:07:57.482 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:07:57.625 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:07:57.766 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:07:57.916 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:07:58.099 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:07:58.250 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:07:58.400 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:07:58.677 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:07:58.824 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:07:59.000 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:07:59.150 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:07:59.292 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:07:59.292 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:07:59.292 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:07:59.292 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:07:59.292 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:07:59.292 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:07:59.293 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:07:59.293 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:07:59.293 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:07:59.293 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:07:59.293 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:07:59.302 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:07:59.307 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:07:59.312 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:07:59.316 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:07:59.320 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:07:59.507 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:07:59.507 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:07:59.512 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:07:59.513 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:07:59.513 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:07:59.513 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:07:59.524 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:07:59.525 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:07:59.525 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:07:59.526 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:07:59.526 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:07:59.526 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:07:59 CEST 2018]; root of context hierarchy
04:07:59.527 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:07:59.630 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:07:59.644 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:07:59.692 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 166 ms
04:07:59.807 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1f29cc72{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:07:59.808 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@208d03da{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:07:59.808 [main] INFO  org.eclipse.jetty.server.Server - Started @128460ms
04:07:59.809 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteUserOK()======================
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:165
04:07:59.816 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:07:59.816 [qtp324808831-842] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:07:59.818 [qtp324808831-842] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:07:59.824 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:00.009 [qtp324808831-842] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=frustaalstrom, uid=2001b399-9b8e-45b1-aef9-11365979dba3
04:08:00.014 [qtp324808831-838] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:00.014 [qtp324808831-838] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:00.014 [qtp324808831-838] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:00.014 [qtp324808831-838] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:00.014 [qtp324808831-838] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:00.015 [qtp324808831-838] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:00.020 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:00.081 [qtp324808831-838] INFO  n.w.i.u.identity.LdapUserIdentityDao - deleteUserIdentity with username=2001b399-9b8e-45b1-aef9-11365979dba3
04:08:00.094 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:00.094 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:00.094 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:00.094 [qtp324808831-842] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:00.094 [qtp324808831-842] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:00.095 [qtp324808831-842] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:00.098 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:00.104 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@208d03da{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:00.105 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:00.105 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:07:59 CEST 2018]; root of context hierarchy
04:08:00.108 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@1f29cc72{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:00.111 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:00.111 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:00.117 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:00.123 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:00.128 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:00.203 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:00.703 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:01.336 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:01.337 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:01.337 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:01.338 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:01.340 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:01.340 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:01.353 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:01.354 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:01.358 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:01.358 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:01.363 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:08:01.364 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:01.368 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:01.368 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:01.372 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:01.376 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:01.380 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:01.383 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.019s).
04:08:01.385 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:01.385 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@59762cf2
04:08:01.391 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:01.574 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:01.716 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:01.866 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:02.058 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:02.216 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:02.374 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:02.533 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:02.691 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:02.841 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:03.135 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:03.282 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:03.416 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:03.608 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:03.749 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:03.750 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:03.750 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:03.750 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:03.750 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:03.750 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:03.751 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:03.751 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:03.751 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:03.751 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:03.751 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:03.758 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:03.763 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:03.768 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:03.772 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:03.777 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:03.915 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:03.916 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:03.921 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:03.922 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:03.922 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:03.922 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:03.935 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:03.936 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:03.936 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:03.937 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:03.937 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:03.938 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:03 CEST 2018]; root of context hierarchy
04:08:03.938 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:04.023 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:04.032 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:04.079 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 142 ms
04:08:04.190 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4a5dc3c9{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:04.191 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7dd96f87{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:04.192 [main] INFO  org.eclipse.jetty.server.Server - Started @132843ms
04:08:04.192 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================thatEmailCanBeUsedAsUsername()======================
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:166
04:08:04.196 [qtp1630911955-875] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:04.197 [qtp1630911955-875] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:04.198 [qtp1630911955-875] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:04.206 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:04.351 [qtp1630911955-875] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper@midget.orj, uid=232e10b1-eadc-4c5a-a747-4f33cc07d468
04:08:04.357 [qtp1630911955-884] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:04.357 [qtp1630911955-884] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:04.357 [qtp1630911955-884] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:04.357 [qtp1630911955-884] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:04.357 [qtp1630911955-884] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:04.359 [qtp1630911955-884] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:04.367 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:04.375 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@7dd96f87{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:04.377 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:04.377 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:03 CEST 2018]; root of context hierarchy
04:08:04.379 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4a5dc3c9{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:04.380 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:04.380 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 5: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:5
04:08:06.722 [hystrix-STSApplicationAuthGroup-6] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:06.722 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:06.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 6: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:06.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 6: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:08.385 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:08.389 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:08.394 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:08.497 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:08.968 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:09.364 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:09.365 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:09.365 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:09.366 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:09.367 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:09.368 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:09.380 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:09.380 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:09.383 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:09.383 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:09.386 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:09.387 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:09.390 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:09.390 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:09.393 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:09.396 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:09.398 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:09.400 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
04:08:09.402 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:09.402 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@23ff2e4d
04:08:09.409 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:09.615 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:09.765 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:09.908 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:10.090 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:10.241 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:10.391 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:10.566 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:10.724 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:10.874 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:11.183 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:11.324 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:11.506 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:11.649 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:11.799 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:11.799 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:11.799 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:11.800 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:11.800 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:11.800 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:11.800 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:11.800 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:11.801 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:11.801 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:11.801 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:11.808 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:11.812 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:11.817 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:11.820 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:11.824 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:11.975 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:11.975 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:12.009 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:12.010 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:12.010 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:12.010 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:12.023 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:12.026 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:12.027 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:12.027 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:12.027 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:12.028 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:12 CEST 2018]; root of context hierarchy
04:08:12.029 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:12.106 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:12.123 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:12.166 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 139 ms
04:08:12.279 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5a4b4c99{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:12.281 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@21a314ce{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:12.281 [main] INFO  org.eclipse.jetty.server.Server - Started @140933ms
04:08:12.281 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteUserNotFound()======================
04:08:12.296 [qtp1368692432-915] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:12.296 [qtp1368692432-915] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:12.296 [qtp1368692432-915] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:12.296 [qtp1368692432-915] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:12.296 [qtp1368692432-915] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:12.298 [qtp1368692432-915] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:12.306 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:12.321 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@21a314ce{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:12.325 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:12.325 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:12 CEST 2018]; root of context hierarchy
04:08:12.327 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5a4b4c99{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:12.328 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:12.328 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:12.329 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:12.334 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:12.338 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:12.419 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:12.938 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:13.343 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:13.344 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:13.344 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:13.345 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:13.346 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:13.347 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:13.358 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:13.359 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:13.363 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
04:08:13.363 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:13.366 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:13.367 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:13.370 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:13.370 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:13.373 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:13.376 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:13.378 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:13.381 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
04:08:13.382 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:13.383 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@fb0634b
04:08:13.390 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:13.590 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:13.732 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:13.873 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:14.049 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:14.190 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:14.332 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:14.524 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:14.674 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:15.431 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:15.826 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:16.057 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:16.249 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:16.441 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:16.666 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:16.666 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:16.666 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:16.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:16.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:16.667 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:16.667 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:16.667 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:16.667 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:16.667 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:16.667 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:16.675 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:16.679 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:16.683 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:16.686 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:16.690 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 6: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:6
04:08:16.723 [hystrix-STSApplicationAuthGroup-7] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:16.723 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:16.723 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 7: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:16.723 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 7: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:16.831 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:16.831 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:16.835 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:16.836 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:16.836 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:16.836 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:16.846 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:16.846 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:16.846 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:16.847 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:16.847 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:16.848 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:16 CEST 2018]; root of context hierarchy
04:08:16.848 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:16.921 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:16.931 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:16.966 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 119 ms
04:08:17.048 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@297383fc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:17.049 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@62afcae7{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:17.049 [main] INFO  org.eclipse.jetty.server.Server - Started @145700ms
04:08:17.049 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getUser()======================
04:08:17.054 [qtp701252816-952] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:17.054 [qtp701252816-952] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:17.054 [qtp701252816-952] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:17.054 [qtp701252816-952] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:17.054 [qtp701252816-952] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:17.055 [qtp701252816-952] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:17.061 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
===>{"uid":"useradmin","username":"useradmin","firstName":"User","lastName":"Admin","personRef":"0","email":"useradmin@getwhydah.com","cellPhone":"+1555406789","password":null,"personName":"User Admin"}
04:08:17.076 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@62afcae7{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:17.078 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:17.078 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:16 CEST 2018]; root of context hierarchy
04:08:17.079 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@297383fc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:17.080 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:17.080 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:17.082 [NioProcessor-53] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:17.082 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:17.088 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:17.094 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:17.215 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:17.798 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:18.234 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:18.235 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:18.235 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:18.235 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:18.237 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:18.238 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:18.250 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:18.251 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:18.254 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:18.254 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:18.257 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:08:18.258 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:18.261 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:18.261 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:18.264 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:18.266 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:18.268 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:18.270 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
04:08:18.272 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:18.272 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@62de3a8b
04:08:18.279 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:18.432 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:18.598 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:18.748 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:18.890 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:19.082 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:19.232 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:19.382 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:19.549 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:19.699 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:20.001 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:20.157 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:20.299 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:20.440 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:20.599 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:20.599 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:20.599 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:20.599 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:20.599 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:20.600 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:20.600 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:20.600 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:20.600 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:20.600 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:20.600 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:20.608 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:20.612 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:20.617 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:20.621 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:20.625 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:20.765 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:20.765 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:20.770 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:20.771 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:20.771 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:20.771 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:20.781 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:20.781 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:20.781 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:20.782 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:20.782 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:20.783 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:20 CEST 2018]; root of context hierarchy
04:08:20.783 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:20.861 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:20.872 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:20.906 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 124 ms
04:08:20.985 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2411acc4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:20.986 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1d7ed2ef{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:20.986 [main] INFO  org.eclipse.jetty.server.Server - Started @149637ms
04:08:20.987 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================modifyuserrole()======================
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:20.992 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:20.992 [qtp290446759-1001] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:20.993 [qtp290446759-1001] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:21.003 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:21.150 [qtp290446759-1001] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=91fb194e-ba39-4888-9a36-bfb0af87fb25
04:08:21.156 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:21.157 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:21.157 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:21.157 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:21.157 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
04:08:21.157 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:21.157 [qtp290446759-989] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:21.158 [qtp290446759-989] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:21.162 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:21.174 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:21.174 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:21.174 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:21.174 [qtp290446759-1001] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:21.174 [qtp290446759-1001] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:21.175 [qtp290446759-1001] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:21.181 [qtp290446759-1001] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:21.182 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:233
04:08:21.185 [qtp290446759-989] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:21.185 [qtp290446759-989] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:21.186 [qtp290446759-989] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:21.191 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:21.192 [qtp290446759-989] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:21.195 [qtp290446759-1004] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:21.195 [qtp290446759-1004] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:21.195 [qtp290446759-1004] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:21.195 [qtp290446759-1004] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:21.195 [qtp290446759-1004] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:21.196 [qtp290446759-1004] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:21.199 [qtp290446759-1004] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:21.200 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:21.203 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1d7ed2ef{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:21.204 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:21.204 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:20 CEST 2018]; root of context hierarchy
04:08:21.205 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2411acc4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:21.206 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:21.206 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:21.208 [NioProcessor-55] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:21.208 [NioProcessor-55] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:21.211 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:21.215 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:21.220 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:21.323 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:21.854 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:22.306 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:22.307 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:22.307 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:22.308 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:22.309 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:22.310 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:22.322 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:22.323 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:22.327 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:22.327 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:22.331 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:08:22.332 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:22.336 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:22.336 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:22.340 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:22.343 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:22.345 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:22.348 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.016s).
04:08:22.350 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:22.350 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@47d91535
04:08:22.357 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:22.507 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:22.649 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:22.799 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:22.940 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:23.124 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:23.274 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:23.415 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:23.624 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:23.774 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:24.084 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:24.232 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:24.374 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:24.565 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:24.707 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:24.707 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:24.707 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:24.708 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:24.708 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:24.718 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:24.722 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:24.726 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:24.730 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:24.734 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:24.873 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:24.873 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:24.877 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:24.878 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:24.878 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:24.878 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:24.886 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:24.887 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:24.887 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:24.888 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:24.888 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:24.888 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:24 CEST 2018]; root of context hierarchy
04:08:24.888 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:24.956 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:24.966 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:25.008 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 120 ms
04:08:25.094 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@3650c2cf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:25.094 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@f5341c6{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:25.094 [main] INFO  org.eclipse.jetty.server.Server - Started @153746ms
04:08:25.095 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addExistingUserrole()======================
04:08:25.099 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:25.100 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:25.100 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:25.100 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:25.100 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:25.100 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:25.100 [qtp265017740-1041] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:25.101 [qtp265017740-1041] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:25.108 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:25.267 [qtp265017740-1041] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=6cb9e438-095f-4f92-acd1-e67f20f3899a
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
04:08:25.272 [qtp265017740-1028] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:25.272 [qtp265017740-1028] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:25.273 [qtp265017740-1028] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:25.278 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
04:08:25.290 [qtp265017740-1041] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:25.290 [qtp265017740-1041] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:25.291 [qtp265017740-1041] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:25.296 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:25.303 [qtp265017740-1041] ERROR n.w.i.user.resource.UserResource - addRole-Conflict. {"orgName": "0005",
        "applicationId": "testappId",
        "roleName": "KK",
        "roleValue": "test"}
javax.ws.rs.WebApplicationException: User with uid=6cb9e438-095f-4f92-acd1-e67f20f3899a already has this role. net.whydah.sso.user.types.UserApplicationRoleEntry@5b8048cd
	at net.whydah.identity.user.UserAggregateService.addRole(UserAggregateService.java:185)
	at net.whydah.identity.user.UserAggregateService.addUserApplicationRoleEntry(UserAggregateService.java:149)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:222)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:08:25.306 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@f5341c6{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:25.308 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:25.308 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:24 CEST 2018]; root of context hierarchy
04:08:25.309 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@3650c2cf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:25.309 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:25.309 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:25.312 [pool-118-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:08:25.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:25.318 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:25.325 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:25.431 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:25.899 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:26.299 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:26.300 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:26.300 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:26.301 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:26.302 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:26.302 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:26.314 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:26.315 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:26.318 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:26.318 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:26.321 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:26.322 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:26.325 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:26.325 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:26.327 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:26.330 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:26.333 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:26.335 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
04:08:26.336 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:26.337 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@72425503
04:08:26.343 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:26.531 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:26.673 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 7: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:7
04:08:26.722 [hystrix-STSApplicationAuthGroup-8] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:26.722 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:26.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 8: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:26.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 8: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:26.815 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:26.989 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:27.157 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:27.315 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:27.532 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:27.690 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:27.832 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:28.142 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:28.282 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:28.423 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:28.590 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:28.748 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:28.748 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:28.748 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:28.749 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:28.750 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:28.750 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:28.759 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:28.764 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:28.769 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:28.773 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:28.777 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:28.923 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:28.923 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:28.927 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:28.928 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:28.928 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:28.928 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:28.937 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:28.938 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:28.938 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:28.939 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:28.939 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:28.940 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:28 CEST 2018]; root of context hierarchy
04:08:28.940 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:29.011 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:29.021 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:29.053 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 114 ms
04:08:29.122 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4ed114ba{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:29.123 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2ee6195{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:29.123 [main] INFO  org.eclipse.jetty.server.Server - Started @157774ms
04:08:29.123 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getNonExistingUser()======================
04:08:29.127 [qtp896858356-1071] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:29.127 [qtp896858356-1071] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:29.127 [qtp896858356-1071] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:29.128 [qtp896858356-1071] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:29.128 [qtp896858356-1071] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:29.129 [qtp896858356-1071] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:29.134 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:29.147 [qtp896858356-1080] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:29.147 [qtp896858356-1080] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:29.147 [qtp896858356-1080] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:29.147 [qtp896858356-1080] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:29.147 [qtp896858356-1080] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:29.149 [qtp896858356-1080] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:29.153 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:29.155 [qtp896858356-1080] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: pettersmart@gmail.com
04:08:29.161 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@2ee6195{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:29.163 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:29.163 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:28 CEST 2018]; root of context hierarchy
04:08:29.164 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4ed114ba{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:29.165 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:29.165 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:29.166 [NioProcessor-61] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:29.166 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:29.171 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:29.175 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:29.278 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:29.795 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:30.193 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:30.194 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:30.194 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:30.194 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:30.196 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:30.196 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:30.209 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:30.209 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:30.212 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:30.212 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:30.215 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:30.216 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:30.220 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:30.220 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:30.222 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:30.225 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:30.227 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:30.229 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
04:08:30.231 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:30.231 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@53af3056
04:08:30.238 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:30.398 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:30.582 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:30.732 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:30.873 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:31.065 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:31.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:31.374 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:31.557 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:31.707 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:32.017 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:32.190 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:32.340 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:32.515 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:32.665 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:32.665 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:32.665 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:32.665 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:32.666 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:32.666 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:32.674 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:32.678 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:32.683 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:32.687 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:32.691 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:32.831 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:32.831 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:32.836 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:32.837 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:32.837 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:32.837 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:32.849 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:32.850 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:32.850 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:32.851 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:32.851 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:32.852 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:32 CEST 2018]; root of context hierarchy
04:08:32.852 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:32.942 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:32.951 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:32.980 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 129 ms
04:08:33.059 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@6b78a00e{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:33.060 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1b4e608c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:33.061 [main] INFO  org.eclipse.jetty.server.Server - Started @161711ms
04:08:33.061 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testAddUserWillRespondWithConflictWhenUsernameAlreadyExists()======================
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:33.066 [qtp1678427737-1108] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:33.066 [qtp1678427737-1108] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:33.067 [qtp1678427737-1108] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:33.071 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:33.216 [qtp1678427737-1108] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=3d08af63-d4c3-40bb-97f7-71b2dc62a688
04:08:33.222 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:33.223 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:33.223 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:33.223 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:33.223 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:153
04:08:33.223 [qtp1678427737-1117] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:33.223 [qtp1678427737-1117] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:33.224 [qtp1678427737-1117] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:33.229 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:33.232 [qtp1678427737-1117] INFO  n.w.i.user.resource.UserResource - addUserIdentity returned 409 Conflict because User already exists, could not create user with username=snyper. 
json {
 "username":"snyper",
 "personRef":"tifftaff",
 "firstName":"Another",
 "lastName":"Wanderer",
 "email":"wanderer@midget.orj",
 "cellPhone":"34343434"}
04:08:33.235 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1b4e608c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:33.236 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:33.237 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:32 CEST 2018]; root of context hierarchy
04:08:33.238 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@6b78a00e{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:33.238 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:33.238 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:33.240 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:33.240 [NioProcessor-64] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:33.248 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:33.253 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:33.353 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:33.818 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:34.214 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:34.215 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:34.216 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:34.216 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:34.217 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:34.218 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:34.230 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:34.231 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:34.233 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:34.233 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:34.236 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:34.237 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:34.240 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:34.240 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:34.243 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:34.245 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:34.247 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:34.249 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
04:08:34.251 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:34.251 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@46af9e19
04:08:34.257 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:34.406 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:34.590 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:34.731 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:34.881 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:35.056 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:35.207 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:35.365 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:35.549 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:35.698 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:35.997 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:36.165 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:36.307 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:36.448 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:36.657 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:36.657 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:36.657 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:36.657 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:36.657 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:36.657 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:36.658 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:36.658 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:36.658 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:36.658 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:36.658 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:36.666 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:36.670 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:36.674 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:36.678 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:36.682 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 8: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:8
04:08:36.722 [hystrix-STSApplicationAuthGroup-9] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:36.723 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:36.723 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 9: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:36.723 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 9: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:36.822 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:36.823 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:36.827 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:36.828 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:36.828 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:36.828 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:36.837 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:36.838 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:36.838 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:36.838 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:36.838 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:36.839 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:36 CEST 2018]; root of context hierarchy
04:08:36.839 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:36.912 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:36.924 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:36.958 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 119 ms
04:08:37.038 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@be1c5f8{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:37.038 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@16f59770{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:37.038 [main] INFO  org.eclipse.jetty.server.Server - Started @165690ms
04:08:37.038 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserWithMissingPhoneNumber()======================
04:08:37.043 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:37.044 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:37.044 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:37.044 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:37.044 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:128
04:08:37.044 [qtp608486579-1148] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:37.044 [qtp608486579-1148] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:37.045 [qtp608486579-1148] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:37.050 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:37.199 [qtp608486579-1148] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=45f11c65-51ac-454e-a3e2-b306302be6e7
04:08:37.205 [qtp608486579-1157] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:37.205 [qtp608486579-1157] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:37.205 [qtp608486579-1157] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:37.205 [qtp608486579-1157] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:37.205 [qtp608486579-1157] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:37.207 [qtp608486579-1157] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:37.212 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:37.217 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@16f59770{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:37.219 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:37.219 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:36 CEST 2018]; root of context hierarchy
04:08:37.220 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@be1c5f8{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:37.221 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:37.221 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:37.222 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:37.229 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:37.229 [pool-136-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:08:37.234 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:37.333 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:37.838 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:38.312 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:38.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:38.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:38.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:38.315 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:38.315 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:38.327 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:38.328 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:38.330 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:38.331 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:38.334 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:08:38.335 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:38.338 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:38.338 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:38.341 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:38.343 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:38.345 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:38.347 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
04:08:38.349 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:38.349 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@3fdb1e68
04:08:38.356 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:38.548 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:38.690 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:38.840 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:39.015 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:39.157 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:39.307 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:39.496 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:39.640 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:39.807 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:40.117 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:40.265 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:40.415 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:40.573 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:40.723 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:40.723 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:40.723 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:40.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:40.725 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:40.725 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:40.732 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:40.737 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:40.741 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:40.745 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:40.748 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:40.897 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:40.897 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:40.902 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:40.903 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:40.903 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:40.903 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:40.911 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:40.912 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:40.912 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:40.912 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:40.913 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:40.913 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:40 CEST 2018]; root of context hierarchy
04:08:40.913 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:40.981 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:40.991 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:41.022 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 109 ms
04:08:41.087 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@57625fe5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:41.088 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@a369c6{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:41.088 [main] INFO  org.eclipse.jetty.server.Server - Started @169739ms
04:08:41.088 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserroleBadJson()======================
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:41.093 [qtp1139776311-1201] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:41.093 [qtp1139776311-1201] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:41.094 [qtp1139776311-1201] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:41.102 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:41.249 [qtp1139776311-1201] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=54f0b6b6-9b92-42cf-a32e-7c95aff86f0e
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:12
04:08:41.255 [qtp1139776311-1196] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:41.255 [qtp1139776311-1196] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:41.257 [qtp1139776311-1196] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:41.260 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:41.266 [qtp1139776311-1196] ERROR n.w.i.user.resource.UserResource - addRole, invalid json. roleJson={ dilldall }
com.fasterxml.jackson.core.JsonParseException: Unexpected character ('d' (code 100)): was expecting double-quote to start field name
 at [Source: (String)"{ dilldall }"; line: 1, column: 4]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1798)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:663)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:561)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1757)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:682)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:215)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
04:08:41.269 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@a369c6{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:41.271 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:41.271 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:40 CEST 2018]; root of context hierarchy
04:08:41.273 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@57625fe5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:41.273 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:41.273 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:41.274 [NioProcessor-70] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:41.276 [pool-142-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:08:43.275 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:43.280 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:43.286 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:43.389 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:43.850 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:44.287 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:44.288 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:44.289 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:44.289 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:44.290 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:44.291 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:44.302 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:44.303 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:44.306 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:44.306 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:44.309 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:44.310 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:44.312 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:44.312 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:44.315 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:44.317 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:44.319 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:44.321 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
04:08:44.322 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:44.323 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@7555aa87
04:08:44.329 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:44.498 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:44.648 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:44.798 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:44.939 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:45.115 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:45.256 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:45.406 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:45.590 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:45.756 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:46.092 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:46.248 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:46.406 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:46.581 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 9: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:9
04:08:46.722 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:46.723 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:46.723 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 10: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:46.723 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 10: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:46.723 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:46.724 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:46.724 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:46.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:46.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:46.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:46.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:46.724 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:46.725 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:46.725 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:46.725 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:46.733 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:46.737 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:46.742 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:46.745 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:46.749 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:46.880 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:46.881 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:46.885 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:46.885 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:46.885 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:46.886 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:46.894 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:46.894 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:46.894 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:46.895 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:46.895 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:46.896 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:46 CEST 2018]; root of context hierarchy
04:08:46.896 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:46.963 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:46.973 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:47.003 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 108 ms
04:08:47.069 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@784423da{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:47.070 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@48e989ce{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:47.070 [main] INFO  org.eclipse.jetty.server.Server - Started @175722ms
04:08:47.070 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingFirstName()======================
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:129
04:08:47.075 [qtp238242327-1240] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:47.075 [qtp238242327-1240] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:47.077 [qtp238242327-1240] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:47.081 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:47.099 [qtp238242327-1240] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='2abed89e-b965-4d15-9801-c93583e50276', username='tsnyper', firstName='null', lastName='tGoffse', personRef='triffraff', email='tsnyper@midget.orj', cellPhone='12121212'}ExceptionMessage: 'givenName' has no values.
04:08:47.232 [qtp238242327-1240] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=2abed89e-b965-4d15-9801-c93583e50276
04:08:47.237 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@48e989ce{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:47.239 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:47.239 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:46 CEST 2018]; root of context hierarchy
04:08:47.240 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@784423da{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:47.240 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:47.240 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:47.241 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:47.246 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:47.250 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:47.326 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:47.793 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:48.245 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:48.246 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:48.246 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:48.246 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:48.248 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:48.248 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:48.261 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:48.262 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:48.265 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:48.265 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:48.268 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:48.269 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:48.272 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:48.272 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:48.276 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:48.280 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:48.283 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:48.286 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.017s).
04:08:48.288 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:48.289 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@79593a59
04:08:48.296 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:48.831 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:49.005 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:49.156 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:49.298 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:49.439 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:49.622 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:49.781 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:49.931 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:50.115 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:50.392 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:50.555 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:50.706 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:50.856 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:51.040 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:51.040 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:51.040 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:51.040 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:51.040 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:51.040 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:51.041 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:51.041 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:51.041 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:51.041 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:51.041 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:51.049 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:51.052 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:51.056 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:51.059 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:51.062 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:51.205 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:51.205 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:51.211 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:51.212 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:51.212 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:51.212 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:51.224 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:51.225 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:51.225 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:51.226 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:51.226 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:51.226 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:51 CEST 2018]; root of context hierarchy
04:08:51.227 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:51.304 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:51.313 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:51.353 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 127 ms
04:08:51.426 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5c7bf8e6{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:51.426 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1904fc7b{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:51.426 [main] INFO  org.eclipse.jetty.server.Server - Started @180078ms
04:08:51.426 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================modifyUser()======================
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:51.431 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:51.431 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:51.432 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:51.437 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:51.623 [qtp575638324-1280] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=d14a108b-404a-4b14-b293-ee695c8c1a11
04:08:51.628 [qtp575638324-1275] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:51.629 [qtp575638324-1275] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:51.629 [qtp575638324-1275] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:51.629 [qtp575638324-1275] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:51.629 [qtp575638324-1275] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:51.630 [qtp575638324-1275] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:51.634 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:51.640 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:51.640 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:51.640 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:51.641 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:51.641 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:195
04:08:51.641 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:51.641 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:51.642 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:51.645 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:51.802 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:51.802 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:51.802 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:51.802 [qtp575638324-1280] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:51.802 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:51.803 [qtp575638324-1280] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:51.807 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:51.813 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1904fc7b{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:51.815 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:51.815 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:51 CEST 2018]; root of context hierarchy
04:08:51.816 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5c7bf8e6{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:51.817 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:51.817 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:51.817 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:51.818 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:51.818 [pool-154-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:08:51.819 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:51.819 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:51.820 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:08:51.821 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:51.828 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:51.837 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:51.946 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:52.407 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:52.841 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:52.842 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:52.842 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:52.843 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:52.845 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:52.845 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:52.858 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:52.858 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:52.861 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:52.861 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:52.864 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:52.865 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:52.868 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:52.868 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:52.871 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:52.873 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:52.876 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:52.879 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
04:08:52.880 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:52.881 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@c609ac8
04:08:52.887 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:53.064 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:53.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:53.347 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:53.523 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:53.664 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:53.823 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:54.012 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:54.165 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:54.315 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:54.625 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:54.764 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:54.914 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:55.089 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:55.231 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:55.231 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:55.231 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:55.231 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:55.231 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:55.231 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:55.231 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:55.231 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:55.232 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:55.232 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:55.232 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:55.238 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:55.241 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:55.244 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:55.247 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:55.250 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:55.388 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:55.389 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:55.392 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:55.393 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:55.393 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:55.393 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:55.402 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:55.403 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:55.403 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:55.403 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:55.403 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:55.404 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:55 CEST 2018]; root of context hierarchy
04:08:55.404 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:55.460 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:55.468 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:55.494 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 91 ms
04:08:55.558 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2c0ed94d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:55.559 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1576de9c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:55.559 [main] INFO  org.eclipse.jetty.server.Server - Started @184210ms
04:08:55.559 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingPersonRef()======================
04:08:55.563 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:55.563 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:55.563 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:55.563 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:55.563 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:127
04:08:55.564 [qtp2130142904-1325] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:55.564 [qtp2130142904-1325] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:55.564 [qtp2130142904-1325] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:55.568 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:55.715 [qtp2130142904-1325] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=71d5229d-4db6-4232-9a97-82a6b70eea7b
04:08:55.719 [qtp2130142904-1329] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:55.719 [qtp2130142904-1329] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:55.719 [qtp2130142904-1329] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:55.719 [qtp2130142904-1329] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:55.719 [qtp2130142904-1329] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:55.720 [qtp2130142904-1329] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:55.724 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:55.729 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1576de9c{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:55.730 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:55.730 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:55 CEST 2018]; root of context hierarchy
04:08:55.731 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2c0ed94d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:55.731 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:55.731 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:55.732 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:55.737 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:55.740 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:55.817 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:08:56.283 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:08:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 10: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:10
04:08:56.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:08:56.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:08:56.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 11: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:08:56.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 11: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:08:56.764 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:08:56.765 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:08:56.766 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:08:56.766 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:08:56.768 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:08:56.768 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:08:56.780 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:08:56.781 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:08:56.784 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:08:56.784 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:08:56.787 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:08:56.788 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:08:56.792 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:08:56.792 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:08:56.795 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:08:56.798 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:08:56.800 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:08:56.803 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
04:08:56.804 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:08:56.805 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@4c39e0e1
04:08:56.812 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:08:56.955 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:08:57.105 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:08:57.281 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:08:57.439 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:08:57.606 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:08:57.756 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:08:57.898 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:08:58.064 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:08:58.214 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:08:58.533 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:08:58.672 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:08:58.822 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:08:58.996 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:08:59.139 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:08:59.139 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:08:59.139 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:08:59.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:08:59.141 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:08:59.141 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:08:59.148 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:08:59.152 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:08:59.155 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:08:59.158 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:08:59.162 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:08:59.313 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:08:59.313 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:08:59.317 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:08:59.317 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:08:59.318 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:08:59.318 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:08:59.325 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:08:59.326 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:08:59.326 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:08:59.327 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:08:59.327 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:08:59.328 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:08:59 CEST 2018]; root of context hierarchy
04:08:59.328 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:08:59.394 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:08:59.404 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:08:59.435 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 108 ms
04:08:59.502 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1eed4c42{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:08:59.502 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@a9a1109{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:59.503 [main] INFO  org.eclipse.jetty.server.Server - Started @188154ms
04:08:59.503 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteuserrole()======================
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:08:59.507 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:59.507 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.509 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.515 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.666 [qtp2100188953-1359] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=d9b08e5c-897a-429d-9c09-5e4bcea2ec38
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
04:08:59.671 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:59.671 [qtp2100188953-1350] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.672 [qtp2100188953-1350] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.676 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:114
04:08:59.688 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:08:59.688 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.689 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.693 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.703 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.703 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.704 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.704 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.704 [qtp2100188953-1368] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.704 [qtp2100188953-1368] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.707 [qtp2100188953-1368] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:59.707 [qtp2100188953-1368] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:59.708 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.711 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.711 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.711 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.711 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.711 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.712 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.715 [qtp2100188953-1359] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:59.716 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.718 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.718 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.718 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.718 [qtp2100188953-1350] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.718 [qtp2100188953-1350] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.719 [qtp2100188953-1350] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.723 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.724 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.724 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.724 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.724 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.724 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.725 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.727 [qtp2100188953-1359] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:59.729 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.732 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.732 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.732 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.732 [qtp2100188953-1368] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.732 [qtp2100188953-1368] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.734 [qtp2100188953-1368] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.736 [qtp2100188953-1368] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
04:08:59.737 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.740 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.740 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.740 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.740 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.740 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.741 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.745 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.745 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:08:59.745 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:08:59.745 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:08:59.745 [qtp2100188953-1359] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:08:59.745 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:08:59.747 [qtp2100188953-1359] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:08:59.754 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:08:59.757 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@a9a1109{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:08:59.759 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:08:59.759 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:08:59 CEST 2018]; root of context hierarchy
04:08:59.761 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@1eed4c42{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:08:59.761 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:08:59.761 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:08:59.763 [pool-166-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
04:08:59.763 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:08:59.769 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:08:59.774 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:08:59.879 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:09:00.353 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:09:00.751 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:09:00.752 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:09:00.752 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:09:00.752 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:09:00.754 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:09:00.754 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:09:00.766 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:09:00.767 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:09:00.769 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:09:00.769 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:09:00.772 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:09:00.773 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:09:00.775 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:09:00.775 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:09:00.778 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:09:00.780 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:09:00.782 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:09:00.784 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.011s).
04:09:00.785 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:09:00.786 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@22c9548a
04:09:00.792 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:09:00.938 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:09:01.130 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:09:01.296 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:09:01.439 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:09:01.630 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:09:01.781 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:09:01.931 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:09:02.114 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:09:02.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:09:02.625 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:09:02.780 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:09:02.930 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:09:03.156 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:09:03.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:09:03.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:09:03.314 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:09:03.315 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:09:03.316 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:09:03.323 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:09:03.328 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:09:03.332 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:09:03.335 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:09:03.339 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:09:03.487 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:09:03.487 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:09:03.515 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:09:03.516 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:09:03.516 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:09:03.516 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:09:03.524 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:09:03.524 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:09:03.524 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:09:03.525 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:09:03.525 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:09:03.525 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:09:03 CEST 2018]; root of context hierarchy
04:09:03.526 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:09:03.590 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:09:03.600 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:09:03.632 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 107 ms
04:09:03.699 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2ab76935{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:09:03.699 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2daba204{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:03.699 [main] INFO  org.eclipse.jetty.server.Server - Started @192351ms
04:09:03.699 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testGetExistingUser()======================
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
04:09:03.704 [qtp2025038575-1404] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:09:03.704 [qtp2025038575-1404] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:09:03.705 [qtp2025038575-1404] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:09:03.709 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:09:03.872 [qtp2025038575-1404] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=9527aeb9-0d6f-4264-8bbb-1da1c65e7e6a
04:09:03.876 [qtp2025038575-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:09:03.876 [qtp2025038575-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:09:03.876 [qtp2025038575-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:09:03.876 [qtp2025038575-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:09:03.876 [qtp2025038575-1408] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:09:03.877 [qtp2025038575-1408] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:09:03.880 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:09:03.888 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@2daba204{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:03.889 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:09:03.890 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:09:03 CEST 2018]; root of context hierarchy
04:09:03.891 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2ab76935{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:09:03.891 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:09:03.891 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:09:03.892 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:03.893 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:03.894 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:03.894 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:09:03.894 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:03.902 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:09:03.907 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
04:09:04.013 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:09:04.475 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:09:04.913 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:09:04.914 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:09:04.914 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:09:04.914 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:09:04.916 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:09:04.916 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:09:04.928 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:09:04.929 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:09:04.932 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
04:09:04.932 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:09:04.935 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
04:09:04.936 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:09:04.938 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:09:04.938 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:09:04.940 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:09:04.942 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:09:04.944 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:09:04.946 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.010s).
04:09:04.948 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:09:04.948 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@5fa9b735
04:09:04.954 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:09:05.147 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
04:09:05.289 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
04:09:05.430 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
04:09:05.614 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
04:09:05.764 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
04:09:05.914 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
04:09:06.122 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
04:09:06.272 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
04:09:06.423 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
04:09:06.699 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
04:09:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 11: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:11
04:09:06.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:06.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:06.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 12: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:06.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 12: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:06.839 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
04:09:07.021 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
04:09:07.164 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
04:09:07.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
04:09:07.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
04:09:07.314 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
04:09:07.314 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
04:09:07.314 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
04:09:07.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
04:09:07.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
04:09:07.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
04:09:07.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
04:09:07.315 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
04:09:07.315 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
04:09:07.322 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
04:09:07.326 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
04:09:07.330 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
04:09:07.333 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
04:09:07.337 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
04:09:07.487 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
04:09:07.487 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
04:09:07.514 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
04:09:07.515 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:09:07.515 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:09:07.515 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:09:07.522 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:09:07.522 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:09:07.522 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:09:07.523 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:09:07.523 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:09:07.523 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:09:07 CEST 2018]; root of context hierarchy
04:09:07.524 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:09:07.590 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:09:07.599 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:09:07.632 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 109 ms
04:09:07.699 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@6b327f3{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:09:07.700 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@65045e99{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:07.700 [main] INFO  org.eclipse.jetty.server.Server - Started @196352ms
04:09:07.700 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:143
04:09:07.705 [qtp2073005541-1429] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
04:09:07.705 [qtp2073005541-1429] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:09:07.707 [qtp2073005541-1429] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:09:07.711 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:09:07.719 [qtp2073005541-1429] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: nonExistingUserId
04:09:07.725 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@65045e99{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:07.727 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:09:07.727 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:09:07 CEST 2018]; root of context hierarchy
04:09:07.728 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@6b327f3{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:09:07.729 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:09:07.729 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:09:07.731 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:09:07.731 [NioProcessor-88] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:07.736 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:09:07.742 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 3-50. Got: 0
04:09:07.742 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
04:09:07.788 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
04:09:07.840 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
04:09:07.844 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers,data/luceneapplications
04:09:07.928 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
04:09:08.382 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
04:09:08.775 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
04:09:08.776 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
04:09:08.777 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

04:09:08.777 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
04:09:08.778 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
04:09:08.779 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
04:09:08.790 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
04:09:08.791 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:09:08.791 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
04:09:08.795 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:09:08.798 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
04:09:08.798 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
04:09:08.798 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
04:09:08.798 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
04:09:08.798 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
04:09:08.804 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
04:09:08.804 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
04:09:08.805 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
04:09:08.805 [main] INFO  /uib - Initializing Spring root WebApplicationContext
04:09:08.805 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
04:09:08.805 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Tue Oct 09 04:09:08 CEST 2018]; root of context hierarchy
04:09:08.805 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
04:09:08.855 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
04:09:08.863 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:09:08.887 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 82 ms
04:09:08.948 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@de43651{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,AVAILABLE}
04:09:08.949 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@71eaa40d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:08.949 [main] INFO  org.eclipse.jetty.server.Server - Started @197600ms
04:09:08.949 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
04:09:08.950 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
04:09:08.950 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@456740a3
04:09:08.956 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
04:09:08.975 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
04:09:09.023 [main] INFO  o.s.j.support.SQLErrorCodesFactory - SQLErrorCodes loaded: [DB2, Derby, H2, HDB, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
04:09:09.026 [main] ERROR n.w.i.d.ApplicationJsonImporter - Unable to persist application: Application{id='100', name='ACS', description='Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.', company='Norway AS', tags='HIDDEN, JURISDICTION_NORWAY', applicationUrl='null', logoUrl='https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png', roles=[net.whydah.sso.application.types.ApplicationAvailableRoleNames@595170d, net.whydah.sso.application.types.ApplicationAvailableRoleNames@4f9973eb, net.whydah.sso.application.types.ApplicationAvailableRoleNames@c356bf2a], defaultRoleName='Employee', organizationNames=[net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@9a7eb2f2, net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@8422e93a, net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@e43e1dc6], defaultOrganizationName='ACSOrganization', security=ApplicationSecurity{minSecurityLevel='0', minimumDEFCONLevel='DEFCON5', maxSessionTimeoutSeconds='8640000', allowedIpAddresses=[0.0.0.0/0], userTokenFilter=true, whydahUASAccess=false, isWhydahAdmin=false, secret='******39}, acls=[ApplicationACL{applicationId='11', applicationACLPath='/user', accessRights='null'}]}
org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO Application (id, json) VALUES (?,?)]; integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION; nested exception is java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:655)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:876)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:937)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:947)
	at net.whydah.identity.application.ApplicationDao.create(ApplicationDao.java:49)
	at net.whydah.identity.application.ApplicationService.create(ApplicationService.java:59)
	at net.whydah.identity.dataimport.ApplicationJsonImporter.saveApplications(ApplicationJsonImporter.java:70)
	at net.whydah.identity.dataimport.ApplicationJsonImporter.importApplications(ApplicationJsonImporter.java:59)
	at net.whydah.identity.dataimport.IamDataImporter.importIamData(IamDataImporter.java:108)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.setUp(UserAuthenticationEndpointTest.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:883)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:876)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:639)
	... 43 common frames omitted
Caused by: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.Constraint.getException(Unknown Source)
	at org.hsqldb.index.IndexAVLMemory.insert(Unknown Source)
	at org.hsqldb.persist.RowStoreAVL.indexRow(Unknown Source)
	at org.hsqldb.TransactionManager2PL.addInsertAction(Unknown Source)
	at org.hsqldb.Session.addInsertAction(Unknown Source)
	at org.hsqldb.Table.insertSingleRow(Unknown Source)
	at org.hsqldb.StatementDML.insertSingleRow(Unknown Source)
	at org.hsqldb.StatementInsert.getResult(Unknown Source)
	at org.hsqldb.StatementDMQL.execute(Unknown Source)
	at org.hsqldb.Session.executeCompiledStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 50 common frames omitted
04:09:09.027 [main] ERROR n.w.i.dataimport.IamDataImporter - Error in Importing applications
java.lang.RuntimeException: Unable to persist application: Application{id='100', name='ACS', description='Finn den kompetansen du trenger, nr du trenger det. Lag eksklusive CV'er tillpasset leseren.', company='Norway AS', tags='HIDDEN, JURISDICTION_NORWAY', applicationUrl='null', logoUrl='https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png', roles=[net.whydah.sso.application.types.ApplicationAvailableRoleNames@595170d, net.whydah.sso.application.types.ApplicationAvailableRoleNames@4f9973eb, net.whydah.sso.application.types.ApplicationAvailableRoleNames@c356bf2a], defaultRoleName='Employee', organizationNames=[net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@9a7eb2f2, net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@8422e93a, net.whydah.sso.application.types.ApplicationAvailableOrganizationNames@e43e1dc6], defaultOrganizationName='ACSOrganization', security=ApplicationSecurity{minSecurityLevel='0', minimumDEFCONLevel='DEFCON5', maxSessionTimeoutSeconds='8640000', allowedIpAddresses=[0.0.0.0/0], userTokenFilter=true, whydahUASAccess=false, isWhydahAdmin=false, secret='******39}, acls=[ApplicationACL{applicationId='11', applicationACLPath='/user', accessRights='null'}]}
	at net.whydah.identity.dataimport.ApplicationJsonImporter.saveApplications(ApplicationJsonImporter.java:75)
	at net.whydah.identity.dataimport.ApplicationJsonImporter.importApplications(ApplicationJsonImporter.java:59)
	at net.whydah.identity.dataimport.IamDataImporter.importIamData(IamDataImporter.java:108)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.setUp(UserAuthenticationEndpointTest.java:134)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO Application (id, json) VALUES (?,?)]; integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION; nested exception is java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:655)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:876)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:937)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:947)
	at net.whydah.identity.application.ApplicationDao.create(ApplicationDao.java:49)
	at net.whydah.identity.application.ApplicationService.create(ApplicationService.java:59)
	at net.whydah.identity.dataimport.ApplicationJsonImporter.saveApplications(ApplicationJsonImporter.java:70)
	... 37 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.fetchResult(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.executeUpdate(Unknown Source)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:883)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:876)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:639)
	... 43 common frames omitted
Caused by: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; SYS_PK_13056 table: APPLICATION
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.Constraint.getException(Unknown Source)
	at org.hsqldb.index.IndexAVLMemory.insert(Unknown Source)
	at org.hsqldb.persist.RowStoreAVL.indexRow(Unknown Source)
	at org.hsqldb.TransactionManager2PL.addInsertAction(Unknown Source)
	at org.hsqldb.Session.addInsertAction(Unknown Source)
	at org.hsqldb.Table.insertSingleRow(Unknown Source)
	at org.hsqldb.StatementDML.insertSingleRow(Unknown Source)
	at org.hsqldb.StatementInsert.getResult(Unknown Source)
	at org.hsqldb.StatementDMQL.execute(Unknown Source)
	at org.hsqldb.Session.executeCompiledStatement(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 50 common frames omitted
04:09:09.027 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
04:09:09.039 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: facebookUsername
04:09:09.040 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='c9d3bef1-2c13-4650-937b-b53447792ac8', username='facebookUsername', firstName='firstName', lastName='lastName', personRef='null', email='e@mail.com', cellPhone='null'}, username=facebookUsername, appid=9999, role=WhydahDefaultUser
04:09:09.171 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='c9d3bef1-2c13-4650-937b-b53447792ac8', username='facebookUsername', firstName='firstName', lastName='lastName', personRef='null', email='e@mail.com', cellPhone='null'}
04:09:09.178 [main] WARN  n.w.i.u.a.UserAdminHelper - addDefaultRole - Role already exist. net.whydah.sso.user.types.UserApplicationRoleEntry@77dc18ab
04:09:09.178 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='c9d3bef1-2c13-4650-937b-b53447792ac8', username='facebookUsername', firstName='firstName', lastName='lastName', personRef='null', email='e@mail.com', cellPhone='null'}, username=facebookUsername, appid=9999, role=WhydahDefaultUser
04:09:09.179 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='c9d3bef1-2c13-4650-937b-b53447792ac8', username='facebookUsername', firstName='firstName', lastName='lastName', personRef='null', email='e@mail.com', cellPhone='null'}, username=facebookUsername, appid=7777, role=FBData
04:09:09.185 [main] ERROR n.w.s.u.mappers.UserIdentityMapper - Error parsing userIdentityJSON, using alternative structure 
04:09:09.190 [main] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [7777]
04:09:09.190 [main] INFO  n.w.i.u.a.UserAuthenticationEndpoint - Authentication ok for user with username=facebookUsername
04:09:09.199 [main] ERROR n.w.s.u.mappers.UserAggregateMapper - Error parsing userAggregateJSON {"uid":"c9d3bef1-2c13-4650-937b-b53447792ac8","username":"facebookUsername","firstName":"firstName","lastName":"lastName","personRef":"null","email":"e@mail.com","cellPhone":"null"}
com.jayway.jsonpath.PathNotFoundException: Missing property in path $['identity']
	at com.jayway.jsonpath.internal.path.PathToken.handleObjectProperty(PathToken.java:72)
	at com.jayway.jsonpath.internal.path.PropertyPathToken.evaluate(PropertyPathToken.java:79)
	at com.jayway.jsonpath.internal.path.RootPathToken.evaluate(RootPathToken.java:62)
	at com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:53)
	at com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:61)
	at com.jayway.jsonpath.JsonPath.read(JsonPath.java:187)
	at com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:164)
	at com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:151)
	at com.jayway.jsonpath.JsonPath.read(JsonPath.java:488)
	at net.whydah.sso.basehelpers.JsonPathHelper.getStringFromJsonpathExpression(JsonPathHelper.java:47)
	at net.whydah.sso.user.mappers.UserAggregateMapper.parseUserAggregateJson(UserAggregateMapper.java:123)
	at net.whydah.sso.user.mappers.UserAggregateMapper.fromJson(UserAggregateMapper.java:28)
	at net.whydah.sso.user.mappers.UserAggregateMapper.fromXML(UserAggregateMapper.java:308)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.testAuthenticateUsingFacebookCredentials(UserAuthenticationEndpointTest.java:264)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
04:09:09.199 [main] ERROR n.w.s.u.mappers.UserIdentityMapper - Error parsing userIdentityJSON, using alternative structure 
Request method:	POST
Request path:	http://localhost:9995/uib/someValidApplicationtokenid/authenticate/user
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/xml; charset=ISO-8859-1
Cookies:		<none>
Body:
<usercredential>
  <params>
    <username>systest</username>
    <password>systest42</password>
  </params>
</usercredential>
04:09:09.307 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:194
04:09:09.308 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/xml; charset=ISO-8859-1
04:09:09.308 [qtp1206162016-1463] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:09:09.309 [qtp1206162016-1463] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:09:09.313 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:09:09.321 [qtp1206162016-1463] WARN  n.w.i.u.identity.LdapAuthenticator - authenticateUser failed (returned null), because could not find userDN for username=systest
HTTP/1.1 403 Forbidden
Date: Tue, 09 Oct 2018 02:09:09 GMT
Content-Type: application/xml;charset=UTF-8
Content-Length: 66
Server: Jetty(9.4.0.M0)

<logonFailed/>
Request method:	POST
Request path:	http://localhost:9995/uib/notValidApplicationtokenid/authenticate/user
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/xml; charset=ISO-8859-1
Cookies:		<none>
Body:
<usercredential>
  <params>
    <username>testMe</username>
    <password>wrongPassword</password>
  </params>
</usercredential>
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:197
04:09:09.366 [qtp1206162016-1463] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/xml; charset=ISO-8859-1
04:09:09.366 [qtp1206162016-1463] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
04:09:09.367 [qtp1206162016-1463] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:09:09.369 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
04:09:09.374 [qtp1206162016-1463] WARN  n.w.i.u.identity.LdapAuthenticator - authenticateUser failed (returned null), because could not find userDN for username=testMe
HTTP/1.1 403 Forbidden
Date: Tue, 09 Oct 2018 02:09:09 GMT
Content-Type: application/xml;charset=UTF-8
Content-Length: 66
Server: Jetty(9.4.0.M0)

<logonFailed/>
04:09:09.381 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@71eaa40d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
04:09:09.383 [main] INFO  /uib - Closing Spring root WebApplicationContext
04:09:09.383 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Tue Oct 09 04:09:08 CEST 2018]; root of context hierarchy
04:09:09.384 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@de43651{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/classes/,UNAVAILABLE}
04:09:09.384 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
04:09:09.384 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
04:09:09.386 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:09.386 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
04:09:09.387 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
04:09:09.392 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/bootstrapdata/ldap
04:09:09.392 [pool-184-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
04:09:09.410 [main] INFO  hsqldb.db.HSQLDB665695CB20.ENGINE - Checkpoint start
04:09:09.410 [main] INFO  hsqldb.db.HSQLDB665695CB20.ENGINE - checkpointClose start
04:09:09.546 [main] INFO  hsqldb.db.HSQLDB665695CB20.ENGINE - checkpointClose end
04:09:09.546 [main] INFO  hsqldb.db.HSQLDB665695CB20.ENGINE - Checkpoint end - txts: 1
04:09:09.597 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/ApplicationDaoTest/hsqldb/roles (HSQL Database Engine 2.3)
04:09:09.599 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.000s)
04:09:09.599 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/ApplicationDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
04:09:09.603 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
04:09:09.604 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
04:09:09.607 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
04:09:09.607 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
04:09:09.610 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
04:09:09.613 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
04:09:09.616 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
04:09:09.620 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.016s).
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_ACS added item to index
thread_Simulated application 99 added item to index
thread_Simulated application 98 added item to index
thread_Simulated application 97 added item to index
thread_Simulated application 96 added item to index
thread_Simulated application 95 added item to index
thread_Simulated application 94 added item to index
thread_Simulated application 93 added item to index
thread_Simulated application 92 added item to index
thread_Simulated application 91 added item to index
thread_Simulated application 90 added item to index
thread_Simulated application 89 added item to index
thread_Simulated application 88 added item to index
thread_Simulated application 87 added item to index
thread_Simulated application 86 added item to index
thread_Simulated application 85 added item to index
thread_Simulated application 84 added item to index
thread_Simulated application 83 added item to index
thread_Simulated application 82 added item to index
thread_Simulated application 81 added item to index
thread_Simulated application 80 added item to index
thread_Simulated application 79 added item to index
thread_Simulated application 78 added item to index
thread_Simulated application 77 added item to index
thread_Simulated application 76 added item to index
thread_Simulated application 75 added item to index
thread_Simulated application 74 added item to index
thread_Simulated application 73 added item to index
thread_Simulated application 72 added item to index
thread_Simulated application 71 added item to index
thread_Simulated application 70 added item to index
thread_Simulated application 69 added item to index
thread_Simulated application 68 added item to index
thread_Simulated application 67 added item to index
04:09:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 12: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:12
04:09:16.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:16.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:16.721 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 13: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:16.721 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 13: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 66 added item to index
thread_Simulated application 65 added item to index
thread_Simulated application 64 added item to index
thread_Simulated application 63 added item to index
thread_Simulated application 62 added item to index
thread_Simulated application 61 added item to index
thread_Simulated application 60 added item to index
thread_Simulated application 59 added item to index
thread_Simulated application 58 added item to index
thread_Simulated application 57 added item to index
thread_Simulated application 56 added item to index
thread_Simulated application 55 added item to index
thread_Simulated application 54 added item to index
thread_Simulated application 53 added item to index
thread_Simulated application 52 added item to index
thread_Simulated application 51 added item to index
thread_Simulated application 50 added item to index
thread_Simulated application 49 added item to index
thread_Simulated application 48 added item to index
thread_Simulated application 47 added item to index
thread_Simulated application 46 added item to index
thread_Simulated application 45 added item to index
thread_Simulated application 44 added item to index
thread_Simulated application 43 added item to index
thread_Simulated application 42 added item to index
thread_Simulated application 41 added item to index
thread_Simulated application 40 added item to index
thread_Simulated application 39 added item to index
thread_Simulated application 38 added item to index
thread_Simulated application 37 added item to index
thread_Simulated application 36 added item to index
thread_Simulated application 35 added item to index
thread_Simulated application 34 added item to index
thread_Simulated application 33 added item to index
thread_Simulated application 32 added item to index
thread_Simulated application 31 added item to index
thread_Simulated application 30 added item to index
thread_Simulated application 29 added item to index
thread_Simulated application 28 added item to index
thread_Simulated application 27 added item to index
thread_Simulated application 26 added item to index
04:09:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 13: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:13
04:09:26.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:26.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:26.721 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 14: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:26.721 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 14: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 25 added item to index
thread_Simulated application 24 added item to index
thread_Simulated application 23 added item to index
thread_Simulated application 22 added item to index
thread_Simulated application 21 added item to index
thread_Simulated application 20 added item to index
thread_Simulated application 19 added item to index
thread_Simulated application 18 added item to index
thread_Simulated application 17 added item to index
thread_Simulated application 16 added item to index
thread_Simulated application 15 added item to index
thread_Simulated application 14 added item to index
thread_Simulated application 13 added item to index
thread_Simulated application 12 added item to index
thread_Simulated application 11 added item to index
thread_Simulated application 10 added item to index
thread_Simulated application 9 added item to index
thread_Simulated application 8 added item to index
thread_Simulated application 7 added item to index
thread_Simulated application 6 added item to index
thread_Simulated application 5 added item to index
thread_Simulated application 4 added item to index
thread_Simulated application 3 added item to index
thread_Simulated application 2 added item to index
thread_Simulated application 1 added item to index
thread_Simulated application 0 added item to index
thread_m2Circle added item to index
thread_Whydah-TestWebApplication added item to index
thread_Whydah-UserAdminWebApp added item to index
thread_Whydah-SSOLoginWebApp added item to index
thread_Whydah-UserAdminService added item to index
thread_Whydah-UserIdentityBackend added item to index
thread_ACSResource added item to index
thread_Whydah-SecurityTokenService added item to index
Thread count 109
Total records: 109
tear down after tests...
initializing before tests...
initialized
04:09:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 14: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:36.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:14
04:09:36.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:36.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:36.721 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 15: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:36.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 15: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_ACS added its item to the index
thread_Simulated application 99 added its item to the index
thread_Simulated application 99 removed its item out of the index list
thread_Simulated application 98 added its item to the index
thread_Simulated application 98 updated its item
thread_Simulated application 97 added its item to the index
thread_Simulated application 97 updated its item
thread_Simulated application 96 added its item to the index
thread_Simulated application 96 updated its item
thread_Simulated application 95 added its item to the index
thread_Simulated application 95 updated its item
thread_Simulated application 94 added its item to the index
thread_Simulated application 94 updated its item
thread_Simulated application 93 added its item to the index
thread_Simulated application 93 removed its item out of the index list
thread_Simulated application 92 added its item to the index
thread_Simulated application 92 removed its item out of the index list
thread_Simulated application 91 added its item to the index
thread_Simulated application 91 updated its item
thread_Simulated application 90 added its item to the index
thread_Simulated application 90 updated its item
thread_Simulated application 89 added its item to the index
thread_Simulated application 89 updated its item
thread_Simulated application 88 added its item to the index
thread_Simulated application 88 updated its item
thread_Simulated application 87 added its item to the index
thread_Simulated application 87 removed its item out of the index list
thread_Simulated application 86 added its item to the index
thread_Simulated application 86 updated its item
thread_Simulated application 85 added its item to the index
thread_Simulated application 85 updated its item
thread_Simulated application 84 added its item to the index
thread_Simulated application 84 removed its item out of the index list
thread_Simulated application 83 added its item to the index
thread_Simulated application 82 added its item to the index
thread_Simulated application 81 added its item to the index
thread_Simulated application 81 removed its item out of the index list
thread_Simulated application 80 added its item to the index
thread_Simulated application 79 added its item to the index
thread_Simulated application 79 removed its item out of the index list
thread_Simulated application 78 added its item to the index
thread_Simulated application 78 updated its item
thread_Simulated application 77 added its item to the index
thread_Simulated application 77 updated its item
thread_Simulated application 76 added its item to the index
thread_Simulated application 75 added its item to the index
thread_Simulated application 75 updated its item
thread_Simulated application 74 added its item to the index
thread_Simulated application 73 added its item to the index
thread_Simulated application 72 added its item to the index
thread_Simulated application 71 added its item to the index
thread_Simulated application 71 updated its item
thread_Simulated application 70 added its item to the index
thread_Simulated application 70 updated its item
thread_Simulated application 69 added its item to the index
thread_Simulated application 69 removed its item out of the index list
thread_Simulated application 68 added its item to the index
thread_Simulated application 67 added its item to the index
thread_Simulated application 66 added its item to the index
thread_Simulated application 65 added its item to the index
thread_Simulated application 65 updated its item
thread_Simulated application 64 added its item to the index
04:09:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 15: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:46.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:15
04:09:46.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:46.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:46.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 16: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:46.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 16: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 64 updated its item
thread_Simulated application 63 added its item to the index
thread_Simulated application 63 removed its item out of the index list
thread_Simulated application 62 added its item to the index
thread_Simulated application 62 removed its item out of the index list
thread_Simulated application 61 added its item to the index
thread_Simulated application 61 removed its item out of the index list
thread_Simulated application 60 added its item to the index
thread_Simulated application 59 added its item to the index
thread_Simulated application 59 removed its item out of the index list
thread_Simulated application 58 added its item to the index
thread_Simulated application 57 added its item to the index
thread_Simulated application 56 added its item to the index
thread_Simulated application 56 removed its item out of the index list
thread_Simulated application 55 added its item to the index
thread_Simulated application 54 added its item to the index
thread_Simulated application 54 updated its item
thread_Simulated application 53 added its item to the index
thread_Simulated application 53 updated its item
thread_Simulated application 52 added its item to the index
thread_Simulated application 52 updated its item
thread_Simulated application 51 added its item to the index
thread_Simulated application 50 added its item to the index
thread_Simulated application 50 removed its item out of the index list
thread_Simulated application 49 added its item to the index
thread_Simulated application 49 updated its item
thread_Simulated application 48 added its item to the index
thread_Simulated application 48 updated its item
thread_Simulated application 47 added its item to the index
thread_Simulated application 46 added its item to the index
thread_Simulated application 46 removed its item out of the index list
thread_Simulated application 45 added its item to the index
thread_Simulated application 44 added its item to the index
thread_Simulated application 44 removed its item out of the index list
thread_Simulated application 43 added its item to the index
thread_Simulated application 42 added its item to the index
thread_Simulated application 42 removed its item out of the index list
thread_Simulated application 41 added its item to the index
thread_Simulated application 40 added its item to the index
thread_Simulated application 40 updated its item
thread_Simulated application 39 added its item to the index
thread_Simulated application 39 removed its item out of the index list
thread_Simulated application 38 added its item to the index
thread_Simulated application 38 updated its item
thread_Simulated application 37 added its item to the index
thread_Simulated application 37 updated its item
thread_Simulated application 36 added its item to the index
thread_Simulated application 36 removed its item out of the index list
thread_Simulated application 35 added its item to the index
thread_Simulated application 34 added its item to the index
thread_Simulated application 34 removed its item out of the index list
thread_Simulated application 33 added its item to the index
04:09:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 16: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:09:56.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:16
04:09:56.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:09:56.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:09:56.721 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 17: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:09:56.721 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 17: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 33 updated its item
thread_Simulated application 32 added its item to the index
thread_Simulated application 32 updated its item
thread_Simulated application 31 added its item to the index
thread_Simulated application 31 removed its item out of the index list
thread_Simulated application 30 added its item to the index
thread_Simulated application 30 updated its item
thread_Simulated application 29 added its item to the index
thread_Simulated application 28 added its item to the index
thread_Simulated application 28 removed its item out of the index list
thread_Simulated application 27 added its item to the index
thread_Simulated application 26 added its item to the index
thread_Simulated application 25 added its item to the index
thread_Simulated application 24 added its item to the index
thread_Simulated application 24 removed its item out of the index list
thread_Simulated application 23 added its item to the index
thread_Simulated application 23 removed its item out of the index list
thread_Simulated application 22 added its item to the index
thread_Simulated application 22 removed its item out of the index list
thread_Simulated application 21 added its item to the index
thread_Simulated application 21 removed its item out of the index list
thread_Simulated application 20 added its item to the index
thread_Simulated application 20 updated its item
thread_Simulated application 19 added its item to the index
thread_Simulated application 19 updated its item
thread_Simulated application 18 added its item to the index
thread_Simulated application 17 added its item to the index
thread_Simulated application 16 added its item to the index
thread_Simulated application 15 added its item to the index
thread_Simulated application 15 removed its item out of the index list
thread_Simulated application 14 added its item to the index
thread_Simulated application 13 added its item to the index
thread_Simulated application 12 added its item to the index
thread_Simulated application 11 added its item to the index
thread_Simulated application 11 updated its item
thread_Simulated application 10 added its item to the index
thread_Simulated application 9 added its item to the index
thread_Simulated application 8 added its item to the index
thread_Simulated application 7 added its item to the index
thread_Simulated application 7 removed its item out of the index list
thread_Simulated application 6 added its item to the index
thread_Simulated application 5 added its item to the index
thread_Simulated application 4 added its item to the index
thread_Simulated application 4 removed its item out of the index list
thread_Simulated application 3 added its item to the index
thread_Simulated application 2 added its item to the index
thread_Simulated application 1 added its item to the index
04:10:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 17: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:10:06.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:17
04:10:06.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:10:06.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:10:06.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 18: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:10:06.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 18: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 1 updated its item
thread_Simulated application 0 added its item to the index
thread_m2Circle added its item to the index
thread_m2Circle updated its item
thread_Whydah-TestWebApplication added its item to the index
thread_Whydah-TestWebApplication removed its item out of the index list
thread_Whydah-UserAdminWebApp added its item to the index
thread_Whydah-SSOLoginWebApp added its item to the index
thread_Whydah-SSOLoginWebApp removed its item out of the index list
thread_Whydah-UserAdminService added its item to the index
thread_Whydah-SecurityTokenService added its item to the index
thread_Whydah-SecurityTokenService removed its item out of the index list
thread_Whydah-UserIdentityBackend added its item to the index
thread_Whydah-UserIdentityBackend removed its item out of the index list
thread_ACSResource added its item to the index
thread_Whydah-UserAdminService updated its item
thread_Whydah-UserAdminWebApp updated its item
thread_Simulated application 0 removed its item out of the index list
thread_Simulated application 2 updated its item
thread_Simulated application 3 removed its item out of the index list
thread_Simulated application 5 updated its item
thread_Simulated application 6 updated its item
thread_Simulated application 8 updated its item
thread_Simulated application 9 updated its item
thread_Simulated application 10 removed its item out of the index list
thread_Simulated application 12 updated its item
thread_Simulated application 13 updated its item
thread_Simulated application 14 removed its item out of the index list
thread_Simulated application 16 removed its item out of the index list
thread_Simulated application 17 updated its item
thread_Simulated application 18 updated its item
thread_Simulated application 25 updated its item
thread_Simulated application 26 updated its item
thread_Simulated application 27 updated its item
thread_Simulated application 29 updated its item
thread_Simulated application 35 updated its item
thread_Simulated application 41 removed its item out of the index list
thread_Simulated application 43 updated its item
thread_Simulated application 45 updated its item
thread_Simulated application 47 updated its item
thread_Simulated application 51 updated its item
thread_Simulated application 55 updated its item
thread_Simulated application 57 updated its item
thread_Simulated application 58 updated its item
thread_Simulated application 60 updated its item
04:10:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 18: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:10:16.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:18
04:10:16.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:10:16.722 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:10:16.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 19: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:10:16.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 19: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 66 updated its item
thread_Simulated application 67 updated its item
thread_Simulated application 68 updated its item
thread_Simulated application 72 updated its item
thread_Simulated application 73 updated its item
thread_Simulated application 74 updated its item
thread_Simulated application 76 removed its item out of the index list
thread_Simulated application 80 updated its item
thread_Simulated application 82 removed its item out of the index list
thread_Simulated application 83 updated its item
thread_ACS updated its item
thread_ACSResource updated its item
Thread count 109
Total items updated: 68
Total items removed: 41
Total records (exlude deletion): 68
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
04:10:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 19: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
04:10:26.718 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:19
04:10:26.721 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
04:10:26.721 [pool-34-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

04:10:26.722 [pool-34-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 20: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
04:10:26.722 [pool-34-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 20: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
{"id":"appId1","name":"applicationName1","description":"description of application","company":"","tags":"","applicationUrl":"https://webtest.exapmle.com/test.png","logoUrl":"https://webtest.example.com","roles":[{"id":"roleId1","name":"roleName1"}],"defaultRoleName":"roleName1","organizationNames":[{"id":"orgId","name":"organizationName1"},{"id":"orgidxx","name":"defaultOrgName"}],"defaultOrganizationName":"defaultOrgName","security":{"minSecurityLevel":"0","minimumDEFCONLevel":"DEFCON5","maxSessionTimeoutSeconds":"15724800000","allowedIpAddresses":["0.0.0.0/0"],"userTokenFilter":true,"whydahUASAccess":false,"secret":"veryVerySecret","whydahAdmin":false},"supportedUserSessionLevels":[],"acl":[{"applicationId":"11","applicationACLPath":"/user","accessRights":["READ"]}],"minimumApplicationDEFCON":"DEFCON5","orgs":[{"id":"orgId","name":"organizationName1"},{"id":"orgidxx","name":"defaultOrgName"}]}
04:10:34.956 [main] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
04:10:34.977 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
Tests run: 105, Failures: 1, Errors: 0, Skipped: 2, Time elapsed: 283.375 sec <<< FAILURE! - in TestSuite
testAuthenticateUserOK on testAuthenticateUserOK(net.whydah.identity.user.authentication.UserAuthenticationEndpointTest)(net.whydah.identity.user.authentication.UserAuthenticationEndpointTest)  Time elapsed: 0.064 sec  <<< FAILURE!
java.lang.AssertionError: 1 expectation failed.
Expected status code <200> doesn't match actual status code <403>.

	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:80)
	at org.codehaus.groovy.reflection.CachedConstructor.doConstructorInvoke(CachedConstructor.java:74)
	at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrap.callConstructor(ConstructorSite.java:84)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:60)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:235)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:247)
	at com.jayway.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:598)
	at com.jayway.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)
	at com.jayway.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1597)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1210)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)
	at com.jayway.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)
	at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:48)
	at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:58)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:182)
	at com.jayway.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:164)
	at com.jayway.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1210)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)
	at com.jayway.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)
	at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:48)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:133)
	at com.jayway.restassured.internal.ResponseSpecificationImpl.post(ResponseSpecificationImpl.groovy:293)
	at com.jayway.restassured.internal.ResponseSpecificationImpl.post(ResponseSpecificationImpl.groovy)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.testAuthenticateUserOK(UserAuthenticationEndpointTest.java:190)


Results :

Failed tests: 
  UserAuthenticationEndpointTest.testAuthenticateUserOK:190 1 expectation failed.
Expected status code <200> doesn't match actual status code <403>.


Tests run: 105, Failures: 1, Errors: 0, Skipped: 2

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 04:47 min
[INFO] Finished at: 2018-10-09T04:10:35+02:00
[INFO] Final Memory: 24M/400M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project UserIdentityBackend: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/Cantara/Whydah-UserIdentityBackend/438931615/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
