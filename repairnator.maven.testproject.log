[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Portal-Core 2.1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.3:create (default) @ portal-core ---
[INFO] Executing: /bin/sh -c cd /root/workspace/AuScope/portal-core/433814083 && git rev-parse --verify HEAD
[INFO] Working directory: /root/workspace/AuScope/portal-core/433814083
[INFO] Storing buildNumber: a94673611757009ede7aa790121f2cf7bd0f9bfe at timestamp: 02-10-2018 04:30
[WARNING] Cannot get the branch information from the git repository: 
Detecting the current branch failed: fatal: ref HEAD is not a symbolic ref

[INFO] Executing: /bin/sh -c cd /root/workspace/AuScope/portal-core/433814083 && git rev-parse --verify HEAD
[INFO] Working directory: /root/workspace/AuScope/portal-core/433814083
[INFO] Storing buildScmBranch: UNKNOWN
[INFO] 
[INFO] --- jacoco-maven-plugin:0.8.0:prepare-agent (default) @ portal-core ---
[INFO] argLine set to -javaagent:/root/./workspace/AuScope/portal-core/433814083/.m2/org/jacoco/org.jacoco.agent/0.8.0/org.jacoco.agent-0.8.0-runtime.jar=destfile=/root/workspace/AuScope/portal-core/433814083/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ portal-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 48 resources
[INFO] Copying 5174 resources
[INFO] 
[INFO] --- minify-maven-plugin:1.7.4:minify (default-minify) @ portal-core ---
[INFO] Starting CSS task:
[INFO] Processing source file [auscope-portal-core.css].
[INFO] Processing source file [menu.css].
[INFO] Processing source file [portal-ux.css].
[INFO] Processing source file [styles.css].
[INFO] Creating the merged file [portal-core-all.css].
[INFO] Creating the minified file [portal-core-all.min.css].
[INFO] Uncompressed size: 10581 bytes.
[INFO] Compressed size: 7743 bytes minified (2075 bytes gzipped).
[INFO] 
[INFO] Starting JavaScript task:
[INFO] Processing source file [3DScatterPlot.js].
[INFO] Processing source file [AbstractChild.js].
[INFO] Processing source file [AccordianDefault.js].
[INFO] Processing source file [ActiveLayerManager.js].
[INFO] Processing source file [ActivePreRenderTabPanel.js].
[INFO] Processing source file [Ajax.js].
[INFO] Processing source file [Base64.js].
[INFO] Processing source file [BaseComponent.js].
[INFO] Processing source file [BaseComponent.js].
[INFO] Processing source file [BaseD3Chart.js].
[INFO] Processing source file [BaseFactory.js].
[INFO] Processing source file [BaseFactory.js].
[INFO] Processing source file [BaseFilterForm.js].
[INFO] Processing source file [BaseMap.js].
[INFO] Processing source file [BasePrimitive.js].
[INFO] Processing source file [BasePrimitiveManager.js].
[INFO] Processing source file [BaseRecordPanel.js].
[INFO] Processing source file [BaseSerializer.js].
[INFO] Processing source file [BaseWMSPrimitive.js].
[INFO] Processing source file [BBox.js].
[INFO] Processing source file [BBoxType.js].
[INFO] Processing source file [BrowserWindowWithWarning.js].
[INFO] Processing source file [CellTips.js].
[INFO] Processing source file [ClearableComboBox.js].
[INFO] Processing source file [ClearableTextField.js].
[INFO] Processing source file [ClickableImage.js].
[INFO] Processing source file [ClickColumn.js].
[INFO] Processing source file [ClickControl.js].
[INFO] Processing source file [ClickController.js].
[INFO] Processing source file [ClientSearchField.js].
[INFO] Processing source file [CollapsedAccordianLayout.js].
[INFO] Processing source file [CommonBaseRecordPanel.js].
[INFO] Processing source file [Compatibility.js].
[INFO] Processing source file [CSWConstraintsPanel.js].
[INFO] Processing source file [CSWFilterFormPanel.js].
[INFO] Processing source file [CSWFilterWindow.js].
[INFO] Processing source file [CSWLegend.js].
[INFO] Processing source file [CSWMetadataPanel.js].
[INFO] Processing source file [CSWQuerier.js].
[INFO] Processing source file [CSWRecord.js].
[INFO] Processing source file [CSWRecordConstraintsWindow.js].
[INFO] Processing source file [CSWRecordDescriptionWindow.js].
[INFO] Processing source file [CSWRecordMetadataWindow.js].
[INFO] Processing source file [CSWRecordPagingPanel.js].
[INFO] Processing source file [CSWRecordPanel.js].
[INFO] Processing source file [CSWRecordType.js].
[INFO] Processing source file [CSWRenderer.js].
[INFO] Processing source file [CSWReportPagingPanel.js].
[INFO] Processing source file [CSWSelectionWindow.js].
[INFO] Processing source file [CSWServices.js].
[INFO] Processing source file [CustomRegistryModel.js].
[INFO] Processing source file [CustomRegistryTreeGrid.js].
[INFO] Processing source file [DataDisplayField.js].
[INFO] Processing source file [DeserializationHandler.js].
[INFO] Processing source file [DisjunctionLayerRenderer.js].
[INFO] Processing source file [Downloader.js].
[INFO] Processing source file [DownloaderFactory.js].
[INFO] Processing source file [EmptyFilterForm.js].
[INFO] Processing source file [ErrorWindow.js].
[INFO] Processing source file [FeatureDownloadManager.js].
[INFO] Processing source file [FeatureRenderer.js].
[INFO] Processing source file [FeatureSource.js].
[INFO] Processing source file [FeatureWithLocationHandler.js].
[INFO] Processing source file [FeatureWithMapRenderer.js].
[INFO] Processing source file [FileDownloader.js].
[INFO] Processing source file [Filterer.js].
[INFO] Processing source file [FilterPanel.js].
[INFO] Processing source file [FilterPanelMenuFactory.js].
[INFO] Processing source file [FormFactory.js].
[INFO] Processing source file [GmapSubsetControl.js].
[INFO] Processing source file [GMLParser.js].
[INFO] Processing source file [GoogleAnalytic.js].
[INFO] Processing source file [GoogleMap.js].
[INFO] Processing source file [GroupPanel.js].
[INFO] Processing source file [GWMSTileLayer.js].
[INFO] Processing source file [HeaderIcons.js].
[INFO] Processing source file [Icon.js].
[INFO] Processing source file [ImageDisplayField.js].
[INFO] Processing source file [InlineContextMenu.js].
[INFO] Processing source file [Instruction.js].
[INFO] Processing source file [InstructionManager.js].
[INFO] Processing source file [KLWFSDownloader.js].
[INFO] Processing source file [KMLParser.js].
[INFO] Processing source file [KMLRenderer.js].
[INFO] Processing source file [KnownLayer.js].
[INFO] Processing source file [KnownLayerPanel.js].
[INFO] Processing source file [KnownLayerParser.js].
[INFO] Processing source file [Layer.js].
[INFO] Processing source file [LayerFactory.js].
[INFO] Processing source file [LayerPanel.js].
[INFO] Processing source file [LayerRenderer.js].
[INFO] Processing source file [LayerStore.js].
[INFO] Processing source file [Legend.js].
[INFO] Processing source file [MapStateSerializer.js].
[INFO] Processing source file [Marker.js].
[INFO] Processing source file [Marker.js].
[INFO] Processing source file [Marker.js].
[INFO] Processing source file [ObservableMap.js].
[INFO] Processing source file [OnlineResource.js].
[INFO] Processing source file [OnlineResourcesPanel.js].
[INFO] Processing source file [OnlineResourceType.js].
[INFO] Processing source file [OPeNDAPDownloader.js].
[INFO] Processing source file [OpenLayersMap.js].
[INFO] Processing source file [Parser.js].
[INFO] Processing source file [PermanentLinkWindow.js].
[INFO] Processing source file [PiwikAnalytic.js].
[INFO] Processing source file [Point.js].
[INFO] Processing source file [Polygon.js].
[INFO] Processing source file [Polygon.js].
[INFO] Processing source file [Polygon.js].
[INFO] Processing source file [Polyline.js].
[INFO] Processing source file [Polyline.js].
[INFO] Processing source file [Polyline.js].
[INFO] Processing source file [PrimitiveManager.js].
[INFO] Processing source file [PrimitiveManager.js].
[INFO] Processing source file [ProviderNameTransformer.js].
[INFO] Processing source file [Querier.js].
[INFO] Processing source file [QuerierFactory.js].
[INFO] Processing source file [QueryTarget.js].
[INFO] Processing source file [QueryTargetHandler.js].
[INFO] Processing source file [RecordPanel.js].
[INFO] Processing source file [RenderableCheckColumn.js].
[INFO] Processing source file [RenderDebuggerData.js].
[INFO] Processing source file [Renderer.js].
[INFO] Processing source file [RendererFactory.js].
[INFO] Processing source file [RenderStatus.js].
[INFO] Processing source file [RowContextMenu.js].
[INFO] Processing source file [RowExpanderContainer.js].
[INFO] Processing source file [RowPanel.js].
[INFO] Processing source file [SelectableGrid.js].
[INFO] Processing source file [SerializerV0.js].
[INFO] Processing source file [SerializerV1.js].
[INFO] Processing source file [SerializerV2.js].
[INFO] Processing source file [SerializerV3.js].
[INFO] Processing source file [SerializerV4.js].
[INFO] Processing source file [SimpleDOM.js].
[INFO] Processing source file [SimpleFactory.js].
[INFO] Processing source file [SimpleXPath.js].
[INFO] Processing source file [Size.js].
[INFO] Processing source file [TileInformation.js].
[INFO] Processing source file [UnimplementedFunction.js].
[INFO] Processing source file [URL.js].
[INFO] Processing source file [WCSDownloader.js].
[INFO] Processing source file [WCSQuerier.js].
[INFO] Processing source file [WFSDownloader.js].
[INFO] Processing source file [WFSFeatureByPropertySource.js].
[INFO] Processing source file [WFSFeatureSource.js].
[INFO] Processing source file [WFSLegend.js].
[INFO] Processing source file [WFSQuerier.js].
[INFO] Processing source file [WFSWithMapQuerier.js].
[INFO] Processing source file [WMSCustomSearchField.js].
[INFO] Processing source file [WMSDownloader.js].
[INFO] Processing source file [WMSLayerFilterForm.js].
[INFO] Processing source file [WMSLegend.js].
[INFO] Processing source file [WMSLegendForm.js].
[INFO] Processing source file [WMSMultipleTabDisplayQuerier.js].
[INFO] Processing source file [WMSOverlay.js].
[INFO] Processing source file [WMSOverlay.js].
[INFO] Processing source file [WMSQuerier.js].
[INFO] Processing source file [WMSXMLFormatQuerier.js].
[INFO] Creating the merged file [portal-core-all.js].
[INFO] Creating the minified file [portal-core-all.min.js].
[INFO] Uncompressed size: 809228 bytes.
[INFO] Compressed size: 279704 bytes minified (73965 bytes gzipped).
[INFO] 
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ portal-core ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 230 source files to /root/workspace/AuScope/portal-core/433814083/target/classes
[INFO] /root/workspace/AuScope/portal-core/433814083/src/main/java/org/auscope/portal/core/server/http/HttpClientResponse.java: Some input files use or override a deprecated API.
[INFO] /root/workspace/AuScope/portal-core/433814083/src/main/java/org/auscope/portal/core/server/http/HttpClientResponse.java: Recompile with -Xlint:deprecation for details.
[INFO] /root/workspace/AuScope/portal-core/433814083/src/main/java/org/auscope/portal/core/server/controllers/CSWFilterController.java: Some input files use unchecked or unsafe operations.
[INFO] /root/workspace/AuScope/portal-core/433814083/src/main/java/org/auscope/portal/core/server/controllers/CSWFilterController.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-jar-plugin:2.5:jar (make-a-jar) @ portal-core ---
[INFO] Building jar: /root/workspace/AuScope/portal-core/433814083/target/portal-core-2.1.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ portal-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ portal-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ portal-core ---
[INFO] Surefire report directory: /root/workspace/AuScope/portal-core/433814083/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom (3 KB at 7.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom (3 KB at 69.0 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar (67 KB at 922.1 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.auscope.portal.core.xslt.TestResourceURIResolver
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec - in org.auscope.portal.core.xslt.TestResourceURIResolver
Running org.auscope.portal.core.xslt.TestGmlToHtml
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.755 sec - in org.auscope.portal.core.xslt.TestGmlToHtml
Running org.auscope.portal.core.xslt.TestPortalXSLTTransformer
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.53 sec - in org.auscope.portal.core.xslt.TestPortalXSLTTransformer
Running org.auscope.portal.core.server.controllers.TestGetCapabilitiesController
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.062 sec - in org.auscope.portal.core.server.controllers.TestGetCapabilitiesController
Running org.auscope.portal.core.server.controllers.TestBasePortalController
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.09 sec - in org.auscope.portal.core.server.controllers.TestBasePortalController
Running org.auscope.portal.core.server.controllers.TestBaseCSWController
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in org.auscope.portal.core.server.controllers.TestBaseCSWController
Running org.auscope.portal.core.server.controllers.TestCSWFilterController
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.118 sec - in org.auscope.portal.core.server.controllers.TestCSWFilterController
Running org.auscope.portal.core.server.controllers.TestDownloadController
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.683 sec - in org.auscope.portal.core.server.controllers.TestDownloadController
Running org.auscope.portal.core.server.controllers.TestWfsController
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec - in org.auscope.portal.core.server.controllers.TestWfsController
Running org.auscope.portal.core.server.controllers.TestWCSController
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.154 sec - in org.auscope.portal.core.server.controllers.TestWCSController
Running org.auscope.portal.core.server.http.download.TestServiceDownloadManager
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.027 sec - in org.auscope.portal.core.server.http.download.TestServiceDownloadManager
Running org.auscope.portal.core.server.http.download.TestDownloadTracker
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.013 sec - in org.auscope.portal.core.server.http.download.TestDownloadTracker
Running org.auscope.portal.core.server.http.TestHttpServiceCaller
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.03 sec - in org.auscope.portal.core.server.http.TestHttpServiceCaller
Running org.auscope.portal.core.server.http.TestDistributedHTTPServiceCaller
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.727 sec - in org.auscope.portal.core.server.http.TestDistributedHTTPServiceCaller
Running org.auscope.portal.core.server.OgcServiceProviderTypeTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.server.OgcServiceProviderTypeTest
Running org.auscope.portal.core.services.methodmakers.TestCSWMethodMakerGetDataRecords
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.062 sec - in org.auscope.portal.core.services.methodmakers.TestCSWMethodMakerGetDataRecords
Running org.auscope.portal.core.services.methodmakers.filter.TestAbstractFilter
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in org.auscope.portal.core.services.methodmakers.filter.TestAbstractFilter
Running org.auscope.portal.core.services.methodmakers.filter.csw.TestCSWGetDataRecordsFilter
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.methodmakers.filter.csw.TestCSWGetDataRecordsFilter
Running org.auscope.portal.core.services.methodmakers.filter.TestFilterBoundingBox
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.services.methodmakers.filter.TestFilterBoundingBox
Running org.auscope.portal.core.services.methodmakers.TestWFSGetFeatureMethodMaker
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in org.auscope.portal.core.services.methodmakers.TestWFSGetFeatureMethodMaker
Running org.auscope.portal.core.services.methodmakers.TestSOSMethodMaker
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.119 sec - in org.auscope.portal.core.services.methodmakers.TestSOSMethodMaker
Running org.auscope.portal.core.services.methodmakers.sissvoc.TestSISSVoc3MethodMaker
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.services.methodmakers.sissvoc.TestSISSVoc3MethodMaker
Running org.auscope.portal.core.services.methodmakers.sissvoc.TestSISSVoc2MethodMaker
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in org.auscope.portal.core.services.methodmakers.sissvoc.TestSISSVoc2MethodMaker
Running org.auscope.portal.core.services.methodmakers.TestWMSMethodMaker
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 sec - in org.auscope.portal.core.services.methodmakers.TestWMSMethodMaker
Running org.auscope.portal.core.services.methodmakers.TestOPeNDAPGetDataMethodMaker
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.2 sec - in org.auscope.portal.core.services.methodmakers.TestOPeNDAPGetDataMethodMaker
Running org.auscope.portal.core.services.methodmakers.TestAbstractMethodMaker
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.services.methodmakers.TestAbstractMethodMaker
Running org.auscope.portal.core.services.methodmakers.TestWCSMethodMakerDescribeCoverage
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.services.methodmakers.TestWCSMethodMakerDescribeCoverage
Running org.auscope.portal.core.services.methodmakers.TestWCSMethodMakerGetCoverage
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 sec - in org.auscope.portal.core.services.methodmakers.TestWCSMethodMakerGetCoverage
Running org.auscope.portal.core.services.methodmakers.TestVocabularyMethodMaker
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.services.methodmakers.TestVocabularyMethodMaker
Running org.auscope.portal.core.services.TestOpendapService
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec - in org.auscope.portal.core.services.TestOpendapService
Running org.auscope.portal.core.services.KnownLayerServiceTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec - in org.auscope.portal.core.services.KnownLayerServiceTest
Running org.auscope.portal.core.services.cloud.monitor.TestJobStatusException
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.cloud.monitor.TestJobStatusException
Running org.auscope.portal.core.services.cloud.monitor.TestJobStatusMonitor
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec - in org.auscope.portal.core.services.cloud.monitor.TestJobStatusMonitor
Running org.auscope.portal.core.services.cloud.TestCloudComputeServiceAws
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.625 sec - in org.auscope.portal.core.services.cloud.TestCloudComputeServiceAws
Running org.auscope.portal.core.services.cloud.TestCloudComputeService
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.167 sec - in org.auscope.portal.core.services.cloud.TestCloudComputeService
Running org.auscope.portal.core.services.cloud.TestFileStagingService
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec - in org.auscope.portal.core.services.cloud.TestFileStagingService
Running org.auscope.portal.core.services.cloud.TestCloudStorageService
Tests run: 10, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.2 sec <<< FAILURE! - in org.auscope.portal.core.services.cloud.TestCloudStorageService
testDeleteJobFiles(org.auscope.portal.core.services.cloud.TestCloudStorageService)  Time elapsed: 0.011 sec  <<< FAILURE!
java.lang.AssertionError: unexpected invocation: blobStore.blobExists("bucket-name", "job/base/key")
expectations:
  allowed, already invoked 1 time: blobStoreContext.getBlobStore(); returns <blobStore>
  expected once, never invoked: blobStore.deleteDirectory("bucket-name", "job/base/key")
  expected once, already invoked 1 time: blobStoreContext.close()
what happened before this:
  blobStoreContext.getBlobStore()
  blobStoreContext.close()

	at org.jmock.api.ExpectationError.unexpected(ExpectationError.java:23)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:85)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.jclouds.blobstore.BlobStore$$EnhancerByCGLIB$$9b5c0578.blobExists(<generated>)
	at org.auscope.portal.core.services.cloud.CloudStorageServiceJClouds.deleteJobFiles(CloudStorageServiceJClouds.java:504)
	at org.auscope.portal.core.services.cloud.TestCloudStorageService.testDeleteJobFiles(TestCloudStorageService.java:357)

Running org.auscope.portal.core.services.TestSOSService
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in org.auscope.portal.core.services.TestSOSService
Running org.auscope.portal.core.services.responses.csw.TestCSWGeographicBoundingBox
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.services.responses.csw.TestCSWGeographicBoundingBox
Running org.auscope.portal.core.services.responses.csw.TestCSWGetCapabilities
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec - in org.auscope.portal.core.services.responses.csw.TestCSWGetCapabilities
Running org.auscope.portal.core.services.responses.csw.TestCSWGetRecordResponse
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.25 sec - in org.auscope.portal.core.services.responses.csw.TestCSWGetRecordResponse
Running org.auscope.portal.core.services.responses.csw.TestCSWRecordTransformer
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.769 sec - in org.auscope.portal.core.services.responses.csw.TestCSWRecordTransformer
Running org.auscope.portal.core.services.responses.csw.TestCSWRecord
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.responses.csw.TestCSWRecord
Running org.auscope.portal.core.services.responses.csw.TestCSWGetDomainResponse
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec - in org.auscope.portal.core.services.responses.csw.TestCSWGetDomainResponse
Running org.auscope.portal.core.services.responses.opendap.TestViewVariableFactory
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.255 sec - in org.auscope.portal.core.services.responses.opendap.TestViewVariableFactory
Running org.auscope.portal.core.services.responses.vocab.TestConcept
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.responses.vocab.TestConcept
Running org.auscope.portal.core.services.responses.vocab.TestDescriptionFactory
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in org.auscope.portal.core.services.responses.vocab.TestDescriptionFactory
Running org.auscope.portal.core.services.responses.vocab.TestDescription
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.services.responses.vocab.TestDescription
Running org.auscope.portal.core.services.responses.vocab.TestConceptFactory
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.062 sec - in org.auscope.portal.core.services.responses.vocab.TestConceptFactory
Running org.auscope.portal.core.services.responses.vocab.TestNamedIndividual
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.responses.vocab.TestNamedIndividual
Running org.auscope.portal.core.services.responses.ows.TestOWSExceptionParser
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec - in org.auscope.portal.core.services.responses.ows.TestOWSExceptionParser
Running org.auscope.portal.core.services.responses.wcs.TestDescribeCoverageRecord
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in org.auscope.portal.core.services.responses.wcs.TestDescribeCoverageRecord
Running org.auscope.portal.core.services.responses.wcs.TestResolution
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.services.responses.wcs.TestResolution
Running org.auscope.portal.core.services.responses.wcs.TestTimeConstraints
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.services.responses.wcs.TestTimeConstraints
Running org.auscope.portal.core.services.responses.wms.TestGetCapabilitiesRecord
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.132 sec - in org.auscope.portal.core.services.responses.wms.TestGetCapabilitiesRecord
Running org.auscope.portal.core.services.TestVocabularyFilterService
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.361 sec - in org.auscope.portal.core.services.TestVocabularyFilterService
Running org.auscope.portal.core.services.TestSISSVoc3Service
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.453 sec - in org.auscope.portal.core.services.TestSISSVoc3Service
Running org.auscope.portal.core.services.TestCSWFilterService
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.027 sec - in org.auscope.portal.core.services.TestCSWFilterService
Running org.auscope.portal.core.services.TestKnownLayerService
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec - in org.auscope.portal.core.services.TestKnownLayerService
Running org.auscope.portal.core.services.TestSISSVoc2Service
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.02 sec - in org.auscope.portal.core.services.TestSISSVoc2Service
Running org.auscope.portal.core.services.TestCSWCacheService
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 30.542 sec - in org.auscope.portal.core.services.TestCSWCacheService
Running org.auscope.portal.core.services.TestWMSService
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.279 sec - in org.auscope.portal.core.services.TestWMSService
Running org.auscope.portal.core.services.namespaces.TestCSWNamespaceContext
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.services.namespaces.TestCSWNamespaceContext
Running org.auscope.portal.core.services.namespaces.TestIterableNamespace
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.services.namespaces.TestIterableNamespace
Running org.auscope.portal.core.services.TestBaseWFSService
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.318 sec - in org.auscope.portal.core.services.TestBaseWFSService
Running org.auscope.portal.core.services.TestGeonetworkService
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.04 sec - in org.auscope.portal.core.services.TestGeonetworkService
Running org.auscope.portal.core.services.TestVocabularyCacheService
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.63 sec - in org.auscope.portal.core.services.TestVocabularyCacheService
Running org.auscope.portal.core.services.TestCSWService
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.002 sec - in org.auscope.portal.core.services.TestCSWService
Running org.auscope.portal.core.services.TestNagios4Service
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in org.auscope.portal.core.services.TestNagios4Service
Running org.auscope.portal.core.services.TestVocabularyService
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.247 sec - in org.auscope.portal.core.services.TestVocabularyService
Running org.auscope.portal.core.services.TestWFSService
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 sec - in org.auscope.portal.core.services.TestWFSService
Running org.auscope.portal.core.services.admin.TestAdminService
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.101 sec - in org.auscope.portal.core.services.admin.TestAdminService
Running org.auscope.portal.core.services.admin.TestEndpointAndSelector
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.services.admin.TestEndpointAndSelector
Running org.auscope.portal.core.services.TestWCSService
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.02 sec - in org.auscope.portal.core.services.TestWCSService
Running org.auscope.portal.core.util.TestSLDLoader
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.util.TestSLDLoader
Running org.auscope.portal.core.util.TestMimeUtil
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.util.TestMimeUtil
Running org.auscope.portal.core.util.TestDateUtil
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.util.TestDateUtil
Running org.auscope.portal.core.util.TestDOMUtil
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in org.auscope.portal.core.util.TestDOMUtil
Running org.auscope.portal.core.util.TestTextUtil
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.util.TestTextUtil
Running org.auscope.portal.core.util.TestHttpUtil
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.util.TestHttpUtil
Running org.auscope.portal.core.util.TestCSVUtil
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.util.TestCSVUtil
Running org.auscope.portal.core.util.TestFileIOUtil
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in org.auscope.portal.core.util.TestFileIOUtil
Running org.auscope.portal.core.view.knownlayer.RelationTypeTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.auscope.portal.core.view.knownlayer.RelationTypeTest
Running org.auscope.portal.core.view.knownlayer.TestKnownLayerSelectors
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in org.auscope.portal.core.view.knownlayer.TestKnownLayerSelectors
Running org.auscope.portal.core.view.TestViewKnownLayerFactory
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec - in org.auscope.portal.core.view.TestViewKnownLayerFactory
Running org.auscope.portal.core.view.TestViewCSWRecordFactory
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.048 sec - in org.auscope.portal.core.view.TestViewCSWRecordFactory
Running org.auscope.portal.core.uifilter.TestGenericFilter
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in org.auscope.portal.core.uifilter.TestGenericFilter
Running org.auscope.portal.core.cloud.TestStagedFile
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.auscope.portal.core.cloud.TestStagedFile

Results :

Failed tests: 
  TestCloudStorageService.testDeleteJobFiles:357 unexpected invocation: blobStore.blobExists("bucket-name", "job/base/key")
expectations:
  allowed, already invoked 1 time: blobStoreContext.getBlobStore(); returns <blobStore>
  expected once, never invoked: blobStore.deleteDirectory("bucket-name", "job/base/key")
  expected once, already invoked 1 time: blobStoreContext.close()
what happened before this:
  blobStoreContext.getBlobStore()
  blobStoreContext.close()


Tests run: 372, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:33 min
[INFO] Finished at: 2018-10-02T04:32:20+02:00
[INFO] Final Memory: 52M/715M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project portal-core: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/AuScope/portal-core/433814083/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
