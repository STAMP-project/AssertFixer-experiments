[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for net.whydah.identity:UserIdentityBackend:jar:2.5.1-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: commons-collections:commons-collections:jar -> duplicate declaration of version 3.2.2 @ line 499, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building UserIdentityBackend 2.5.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ UserIdentityBackend ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 38 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ UserIdentityBackend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ UserIdentityBackend ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 10 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.3:testCompile (default-testCompile) @ UserIdentityBackend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ UserIdentityBackend ---
[INFO] Surefire report directory: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.pom (4 KB at 5.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom (3 KB at 118.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.pom (2 KB at 60.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.pom (3 KB at 131.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.pom (3 KB at 121.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/testng/testng/5.7/testng-5.7.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/testng/testng/5.7/testng-5.7.pom (12 KB at 390.4 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng-utils/2.18.1/surefire-testng-utils-2.18.1.jar (29 KB at 1033.8 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-grouper/2.18.1/surefire-grouper-2.18.1.jar (38 KB at 781.6 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-testng/2.18.1/surefire-testng-2.18.1.jar (36 KB at 731.9 KB/sec)
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/common-java5/2.18.1/common-java5-2.18.1.jar (37 KB at 743.5 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Configuring TestNG with: TestNG652Configurator
12:18:02.441 [main] INFO  o.f.c.internal.util.VersionPrinter - Flyway 3.2.1 by Boxfuse
12:18:02.759 [main] INFO  hsqldb.db.HSQLDB658F7D5E6F.ENGINE - Checkpoint start
12:18:02.759 [main] INFO  hsqldb.db.HSQLDB658F7D5E6F.ENGINE - checkpointClose start
12:18:02.861 [main] INFO  hsqldb.db.HSQLDB658F7D5E6F.ENGINE - checkpointClose end
12:18:02.862 [main] INFO  hsqldb.db.HSQLDB658F7D5E6F.ENGINE - Checkpoint end - txts: 1
12:18:02.935 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:03.003 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:03.004 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:03.031 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.014s)
12:18:03.038 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:03.062 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:03.063 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:03.088 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:03.101 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:03.108 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:03.115 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.078s).
12:18:03.132 [main] INFO  org.eclipse.jetty.util.log - Logging initialized @1794ms
12:18:03.290 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:03.291 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:03.291 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:03.432 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:03.451 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:03.451 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:03.465 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:03.465 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:03.504 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:03 CEST 2018]; root of context hierarchy
12:18:03.536 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:04.227 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:04.401 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:04.408 [pool-2-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:04.410 [pool-2-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:04.466 [main] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.search.ApplicationSearch.getApplicationIndexSize(ApplicationSearch.java:37)
	at net.whydah.identity.application.ApplicationsResource.<init>(ApplicationsResource.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.application.ApplicationAuthenticationEndpointTest.startServer(ApplicationAuthenticationEndpointTest.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:04.568 [main] ERROR n.w.i.u.search.LuceneUserSearchImpl - Error when accessing index.
org.apache.lucene.store.NoSuchDirectoryException: directory '/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers' does not exist
	at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:213)
	at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:237)
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:818)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.user.search.LuceneUserSearchImpl.getUserIndexSize(LuceneUserSearchImpl.java:76)
	at net.whydah.identity.user.search.UserSearch.getUserIndexSize(UserSearch.java:122)
	at net.whydah.identity.user.resource.UsersResource.<init>(UsersResource.java:52)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.application.ApplicationAuthenticationEndpointTest.startServer(ApplicationAuthenticationEndpointTest.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:04.690 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1225 ms
12:18:05.572 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@44536de4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:05.594 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@608cc467{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
12:18:05.595 [main] INFO  org.eclipse.jetty.server.Server - Started @4257ms
12:18:05.595 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6645/uib
Request method:	POST
Request path:	http://localhost:6645/uib/appToken1/userToken1/application
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Body:
{
    "id": "1234",
    "name": "UAS",
    "description": "",
    "company": "",
    "tags": "",
    "applicationUrl": "",
    "logoUrl": "",
    "roles": [
        
    ],
    "defaultRoleName": "",
    "organizationNames": [
        
    ],
    "defaultOrganizationName": "",
    "security": {
        "minSecurityLevel": "0",
        "minimumDEFCONLevel": "DEFCON5",
        "maxSessionTimeoutSeconds": "15642000000",
        "allowedIpAddresses": [
            "0.0.0.0/0"
        ],
        "userTokenFilter": true,
        "whydahUASAccess": false,
        "secret": "9ju592A4t8dzz8mz7a5QQJ7Px",
        "whydahAdmin": false
    },
    "supportedUserSessionLevels": [
        
    ],
    "minimumApplicationDEFCON": "DEFCON5",
    "orgs": [
        
    ],
    "acl": [
        
    ]
}
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:518
12:18:07.045 [qtp1077072774-29] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json; charset=UTF-8
12:18:07.046 [qtp1077072774-29] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:07.046 [qtp1077072774-29] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:07.047 [qtp1077072774-29] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.050 [qtp1077072774-29] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.051 [qtp1077072774-29] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:07.159 [qtp1077072774-29] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [1234]
Request method:	POST
Request path:	http://localhost:6645/uib/appToken1/userToken1/application
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Body:
{
    "id": "9977",
    "name": "TESTAPP",
    "description": "",
    "company": "",
    "tags": "",
    "applicationUrl": "",
    "logoUrl": "",
    "roles": [
        
    ],
    "defaultRoleName": "",
    "organizationNames": [
        
    ],
    "defaultOrganizationName": "",
    "security": {
        "minSecurityLevel": "0",
        "minimumDEFCONLevel": "DEFCON5",
        "maxSessionTimeoutSeconds": "15642000000",
        "allowedIpAddresses": [
            "0.0.0.0/0"
        ],
        "userTokenFilter": true,
        "whydahUASAccess": false,
        "secret": "33879936R6Jr47D4Hj5R6p9qT",
        "whydahAdmin": false
    },
    "supportedUserSessionLevels": [
        
    ],
    "minimumApplicationDEFCON": "DEFCON5",
    "orgs": [
        
    ],
    "acl": [
        
    ]
}
12:18:07.743 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:522
12:18:07.744 [qtp1077072774-20] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json; charset=UTF-8
12:18:07.744 [qtp1077072774-20] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:07.745 [qtp1077072774-20] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:07.746 [qtp1077072774-20] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.747 [qtp1077072774-20] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.747 [qtp1077072774-20] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:07.754 [qtp1077072774-20] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [9977]
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	uasAppCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>1234</applicationID>
        <applicationName></applicationName>
        <applicationSecret>9ju592A4t8dzz8mz7a5QQJ7Px</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
12:18:07.971 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:698
12:18:07.972 [qtp1077072774-37] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
12:18:07.972 [qtp1077072774-37] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:07.973 [qtp1077072774-37] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:07.973 [qtp1077072774-37] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.974 [qtp1077072774-37] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:07.975 [qtp1077072774-37] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:08.024 [qtp1077072774-37] INFO  n.w.i.a.ApplicationAuthenticationEndpoint - UAS ApplicationCredential lookup for applicationID:1234
HTTP/1.1 403 Forbidden
Date: Fri, 31 Aug 2018 10:18:07 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	uasAppCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>1234</applicationID>
        <applicationName></applicationName>
        <applicationSecret>wrongSecret</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
12:18:08.546 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:08.546 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:08.546 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:08.547 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:08.547 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:08.547 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:684
12:18:08.547 [qtp1077072774-38] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
12:18:08.547 [qtp1077072774-38] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:08.549 [qtp1077072774-38] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:08.549 [qtp1077072774-38] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:08.550 [qtp1077072774-38] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:08.551 [qtp1077072774-38] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:08.565 [qtp1077072774-38] INFO  n.w.i.a.ApplicationAuthenticationEndpoint - UAS ApplicationCredential lookup for applicationID:1234
12:18:08.568 [qtp1077072774-38] WARN  n.w.i.application.ApplicationService - authenticate - Incorrect applicationSectret 
12:18:08.568 [qtp1077072774-38] WARN  n.w.i.a.ApplicationAuthenticationEndpoint - UAS Application authentication failed for ApplicationCredential{applicationID='1234', applicationName='', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}. Returning Forbidden
HTTP/1.1 403 Forbidden
Date: Fri, 31 Aug 2018 10:18:08 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
Request method:	POST
Request path:	http://localhost:6645/uib/stsApptokenIdNotInUse/application/auth
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	appCredentialXml=<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>9977</applicationID>
        <applicationName></applicationName>
        <applicationSecret>wrongSecret</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
				Content-Type=application/x-www-form-urlencoded; charset=ISO-8859-1
Cookies:		<none>
Body:			<none>
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:681
12:18:08.596 [qtp1077072774-36] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/x-www-form-urlencoded; charset=ISO-8859-1
12:18:08.597 [qtp1077072774-36] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:08.598 [qtp1077072774-36] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:08.598 [qtp1077072774-36] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:08.599 [qtp1077072774-36] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:08.599 [qtp1077072774-36] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
HTTP/1.1 403 Forbidden
Date: Fri, 31 Aug 2018 10:18:08 GMT
Content-Type: text/html;charset=iso-8859-1
Cache-Control: must-revalidate,no-cache,no-store
Content-Length: 351
Server: Jetty(9.4.0.M0)

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Error 403 Forbidden</title>
  </head>
  <body>
    <h2>HTTP ERROR 403</h2>
    <p>Problem accessing /uib/stsApptokenIdNotInUse/application/auth. Reason:
</p>
    <pre>    Forbidden</pre>
    <hr/>
    <a shape="rect" href="http://eclipse.org/jetty">Powered by Jetty:// 9.4.0.M0</a>
    <hr/>
  </body>
</html>
12:18:08.617 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@608cc467{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
12:18:08.624 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:08.624 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:03 CEST 2018]; root of context hierarchy
12:18:08.629 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@44536de4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:08.800 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:08.809 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.004s)
12:18:08.810 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:08.816 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
12:18:08.820 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:08.831 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:08.832 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:08.843 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:08.853 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:08.861 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:08.869 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.049s).
12:18:08.872 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:08.872 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:08.872 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:08.891 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:08.893 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:08.893 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:08.893 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:08.893 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:08.894 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:08 CEST 2018]; root of context hierarchy
12:18:08.895 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:09.080 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:09.105 [pool-7-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:09.106 [pool-7-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:09.109 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:09.133 [main] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.search.ApplicationSearch.getApplicationIndexSize(ApplicationSearch.java:37)
	at net.whydah.identity.application.ApplicationsResource.<init>(ApplicationsResource.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.application.ApplicationsResourceTest.startServer(ApplicationsResourceTest.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:09.161 [main] ERROR n.w.i.u.search.LuceneUserSearchImpl - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.user.search.LuceneUserSearchImpl.getUserIndexSize(LuceneUserSearchImpl.java:76)
	at net.whydah.identity.user.search.UserSearch.getUserIndexSize(UserSearch.java:122)
	at net.whydah.identity.user.resource.UsersResource.<init>(UsersResource.java:52)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.application.ApplicationsResourceTest.startServer(ApplicationsResourceTest.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:09.203 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 309 ms
12:18:09.478 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1aedf08d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:09.480 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@113dcaf8{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
12:18:09.480 [main] INFO  org.eclipse.jetty.server.Server - Started @8142ms
12:18:09.480 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6645/uib
Request method:	GET
Request path:	http://localhost:6645/uib/appToken1/applications
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Multiparts:		<none>
Headers:		Accept=*/*
Cookies:		<none>
Body:			<none>
12:18:09.529 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:09.529 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Apache-HttpClient/4.5.2 (Java/1.8.0_121)
12:18:09.529 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:6645
12:18:09.529 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept-Encoding:gzip,deflate
12:18:09.529 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:*/*
12:18:09.530 [qtp1027377263-56] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:0
12:18:09.530 [qtp1027377263-56] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:09.532 [qtp1027377263-56] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:09.533 [qtp1027377263-56] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:09.533 [qtp1027377263-56] WARN  n.w.identity.security.SecurityFilter - Trouble issuing a thread warning
java.lang.NullPointerException: null
	at net.whydah.identity.security.SecurityFilter.notifyFailedAnonymousAttempt(SecurityFilter.java:282)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:228)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:09.533 [qtp1027377263-56] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:09.542 [qtp1027377263-56] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.ApplicationService.getApplications(ApplicationService.java:84)
	at net.whydah.identity.application.ApplicationsResource.getApplications(ApplicationsResource.java:96)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:18:09.551 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@113dcaf8{HTTP/1.1,[http/1.1]}{0.0.0.0:6645}
12:18:09.553 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:09.553 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:08 CEST 2018]; root of context hierarchy
12:18:09.556 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@1aedf08d{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:09.627 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:09.633 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:09.633 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:09.638 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:18:09.640 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:09.647 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:09.647 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:09.653 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:09.659 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:09.664 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:09.671 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.031s).
12:18:09.678 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:11.009 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:12.473 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:12.488 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:12.502 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:12.539 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:12.549 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:12.620 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:12.675 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:12.676 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:12.676 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:12.676 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:12.690 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:12.692 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:12.692 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:12.692 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:12.692 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:12.693 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:12 CEST 2018]; root of context hierarchy
12:18:12.693 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:12.825 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:12.847 [pool-16-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:12.848 [pool-16-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:12.849 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:12.867 [main] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.search.ApplicationSearch.getApplicationIndexSize(ApplicationSearch.java:37)
	at net.whydah.identity.application.ApplicationsResource.<init>(ApplicationsResource.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.dataimport.EmbeddedJsonApplicationFileImportTest.startServer(EmbeddedJsonApplicationFileImportTest.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:12.889 [main] ERROR n.w.i.u.search.LuceneUserSearchImpl - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.user.search.LuceneUserSearchImpl.getUserIndexSize(LuceneUserSearchImpl.java:76)
	at net.whydah.identity.user.search.UserSearch.getUserIndexSize(UserSearch.java:122)
	at net.whydah.identity.user.resource.UsersResource.<init>(UsersResource.java:52)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.dataimport.EmbeddedJsonApplicationFileImportTest.startServer(EmbeddedJsonApplicationFileImportTest.java:51)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:12.923 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 231 ms
12:18:13.130 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@355b53cc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:13.131 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2568611c{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
12:18:13.132 [main] INFO  org.eclipse.jetty.server.Server - Started @11794ms
12:18:13.133 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6655/uib
12:18:13.136 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@2568611c{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
12:18:13.138 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:13.138 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:12 CEST 2018]; root of context hierarchy
12:18:13.142 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@355b53cc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:13.142 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:13.143 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:13.144 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:13.157 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:13.228 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:13.234 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:13.234 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:13.240 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:18:13.244 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:13.253 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:13.253 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:13.261 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:13.269 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:13.276 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:13.282 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.038s).
12:18:13.285 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:13.511 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:14.320 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:14.324 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:14.324 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:14.325 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:14.325 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:14.326 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:14.327 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:14.328 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:14.328 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:14.329 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:14.341 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:14.348 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:14.348 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:14.348 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:14.360 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:14.361 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:14.361 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:14.362 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:14.362 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:14.363 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:14 CEST 2018]; root of context hierarchy
12:18:14.363 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:14.488 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:14.506 [pool-25-thread-1] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [2210]
12:18:14.507 [pool-25-thread-1] WARN  n.w.i.u.a.SecurityTokenServiceClient - Trouble to create WhydahApplicationSession, was:
java.lang.NullPointerException: null
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getAppCredentialForApplicationId(SecurityTokenServiceClient.java:97)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient.getWAS(SecurityTokenServiceClient.java:82)
	at net.whydah.identity.user.authentication.SecurityTokenServiceClient$1.run(SecurityTokenServiceClient.java:44)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:14.509 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:14.531 [main] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.search.ApplicationSearch.getApplicationIndexSize(ApplicationSearch.java:37)
	at net.whydah.identity.application.ApplicationsResource.<init>(ApplicationsResource.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.dataimport.IamDataImporterTest.startServer(IamDataImporterTest.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:14.555 [main] ERROR n.w.i.u.search.LuceneUserSearchImpl - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.user.search.LuceneUserSearchImpl.getUserIndexSize(LuceneUserSearchImpl.java:76)
	at net.whydah.identity.user.search.UserSearch.getUserIndexSize(UserSearch.java:122)
	at net.whydah.identity.user.resource.UsersResource.<init>(UsersResource.java:52)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.dataimport.IamDataImporterTest.startServer(IamDataImporterTest.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)
	at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)
	at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)
	at org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)
	at org.testng.TestRunner.privateRun(TestRunner.java:782)
	at org.testng.TestRunner.run(TestRunner.java:632)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:205)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:14.595 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 233 ms
12:18:14.849 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@7fa68ff4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:14.852 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@515fff35{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
12:18:14.852 [main] INFO  org.eclipse.jetty.server.Server - Started @13515ms
12:18:14.852 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:6655/uib
12:18:14.853 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:18:14.862 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@64f613da
12:18:14.873 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:18:15.100 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:18:15.236 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:18:15.386 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:18:15.549 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:18:15.684 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:18:15.836 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:18:15.986 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:18:16.153 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:18:16.300 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:18:16.467 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:18:16.812 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:18:16.970 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:18:17.133 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:18:17.292 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:18:17.292 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:18:17.292 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:18:17.296 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:18:17.297 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:18:17.297 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:18:17.297 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:18:17.298 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:18:17.298 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:18:17.298 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:18:17.298 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:18:17.504 [main] WARN  c.n.c.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
12:18:17.504 [main] INFO  c.n.c.sources.URLConfigurationSource - To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
12:18:17.514 [main] INFO  c.n.config.DynamicPropertyFactory - DynamicPropertyFactory is initialized with configuration sources: com.netflix.config.ConcurrentCompositeConfiguration@4603c412
12:18:17.627 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:18:17.640 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:18:17.684 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:18:17.698 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:18:17.710 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:18:17.860 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:18:17.860 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:18:17.873 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:18:17.971 [main] ERROR n.w.s.u.mappers.UserIdentityMapper - Error parsing userIdentityJSON, using alternative structure 
12:18:17.983 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@515fff35{HTTP/1.1,[http/1.1]}{0.0.0.0:6655}
12:18:17.985 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:17.985 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:14 CEST 2018]; root of context hierarchy
12:18:17.989 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@7fa68ff4{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:17.993 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:17.994 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:17.998 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:18.003 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:18.577 [main] INFO  n.w.i.security.AuthenticationService - Comparing applicationCredential:ApplicationCredential{applicationID='2212', applicationName='Whydah-UserAdminService', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'} - with uasCredential:ApplicationCredential{applicationID='2212', applicationName='Whydah-UserAdminService', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}
12:18:18.582 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 8-80. Got: 0
12:18:18.582 [main] WARN  n.w.s.a.m.ApplicationCredentialMapper - Old appsecret fallback for applicationSecret
12:18:18.584 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 8-80. Got: 0
Configuring TestNG with: TestNG652Configurator
12:18:18.782 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers,data/luceneapplications
12:18:18.903 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:19.536 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:20.061 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:20.063 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:20.064 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:20.065 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:20.068 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:20.068 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:20.081 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:20.081 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:20.125 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:20.131 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
12:18:20.141 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
12:18:20.141 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
12:18:20.142 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:20.142 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:20.142 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:20.152 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:20.153 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:20.153 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:20.154 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:20.154 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:20.154 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:20 CEST 2018]; root of context hierarchy
12:18:20.154 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:20.269 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:20.290 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:20.293 [pool-37-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WhydahApplicationSession getInstance(String sts, String uas, ApplicationCredential appCred) called
12:18:20.293 [pool-37-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WhydahApplicationSession initializing: sts:http://localhost:9998/tokenservice/,  uas:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}
12:18:20.309 [main] ERROR n.w.i.user.search.LuceneUserSearch - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneapplications: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.application.search.LuceneApplicationSearchImpl.getApplicationIndexSize(LuceneApplicationSearchImpl.java:174)
	at net.whydah.identity.application.search.ApplicationSearch.getApplicationIndexSize(ApplicationSearch.java:37)
	at net.whydah.identity.application.ApplicationsResource.<init>(ApplicationsResource.java:48)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.setUp(UserAuthenticationEndpointTest.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:20.332 [main] ERROR n.w.i.u.search.LuceneUserSearchImpl - Error when accessing index.
org.apache.lucene.index.IndexNotFoundException: no segments* file found in MMapDirectory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers lockFactory=NativeFSLockFactory@/root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/data/luceneusers: files: []
	at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:881)
	at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:53)
	at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:67)
	at net.whydah.identity.user.search.LuceneUserSearchImpl.getUserIndexSize(LuceneUserSearchImpl.java:76)
	at net.whydah.identity.user.search.UserSearch.getUserIndexSize(UserSearch.java:122)
	at net.whydah.identity.user.resource.UsersResource.<init>(UsersResource.java:52)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1201)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:857)
	at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:533)
	at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:820)
	at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:345)
	at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1383)
	at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1345)
	at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:780)
	at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)
	at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:521)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)
	at org.eclipse.jetty.server.Server.start(Server.java:437)
	at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)
	at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:93)
	at org.eclipse.jetty.server.Server.doStart(Server.java:404)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at net.whydah.identity.Main.startJetty(Main.java:216)
	at net.whydah.identity.user.authentication.UserAuthenticationEndpointTest.setUp(UserAuthenticationEndpointTest.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
12:18:20.337 [hystrix-STSApplicationAuthGroup-1] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:18:20.339 [pool-37-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:18:20.341 [pool-37-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 1: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:18:20.341 [pool-37-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 1: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:20.364 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 210 ms
12:18:20.504 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4587675c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:20.507 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@31e3b882{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:20.507 [main] INFO  org.eclipse.jetty.server.Server - Started @19169ms
12:18:20.507 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
12:18:20.514 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@31e3b882{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:20.515 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:20.515 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:20 CEST 2018]; root of context hierarchy
12:18:20.542 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4587675c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:20.542 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:20.542 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:20.543 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:20.549 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:20.608 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
12:18:20.678 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_0 added item to index
thread_99 added item to index
thread_98 added item to index
thread_97 added item to index
thread_96 added item to index
thread_91 added item to index
thread_95 added item to index
thread_94 added item to index
thread_93 added item to index
thread_92 added item to index
thread_87 added item to index
thread_90 added item to index
thread_89 added item to index
thread_88 added item to index
thread_86 added item to index
thread_85 added item to index
thread_83 added item to index
thread_84 added item to index
thread_82 added item to index
thread_80 added item to index
thread_81 added item to index
thread_79 added item to index
thread_78 added item to index
thread_77 added item to index
thread_76 added item to index
thread_74 added item to index
thread_75 added item to index
thread_73 added item to index
thread_60 added item to index
thread_70 added item to index
thread_72 added item to index
thread_71 added item to index
thread_69 added item to index
thread_68 added item to index
thread_67 added item to index
thread_64 added item to index
thread_66 added item to index
thread_65 added item to index
thread_63 added item to index
thread_62 added item to index
thread_61 added item to index
thread_59 added item to index
thread_58 added item to index
thread_57 added item to index
thread_56 added item to index
thread_55 added item to index
thread_54 added item to index
thread_53 added item to index
thread_52 added item to index
thread_51 added item to index
thread_49 added item to index
thread_50 added item to index
thread_48 added item to index
thread_47 added item to index
thread_46 added item to index
thread_45 added item to index
thread_44 added item to index
thread_43 added item to index
thread_41 added item to index
thread_42 added item to index
thread_40 added item to index
thread_38 added item to index
thread_39 added item to index
thread_37 added item to index
thread_36 added item to index
thread_35 added item to index
thread_34 added item to index
thread_33 added item to index
thread_32 added item to index
thread_31 added item to index
thread_30 added item to index
thread_29 added item to index
thread_28 added item to index
thread_25 added item to index
thread_27 added item to index
thread_26 added item to index
thread_23 added item to index
thread_7 added item to index
thread_15 added item to index
thread_16 added item to index
thread_19 added item to index
thread_17 added item to index
thread_14 added item to index
thread_10 added item to index
thread_24 added item to index
thread_22 added item to index
thread_1 added item to index
thread_18 added item to index
thread_5 added item to index
thread_2 added item to index
thread_4 added item to index
thread_21 added item to index
thread_13 added item to index
thread_12 added item to index
thread_11 added item to index
thread_20 added item to index
thread_6 added item to index
thread_3 added item to index
thread_9 added item to index
thread_8 added item to index
Thread count 100
Total records: 100
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
12:18:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 1: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:1
12:18:25.358 [hystrix-STSApplicationAuthGroup-2] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:18:25.359 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:18:25.359 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 2: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:18:25.359 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 2: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_0 added its user to the index
thread_55 added its user to the index
thread_56 added its user to the index
thread_39 added its user to the index
thread_38 added its user to the index
thread_95 added its user to the index
thread_99 added its user to the index
thread_92 added its user to the index
thread_98 added its user to the index
thread_97 added its user to the index
thread_96 added its user to the index
thread_94 added its user to the index
thread_94 removed its user out of the index list
thread_93 added its user to the index
thread_41 added its user to the index
thread_90 added its user to the index
thread_40 added its user to the index
thread_91 added its user to the index
thread_89 added its user to the index
thread_88 added its user to the index
thread_87 added its user to the index
thread_86 added its user to the index
thread_85 added its user to the index
thread_84 added its user to the index
thread_83 added its user to the index
thread_80 added its user to the index
thread_78 added its user to the index
thread_82 added its user to the index
thread_81 added its user to the index
thread_79 added its user to the index
thread_77 added its user to the index
thread_76 added its user to the index
thread_75 added its user to the index
thread_74 added its user to the index
thread_66 added its user to the index
thread_73 added its user to the index
thread_71 added its user to the index
thread_72 added its user to the index
thread_69 added its user to the index
thread_69 removed its user out of the index list
thread_67 added its user to the index
thread_70 added its user to the index
thread_68 added its user to the index
thread_65 added its user to the index
thread_64 added its user to the index
thread_62 added its user to the index
thread_63 added its user to the index
thread_61 added its user to the index
thread_60 added its user to the index
thread_58 added its user to the index
thread_59 added its user to the index
thread_43 added its user to the index
thread_57 added its user to the index
thread_44 added its user to the index
thread_42 added its user to the index
thread_51 added its user to the index
thread_46 added its user to the index
thread_45 added its user to the index
thread_47 added its user to the index
thread_47 removed its user out of the index list
thread_48 added its user to the index
thread_49 added its user to the index
thread_50 added its user to the index
thread_52 added its user to the index
thread_53 added its user to the index
12:18:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 2: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:2
12:18:35.349 [hystrix-STSApplicationAuthGroup-3] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:18:35.350 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:18:35.350 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 3: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:18:35.350 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 3: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_54 added its user to the index
thread_5 added its user to the index
thread_37 added its user to the index
thread_36 added its user to the index
thread_35 added its user to the index
thread_34 added its user to the index
thread_30 added its user to the index
thread_33 added its user to the index
thread_33 removed its user out of the index list
thread_32 added its user to the index
thread_31 added its user to the index
thread_29 added its user to the index
thread_18 added its user to the index
thread_23 added its user to the index
thread_13 added its user to the index
thread_24 added its user to the index
thread_24 removed its user out of the index list
thread_21 added its user to the index
thread_19 added its user to the index
thread_17 added its user to the index
thread_16 added its user to the index
thread_16 removed its user out of the index list
thread_3 added its user to the index
thread_14 added its user to the index
thread_14 removed its user out of the index list
thread_15 added its user to the index
thread_28 added its user to the index
thread_1 added its user to the index
thread_22 added its user to the index
thread_6 added its user to the index
thread_26 added its user to the index
thread_27 added its user to the index
thread_2 added its user to the index
thread_25 added its user to the index
thread_20 added its user to the index
thread_4 added its user to the index
thread_4 removed its user out of the index list
thread_7 added its user to the index
thread_9 added its user to the index
thread_8 added its user to the index
thread_10 added its user to the index
thread_12 added its user to the index
thread_11 added its user to the index
thread_8 removed its user out of the index list
thread_9 removed its user out of the index list
thread_7 updated its user
thread_20 updated its user
thread_25 updated its user
thread_2 removed its user out of the index list
thread_27 removed its user out of the index list
thread_26 updated its user
thread_6 removed its user out of the index list
thread_22 removed its user out of the index list
thread_1 updated its user
thread_28 removed its user out of the index list
thread_15 updated its user
thread_3 updated its user
thread_17 removed its user out of the index list
thread_19 updated its user
thread_21 removed its user out of the index list
thread_13 removed its user out of the index list
thread_23 removed its user out of the index list
thread_18 updated its user
thread_29 updated its user
thread_31 updated its user
thread_32 updated its user
thread_30 removed its user out of the index list
thread_34 removed its user out of the index list
thread_35 updated its user
thread_36 updated its user
thread_37 removed its user out of the index list
thread_5 updated its user
thread_54 removed its user out of the index list
thread_53 updated its user
thread_52 updated its user
thread_50 removed its user out of the index list
thread_49 updated its user
thread_48 removed its user out of the index list
thread_45 updated its user
thread_46 removed its user out of the index list
thread_51 updated its user
thread_42 updated its user
thread_44 updated its user
thread_57 removed its user out of the index list
thread_43 updated its user
thread_59 updated its user
thread_58 removed its user out of the index list
thread_60 updated its user
thread_61 removed its user out of the index list
thread_63 removed its user out of the index list
thread_62 removed its user out of the index list
thread_64 removed its user out of the index list
thread_65 removed its user out of the index list
thread_68 updated its user
thread_70 removed its user out of the index list
thread_67 updated its user
thread_72 removed its user out of the index list
thread_71 updated its user
thread_73 removed its user out of the index list
thread_66 removed its user out of the index list
thread_74 updated its user
thread_75 removed its user out of the index list
thread_76 removed its user out of the index list
thread_77 removed its user out of the index list
thread_79 updated its user
thread_81 updated its user
thread_82 updated its user
thread_78 removed its user out of the index list
thread_80 removed its user out of the index list
thread_83 updated its user
thread_84 updated its user
thread_85 updated its user
thread_86 updated its user
thread_87 updated its user
thread_88 updated its user
thread_89 updated its user
thread_91 removed its user out of the index list
thread_40 removed its user out of the index list
thread_90 removed its user out of the index list
thread_41 removed its user out of the index list
thread_93 updated its user
thread_96 removed its user out of the index list
thread_97 removed its user out of the index list
thread_98 updated its user
thread_92 updated its user
thread_99 removed its user out of the index list
thread_95 updated its user
thread_38 removed its user out of the index list
thread_39 updated its user
thread_56 updated its user
thread_55 removed its user out of the index list
thread_0 updated its user
thread_11 updated its user
thread_10 updated its user
thread_12 updated its user
Thread count 100
Total items updated: 49
Total items removed: 51
Total records (exlude deletion): 49
tear down after tests...
12:18:44.970 [main] ERROR n.w.s.d.model.base.AssertionConcern - The input's length must be 3-50. Got: 0
12:18:44.971 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
12:18:45.006 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:18:45.104 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:45.343 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 3: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:45.343 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:3
12:18:45.349 [hystrix-STSApplicationAuthGroup-4] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:18:45.349 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:18:45.349 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 4: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:18:45.349 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 4: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:45.685 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:46.188 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:46.189 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:46.190 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:46.190 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:46.192 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:46.193 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:46.205 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:46.206 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:46.211 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:46.211 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:46.216 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:18:46.218 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:46.223 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:46.224 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:46.229 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:46.234 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:46.238 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:46.242 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.024s).
12:18:46.243 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:18:46.244 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@2620f935
12:18:46.251 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:18:46.401 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:18:46.573 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:18:46.701 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:18:46.815 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:18:46.943 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:18:47.090 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:18:47.210 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:18:47.335 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:18:47.468 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:18:47.640 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:18:47.963 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:18:48.135 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:18:48.265 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:18:48.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:18:48.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:18:48.393 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:18:48.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:18:48.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:18:48.395 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:18:48.395 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:18:48.396 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:18:48.396 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:18:48.396 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:18:48.396 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:18:48.411 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:18:48.421 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:18:48.430 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:18:48.439 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:18:48.446 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:18:48.617 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:18:48.618 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:18:48.626 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:18:48.627 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:48.627 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:48.627 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:48.638 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:48.639 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:48.639 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:48.639 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:48.639 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:48.640 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:48 CEST 2018]; root of context hierarchy
12:18:48.640 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:48.731 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:48.746 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:48.807 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 168 ms
12:18:48.916 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4fb53b76{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:48.918 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@38de4f1d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:48.920 [main] INFO  org.eclipse.jetty.server.Server - Started @47583ms
12:18:48.921 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getuserroles()======================
12:18:48.977 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:48.977 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:48.977 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:48.977 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:48.978 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:18:48.978 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:48.978 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.015 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.033 [hystrix-WhydahThreat-1] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.218 [qtp1273939873-430] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=817ff605-227e-4f85-ae90-33e9f4ccc65a
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:113
12:18:49.242 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:49.242 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.244 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.249 [hystrix-WhydahThreat-2] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.268 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.268 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.268 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.268 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.268 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:116
12:18:49.269 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:49.269 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.270 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.273 [hystrix-WhydahThreat-3] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.286 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.287 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.287 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.287 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.287 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:119
12:18:49.287 [qtp1273939873-440] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:49.287 [qtp1273939873-440] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.288 [qtp1273939873-440] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.292 [hystrix-WhydahThreat-4] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.303 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.303 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.303 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.303 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.303 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.304 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.309 [qtp1273939873-430] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId1]
12:18:49.310 [qtp1273939873-430] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
12:18:49.310 [qtp1273939873-430] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
12:18:49.313 [hystrix-WhydahThreat-5] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.315 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.315 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.315 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.315 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.315 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.317 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.321 [qtp1273939873-424] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId1]
12:18:49.326 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.326 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.326 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.326 [qtp1273939873-424] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.326 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.326 [hystrix-WhydahThreat-6] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.328 [qtp1273939873-424] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.331 [qtp1273939873-424] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
12:18:49.332 [hystrix-WhydahThreat-7] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.335 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:49.335 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:49.335 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:49.335 [qtp1273939873-430] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:49.335 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:49.337 [qtp1273939873-430] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:49.340 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:49.341 [qtp1273939873-430] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappIdX]
12:18:49.346 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@38de4f1d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:49.347 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:49.347 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:48 CEST 2018]; root of context hierarchy
12:18:49.349 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4fb53b76{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:49.349 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:49.349 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:49.352 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:49.352 [NioProcessor-11] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:49.356 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:49.363 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:18:49.440 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:49.954 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:50.528 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:50.530 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:50.530 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:50.531 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:50.534 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:50.534 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:50.546 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:50.548 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:50.554 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:50.554 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:50.560 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:18:50.563 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:50.571 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:50.571 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:50.577 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:50.583 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:50.589 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:50.595 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.032s).
12:18:50.598 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:18:50.599 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@20bd3082
12:18:50.684 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:18:50.843 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:18:50.965 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:18:51.109 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:18:51.226 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:18:51.348 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:18:51.476 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:18:51.660 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:18:51.815 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:18:51.943 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:18:52.115 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:18:52.451 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:18:52.601 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:18:52.748 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:18:52.885 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:18:52.885 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:18:52.885 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:18:52.885 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:18:52.886 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:18:52.886 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:18:52.886 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:18:52.886 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:18:52.887 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:18:52.887 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:18:52.887 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:18:52.901 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:18:52.909 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:18:52.920 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:18:52.927 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:18:52.933 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:18:53.100 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:18:53.101 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:18:53.108 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:18:53.110 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:53.110 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:53.110 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:53.120 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:53.121 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:53.121 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:53.122 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:53.122 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:53.123 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:53 CEST 2018]; root of context hierarchy
12:18:53.123 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:53.212 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:53.227 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:53.284 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 162 ms
12:18:53.392 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4a729612{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:53.393 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@2e6fa551{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:53.394 [main] INFO  org.eclipse.jetty.server.Server - Started @52056ms
12:18:53.394 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================thatAddUserDoesNotAllowMissingEmail()======================
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:122
12:18:53.399 [qtp1174856102-478] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:53.399 [qtp1174856102-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:53.401 [qtp1174856102-478] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:53.408 [hystrix-WhydahThreat-9] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:53.433 [qtp1174856102-478] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='0a894e55-7e7c-4aba-8985-e3fa963ef168', username='tsnyper', firstName='tEdmund', lastName='tGoffse', personRef='triffraff', email='null', cellPhone='12121212'}ExceptionMessage: 'mail' has no values.
12:18:53.438 [qtp1174856102-478] INFO  n.w.i.user.resource.UserResource - addUserIdentity returned 400 Bad Request because addUserIdentity failed for LDAPUserIdentity{uid='0a894e55-7e7c-4aba-8985-e3fa963ef168', username='tsnyper', firstName='tEdmund', lastName='tGoffse', personRef='triffraff', email='null', cellPhone='12121212'}. 
json {
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"tGoffse",
 "cellPhone":"12121212"}
12:18:53.443 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@2e6fa551{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:53.445 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:53.445 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:53 CEST 2018]; root of context hierarchy
12:18:53.447 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4a729612{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:53.448 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:53.448 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:53.449 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:53.451 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:53.454 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:53.456 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:53.456 [NioProcessor-13] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:53.465 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:53.472 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:18:53.551 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:54.090 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:54.545 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:54.546 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:54.546 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:54.547 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:54.549 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:54.618 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:54.630 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:54.632 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:54.639 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:18:54.639 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:54.645 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:18:54.648 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:54.655 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:54.655 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:54.662 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:54.669 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:54.675 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:54.680 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.032s).
12:18:54.683 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:18:54.684 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@7fdef973
12:18:54.692 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:18:54.868 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:18:55.001 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:18:55.173 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:18:55.293 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:18:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 4: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:4
12:18:55.346 [hystrix-STSApplicationAuthGroup-5] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:18:55.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:18:55.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 5: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:18:55.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 5: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:18:55.443 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:18:55.601 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:18:55.726 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:18:55.856 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:18:56.001 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:18:56.176 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:18:56.487 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:18:56.656 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:18:56.851 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:18:56.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:18:56.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:18:56.993 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:18:56.993 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:18:56.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:18:56.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:18:56.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:18:56.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:18:56.995 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:18:56.995 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:18:56.995 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:18:57.006 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:18:57.012 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:18:57.018 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:18:57.024 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:18:57.030 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:18:57.150 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:18:57.150 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:18:57.157 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:18:57.159 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:18:57.159 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:18:57.159 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:18:57.171 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:18:57.172 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:18:57.172 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:18:57.173 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:18:57.173 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:18:57.174 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:18:57 CEST 2018]; root of context hierarchy
12:18:57.174 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:18:57.282 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:18:57.310 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:18:57.365 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 192 ms
12:18:57.476 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@25ebe548{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:18:57.486 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4664b741{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:57.486 [main] INFO  org.eclipse.jetty.server.Server - Started @56149ms
12:18:57.487 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testAddUserWithLettersInPhoneNumberIsNotAllowed()======================
12:18:57.496 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:18:57.496 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:18:57.497 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:18:57.497 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:18:57.497 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:158
12:18:57.497 [qtp880009659-543] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:18:57.497 [qtp880009659-543] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:18:57.500 [qtp880009659-543] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:18:57.517 [qtp880009659-543] ERROR n.w.s.d.model.base.AssertionConcern - Invalid cellphone number 12121-bb-212
12:18:57.523 [qtp880009659-543] INFO  n.w.i.user.resource.UserResource - addUserIdentity, invalid json. userIdentityJson={
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"lastname",
 "email":"tsnyper@midget.orj",
 "cellPhone":"12121-bb-212"}
com.fasterxml.jackson.databind.JsonMappingException: Invalid cellphone number 12121-bb-212
 at [Source: (String)"{
 "username":"tsnyper",
 "personRef":"triffraff",
 "firstName":"tEdmund",
 "lastName":"lastname",
 "email":"tsnyper@midget.orj",
 "cellPhone":"12121-bb-212"}"; line: 7, column: 14] (through reference chain: net.whydah.sso.user.types.UserIdentity["cellPhone"])
	at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:277)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:588)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:576)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:134)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:287)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addUserIdentity(UserResource.java:69)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: Invalid cellphone number 12121-bb-212
	at net.whydah.sso.ddd.model.base.AssertionConcern.throwException(AssertionConcern.java:124)
	at net.whydah.sso.ddd.model.base.AssertionConcern.assertArgumentTrue(AssertionConcern.java:129)
	at net.whydah.sso.ddd.model.base.AssertionConcern.assertArgumentWithAPattern(AssertionConcern.java:164)
	at net.whydah.sso.ddd.model.user.CellPhone.validateInput(CellPhone.java:15)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:64)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:44)
	at net.whydah.sso.ddd.model.base.AbstractName.<init>(AbstractName.java:40)
	at net.whydah.sso.ddd.model.user.CellPhone.<init>(CellPhone.java:9)
	at net.whydah.sso.user.types.UserIdentity.setCellPhone(UserIdentity.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:132)
	... 57 common frames omitted
12:18:57.536 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:18:57.541 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4664b741{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:18:57.544 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:18:57.544 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:18:57 CEST 2018]; root of context hierarchy
12:18:57.546 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@25ebe548{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:18:57.553 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:18:57.553 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:18:57.554 [NioProcessor-16] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:57.554 [NioProcessor-16] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:57.554 [NioProcessor-16] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:18:57.572 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:18:57.600 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:18:57.609 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:18:57.729 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:18:58.457 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:18:59.119 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:18:59.120 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:18:59.121 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:18:59.121 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:18:59.124 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:18:59.124 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:18:59.136 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:18:59.138 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:18:59.144 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.003s)
12:18:59.144 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:18:59.150 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.005s)
12:18:59.152 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:18:59.158 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:18:59.159 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:18:59.165 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:18:59.170 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:18:59.175 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:18:59.180 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.028s).
12:18:59.183 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:18:59.184 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@a0d555f
12:18:59.192 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:18:59.348 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:18:59.476 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:18:59.614 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:18:59.739 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:18:59.876 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:00.026 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:00.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:00.347 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:00.489 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:00.656 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:00.983 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:01.151 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:01.267 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:01.414 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:01.414 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:01.414 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:01.415 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:01.415 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:01.415 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:01.415 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:01.416 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:01.416 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:01.416 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:01.416 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:01.431 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:01.437 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:01.443 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:01.449 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:01.455 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:01.600 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:01.600 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:01.608 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:01.609 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:01.609 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:01.610 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:01.625 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:01.626 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:01.626 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:01.627 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:01.627 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:01.628 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:01 CEST 2018]; root of context hierarchy
12:19:01.628 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:01.750 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:01.767 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:01.829 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 202 ms
12:19:01.975 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4c882ccf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:01.976 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@745a951a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:01.976 [main] INFO  org.eclipse.jetty.server.Server - Started @60639ms
12:19:01.976 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserrole()======================
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:19:01.981 [qtp2146232099-583] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:01.981 [qtp2146232099-583] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:01.983 [qtp2146232099-583] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:01.989 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:02.186 [qtp2146232099-583] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=c1dcc128-0c09-4803-9562-0039c4168891
12:19:02.190 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:02.191 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:02.191 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:02.191 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:02.191 [qtp2146232099-567] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:02.192 [qtp2146232099-567] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:02.196 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
12:19:02.201 [qtp2146232099-584] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:02.201 [qtp2146232099-584] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:02.202 [qtp2146232099-584] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:02.205 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:02.222 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:02.222 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:02.222 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:02.222 [qtp2146232099-567] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:02.222 [qtp2146232099-567] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:02.223 [qtp2146232099-567] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:02.227 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:02.228 [qtp2146232099-567] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:19:02.232 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@745a951a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:02.234 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:02.234 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:01 CEST 2018]; root of context hierarchy
12:19:02.235 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4c882ccf{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:02.236 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:02.236 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:02.237 [NioProcessor-19] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:02.237 [NioProcessor-19] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:02.238 [NioProcessor-19] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:02.238 [NioProcessor-19] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:02.241 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:02.246 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:02.252 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:02.330 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:02.822 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:03.249 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:03.250 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:03.250 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:03.251 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:03.253 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:03.253 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:03.265 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:03.266 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:03.270 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:03.271 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:03.274 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:19:03.276 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:03.281 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:03.281 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:03.285 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:03.288 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:03.292 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:03.295 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.019s).
12:19:03.297 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:03.298 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@7acb4a51
12:19:03.377 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:03.509 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:03.684 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:03.901 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:04.075 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:04.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:04.334 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:04.472 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:04.614 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:04.768 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:04.889 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:05.287 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 5: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:5
12:19:05.349 [hystrix-STSApplicationAuthGroup-6] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:05.350 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:05.350 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 6: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:05.350 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 6: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:05.434 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:05.609 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:05.764 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:05.764 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:05.764 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:05.765 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:05.765 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:05.765 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:05.765 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:05.765 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:05.766 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:05.766 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:05.766 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:05.779 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:05.785 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:05.791 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:05.796 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:05.801 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:05.938 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:05.938 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:05.945 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:05.946 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:05.946 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:05.946 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:05.958 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:05.958 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:05.958 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:05.959 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:05.959 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:05.960 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:05 CEST 2018]; root of context hierarchy
12:19:05.960 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:06.046 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:06.061 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:06.111 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 152 ms
12:19:06.218 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5c8079c5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:06.221 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@220f319a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:06.221 [main] INFO  org.eclipse.jetty.server.Server - Started @64884ms
12:19:06.221 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testGetNonExistingUser()======================
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:19:06.226 [qtp577654361-632] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:06.226 [qtp577654361-632] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:06.228 [qtp577654361-632] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:06.232 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:06.385 [qtp577654361-632] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=95e8f2e8-fc93-4cf1-a102-fc513ecc0324
12:19:06.391 [qtp577654361-624] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:06.391 [qtp577654361-624] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:06.391 [qtp577654361-624] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:06.391 [qtp577654361-624] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:06.391 [qtp577654361-624] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:06.393 [qtp577654361-624] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:06.398 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:06.403 [qtp577654361-624] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: non-existent-uid
12:19:06.408 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@220f319a{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:06.410 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:06.410 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:05 CEST 2018]; root of context hierarchy
12:19:06.411 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5c8079c5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:06.413 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:06.413 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:06.419 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:06.423 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:06.429 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:06.507 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:07.132 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:07.809 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:07.810 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:07.811 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:07.811 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:07.814 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:07.814 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:07.826 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:07.828 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:07.833 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:19:07.833 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:07.838 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:19:07.840 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:07.846 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:07.846 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:07.852 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:07.857 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:07.862 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:07.866 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.026s).
12:19:07.869 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:07.870 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@3c4c595e
12:19:07.878 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:08.100 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:08.234 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:08.372 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:08.489 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:08.651 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:08.814 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:08.951 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:09.131 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:09.272 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:09.401 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:09.745 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:09.875 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:10.009 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:10.139 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:10.139 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:10.139 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:10.139 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:10.139 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:10.139 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:10.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:10.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:10.140 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:10.140 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:10.140 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:10.149 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:10.153 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:10.157 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:10.160 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:10.164 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:10.283 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:10.283 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:10.288 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:10.288 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:10.288 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:10.289 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:10.365 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:10.366 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:10.366 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:10.367 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:10.367 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:10.367 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:10 CEST 2018]; root of context hierarchy
12:19:10.367 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:10.463 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:10.476 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:10.515 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 148 ms
12:19:10.645 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@333674ad{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:10.646 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@107b7bea{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:10.647 [main] INFO  org.eclipse.jetty.server.Server - Started @69309ms
12:19:10.647 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingLastName()======================
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:130
12:19:10.651 [qtp662204547-678] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:10.651 [qtp662204547-678] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:10.653 [qtp662204547-678] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:10.658 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:10.685 [qtp662204547-678] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='21d14660-f503-42a9-bccb-8dc1dcf3db4a', username='tsnyper', firstName='tEdmund', lastName='null', personRef='triffraff', email='tsnyper@midget.orj', cellPhone='12121212'}ExceptionMessage: 'sn' has no values.
12:19:10.815 [qtp662204547-678] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=21d14660-f503-42a9-bccb-8dc1dcf3db4a
12:19:10.821 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@107b7bea{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:10.823 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:10.824 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:10 CEST 2018]; root of context hierarchy
12:19:10.825 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@333674ad{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:10.826 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:10.826 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:10.827 [NioProcessor-25] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:11.829 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:11.833 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:11.838 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:11.918 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:12.506 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:12.944 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:12.945 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:12.945 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:12.946 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:12.947 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:12.948 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:12.959 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:12.960 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:12.964 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:19:12.964 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:12.968 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:19:12.969 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:12.973 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:12.973 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:12.977 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:12.981 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:12.984 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:12.987 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.018s).
12:19:12.988 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:12.989 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@16ced6ac
12:19:12.996 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:13.205 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:13.338 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:13.467 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:13.622 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:13.742 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:13.900 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:14.075 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:14.205 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:14.334 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:14.476 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:14.853 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:14.988 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:15.159 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:15.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:15.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:15.314 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:15.314 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:15.314 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:15.314 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:15.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:15.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:15.315 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:15.315 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:15.315 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:15.324 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:15.329 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:15.334 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:15.338 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 6: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:6
12:19:15.342 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:15.346 [hystrix-STSApplicationAuthGroup-7] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:15.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:15.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 7: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:15.347 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 7: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:15.500 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:15.500 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:15.504 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:15.505 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:15.505 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:15.505 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:15.511 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:15.512 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:15.512 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:15.512 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:15.512 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:15.513 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:15 CEST 2018]; root of context hierarchy
12:19:15.513 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:15.597 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:15.611 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:15.659 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 147 ms
12:19:15.763 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@9eb378c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:15.764 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@506782f4{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:15.765 [main] INFO  org.eclipse.jetty.server.Server - Started @74428ms
12:19:15.765 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUser()======================
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:155
12:19:15.771 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:15.771 [qtp1813645554-724] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:15.773 [qtp1813645554-724] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:15.779 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:15.927 [qtp1813645554-724] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=4cec9171-e5b5-4ca2-9a29-def7b8e1878c
12:19:15.932 [qtp1813645554-716] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:15.932 [qtp1813645554-716] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:15.932 [qtp1813645554-716] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:15.932 [qtp1813645554-716] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:15.932 [qtp1813645554-716] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:15.933 [qtp1813645554-716] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:15.938 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:15.944 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:15.944 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:15.944 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:15.944 [qtp1813645554-724] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:15.944 [qtp1813645554-724] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:15.945 [qtp1813645554-724] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:15.948 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:16.188 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@506782f4{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:16.190 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:16.190 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:15 CEST 2018]; root of context hierarchy
12:19:16.192 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@9eb378c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:16.192 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:16.192 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:16.194 [NioProcessor-28] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:16.194 [NioProcessor-28] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:16.195 [NioProcessor-28] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:18.198 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:18.202 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:18.208 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:18.282 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:18.819 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:19.322 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:19.324 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:19.324 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:19.324 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:19.326 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:19.327 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:19.338 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:19.339 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:19.343 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:19.344 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:19.348 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:19:19.351 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:19.357 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:19.357 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:19.364 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:19.369 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:19.373 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:19.377 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.027s).
12:19:19.378 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:19.379 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@3c874f23
12:19:19.388 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:19.592 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:19.730 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:19.858 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:19.980 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:20.147 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:20.309 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:20.492 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:20.710 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:20.908 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:21.159 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:21.477 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:21.625 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:21.771 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:21.900 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:21.900 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:21.900 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:21.900 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:21.901 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:21.901 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:21.908 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:21.912 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:21.915 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:21.918 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:21.921 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:22.058 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:22.059 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:22.081 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:22.082 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:22.082 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:22.082 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:22.088 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:22.089 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:22.089 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:22.090 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:22.090 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:22.090 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:22 CEST 2018]; root of context hierarchy
12:19:22.090 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:22.150 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:22.163 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:22.200 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 110 ms
12:19:22.312 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@53ee4e18{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:22.313 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@5a5684ea{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:22.313 [main] INFO  org.eclipse.jetty.server.Server - Started @80976ms
12:19:22.313 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================test Find()======================
12:19:22.323 [qtp1973519386-770] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:22.323 [qtp1973519386-770] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:22.323 [qtp1973519386-770] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:22.323 [qtp1973519386-770] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:22.323 [qtp1973519386-770] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:22.325 [qtp1973519386-770] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:22.330 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:22.369 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@5a5684ea{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:22.371 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:22.371 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:22 CEST 2018]; root of context hierarchy
12:19:22.373 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@53ee4e18{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:22.373 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:22.373 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:24.376 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:24.380 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:24.386 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:24.466 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:24.999 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 7: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:7
12:19:25.346 [hystrix-STSApplicationAuthGroup-8] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:25.347 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:25.347 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 8: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:25.347 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 8: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:25.450 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:25.452 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:25.452 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:25.453 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:25.454 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:25.455 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:25.466 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:25.467 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:25.471 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:25.472 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:25.477 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:19:25.478 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:25.484 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:25.484 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:25.489 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:25.492 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:25.495 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:25.498 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.020s).
12:19:25.501 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:25.502 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@3634bc73
12:19:25.509 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:30.450 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:30.914 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:31.466 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:32.018 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:32.317 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:32.508 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:32.846 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:33.279 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:33.596 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:33.925 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:34.499 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:34.791 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:35.083 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 8: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:8
12:19:35.347 [hystrix-STSApplicationAuthGroup-9] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:35.348 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:35.348 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 9: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:35.348 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 9: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:35.396 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:35.396 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:35.396 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:35.396 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:35.396 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:35.397 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:35.397 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:35.397 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:35.397 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:35.397 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:35.397 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:35.407 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:35.413 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:35.420 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:35.424 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:35.428 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:35.603 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:35.604 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:35.609 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:35.609 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:35.610 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:35.610 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:35.620 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:35.621 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:35.621 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:35.621 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:35.621 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:35.622 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:35 CEST 2018]; root of context hierarchy
12:19:35.622 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:35.708 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:35.720 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:35.781 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 160 ms
12:19:35.906 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@6649b4a{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:35.910 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@23e6ebbf{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:35.911 [main] INFO  org.eclipse.jetty.server.Server - Started @94573ms
12:19:35.911 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserroleNoJson()======================
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:19:35.915 [qtp143044035-813] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:35.915 [qtp143044035-813] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:35.918 [qtp143044035-813] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:35.925 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:36.122 [qtp143044035-813] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=1443fee5-2e07-49a2-9399-dc6e2f36f9c0
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:0
12:19:36.128 [qtp143044035-807] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:36.128 [qtp143044035-807] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:36.129 [qtp143044035-807] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:36.135 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:36.140 [qtp143044035-807] ERROR n.w.i.user.resource.UserResource - addRole, invalid json. roleJson=
com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input
 at [Source: (String)""; line: 1, column: 0]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4133)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3988)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:215)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)
	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)
	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.143 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@23e6ebbf{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:36.145 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:36.145 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:35 CEST 2018]; root of context hierarchy
12:19:36.146 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@6649b4a{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:36.147 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:36.147 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:36.147 [NioProcessor-34] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.147 [NioProcessor-34] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.148 [NioProcessor-34] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.148 [NioProcessor-34] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.148 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:36.148 [NioProcessor-34] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.159 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:36.159 [pool-157-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
12:19:36.170 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:36.294 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:36.853 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:37.306 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:37.308 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:37.308 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:37.309 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:37.312 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:37.313 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:37.325 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:37.326 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:37.332 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:19:37.333 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:37.341 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.007s)
12:19:37.354 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:37.362 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:37.362 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:37.370 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:37.376 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:37.380 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:37.383 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.030s).
12:19:37.385 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:37.386 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@4110dd10
12:19:37.479 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:37.708 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:37.879 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:38.041 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:38.204 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:38.404 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:38.679 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:38.954 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:39.116 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:39.308 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:39.462 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:39.865 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:40.012 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:40.174 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:40.358 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:40.358 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:40.358 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:40.358 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:40.359 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:40.359 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:40.367 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:40.371 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:40.380 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:40.384 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:40.390 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:40.545 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:40.545 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:40.550 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:40.551 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:40.551 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:40.551 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:40.559 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:40.560 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:40.560 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:40.560 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:40.560 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:40.561 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:40 CEST 2018]; root of context hierarchy
12:19:40.561 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:40.645 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:40.657 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:40.710 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 150 ms
12:19:40.832 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@22d105f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:40.834 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@263e08af{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:40.835 [main] INFO  org.eclipse.jetty.server.Server - Started @99497ms
12:19:40.835 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteUserOK()======================
12:19:40.843 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:40.843 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:40.843 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:40.844 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:40.844 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:165
12:19:40.844 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:40.844 [qtp13013852-844] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:40.845 [qtp13013852-844] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:40.859 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:41.035 [qtp13013852-844] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=frustaalstrom, uid=2a6e5ef1-c4e1-405d-a481-29668475a0d2
12:19:41.039 [qtp13013852-853] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:41.039 [qtp13013852-853] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:41.039 [qtp13013852-853] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:41.039 [qtp13013852-853] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:41.039 [qtp13013852-853] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:41.040 [qtp13013852-853] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:41.047 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:41.129 [qtp13013852-853] INFO  n.w.i.u.identity.LdapUserIdentityDao - deleteUserIdentity with username=2a6e5ef1-c4e1-405d-a481-29668475a0d2
12:19:41.148 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:41.148 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:41.149 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:41.149 [qtp13013852-844] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:41.149 [qtp13013852-844] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:41.151 [qtp13013852-844] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:41.155 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:41.162 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@263e08af{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:41.163 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:41.163 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:40 CEST 2018]; root of context hierarchy
12:19:41.166 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@22d105f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:41.167 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:41.167 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:41.171 [pool-169-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:19:41.172 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:41.180 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:41.187 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:41.307 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:41.879 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:42.423 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:42.424 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:42.424 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:42.425 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:42.427 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:42.427 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:42.439 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:42.440 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:42.443 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:42.443 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:42.447 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:19:42.448 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:42.452 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:42.452 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:42.456 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:42.459 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:42.462 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:42.465 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.017s).
12:19:42.466 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:42.467 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@332d2db
12:19:42.474 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:42.628 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:42.795 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:42.941 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:43.097 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:43.299 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:43.454 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:43.608 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:43.787 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:43.958 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:44.112 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:44.523 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:44.670 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:44.874 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:45.016 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:45.016 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:45.016 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:45.017 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:45.018 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:45.027 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:45.032 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:45.036 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:45.040 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:45.044 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:45.186 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:45.186 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:45.191 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:45.193 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:45.193 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:45.193 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:45.204 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:45.207 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:45.207 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:45.208 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:45.208 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:45.209 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:45 CEST 2018]; root of context hierarchy
12:19:45.209 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:45.285 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:45.301 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:45.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 9: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:45.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:9
12:19:45.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:45.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:45.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 10: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:45.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 10: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:45.348 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 140 ms
12:19:45.441 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@3e632037{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:45.442 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6299cbbb{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:45.442 [main] INFO  org.eclipse.jetty.server.Server - Started @104104ms
12:19:45.442 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================thatEmailCanBeUsedAsUsername()======================
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:166
12:19:45.448 [qtp2059646755-897] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:45.448 [qtp2059646755-897] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:45.449 [qtp2059646755-897] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:45.453 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:45.626 [qtp2059646755-897] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper@midget.orj, uid=33014b80-0f92-47b5-b79c-c6835d266811
12:19:45.631 [qtp2059646755-906] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:45.631 [qtp2059646755-906] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:45.631 [qtp2059646755-906] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:45.631 [qtp2059646755-906] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:45.631 [qtp2059646755-906] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:45.633 [qtp2059646755-906] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:45.638 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:45.646 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6299cbbb{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:45.649 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:45.649 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:45 CEST 2018]; root of context hierarchy
12:19:45.650 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@3e632037{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:45.650 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:45.650 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:45.653 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:45.653 [NioProcessor-40] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:45.659 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:45.659 [pool-181-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
12:19:45.664 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:45.772 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:46.395 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:46.825 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:46.826 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:46.827 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:46.827 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:46.829 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:46.829 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:46.841 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:46.842 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:46.845 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:46.845 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:46.848 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:19:46.849 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:46.853 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:46.853 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:46.856 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:46.859 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:46.861 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:46.864 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
12:19:46.865 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:46.866 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@e9651f4
12:19:46.872 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:47.032 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:47.212 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:47.399 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:47.545 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:47.703 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:47.874 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:48.024 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:48.182 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:48.366 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:48.512 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:48.931 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:49.087 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:49.261 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:49.407 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:49.408 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:49.408 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:49.408 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:49.408 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:49.408 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:49.408 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:49.409 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:49.409 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:49.409 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:49.409 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:49.418 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:49.422 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:49.427 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:49.431 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:49.434 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:49.578 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:49.578 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:49.583 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:49.584 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:49.584 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:49.585 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:49.595 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:49.596 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:49.596 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:49.597 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:49.597 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:49.597 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:49 CEST 2018]; root of context hierarchy
12:19:49.598 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:49.681 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:49.696 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:49.753 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 156 ms
12:19:49.851 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@58898064{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:49.853 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@d8c4c62{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:49.853 [main] INFO  org.eclipse.jetty.server.Server - Started @108515ms
12:19:49.853 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteUserNotFound()======================
12:19:49.856 [qtp713248472-943] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:49.856 [qtp713248472-943] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:49.856 [qtp713248472-943] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:49.856 [qtp713248472-943] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:49.856 [qtp713248472-943] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:49.857 [qtp713248472-943] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:49.863 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:49.869 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@d8c4c62{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:49.871 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:49.871 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:49 CEST 2018]; root of context hierarchy
12:19:49.872 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@58898064{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:49.873 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:49.873 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:49.873 [NioProcessor-43] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:19:49.874 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:49.879 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:49.886 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:49.998 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:50.513 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:50.929 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:50.930 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:50.930 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:50.930 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:50.932 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:50.932 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:50.944 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:50.945 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:50.948 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:50.948 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:50.952 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:19:50.953 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:50.957 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:50.957 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:50.960 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:50.964 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:50.967 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:50.969 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.016s).
12:19:50.971 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:50.972 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@10fae499
12:19:51.034 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:51.195 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:51.382 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:51.524 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:51.670 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:51.836 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:51.982 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:52.128 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:52.307 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:52.457 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:52.624 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:53.006 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:53.157 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:53.307 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:53.445 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:53.445 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:53.445 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:53.445 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:53.445 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:53.445 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:53.446 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:53.446 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:53.446 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:53.446 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:53.446 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:53.454 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:53.458 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:53.462 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:53.466 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:53.469 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:53.607 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:53.607 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:53.611 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:53.612 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:53.612 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:53.612 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:53.622 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:53.622 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:53.622 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:53.623 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:53.623 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:53.624 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:53 CEST 2018]; root of context hierarchy
12:19:53.624 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:53.697 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:53.709 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:53.749 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 126 ms
12:19:53.837 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5bbc483f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:53.837 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4a3ed371{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:53.838 [main] INFO  org.eclipse.jetty.server.Server - Started @112501ms
12:19:53.839 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getUser()======================
12:19:53.846 [qtp57205206-984] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:53.846 [qtp57205206-984] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:53.846 [qtp57205206-984] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:53.846 [qtp57205206-984] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:53.846 [qtp57205206-984] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:53.847 [qtp57205206-984] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:53.854 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
===>{"uid":"useradmin","username":"useradmin","firstName":"User","lastName":"Admin","personRef":"0","email":"useradmin@getwhydah.com","cellPhone":"+1555406789","password":null,"personName":"User Admin"}
12:19:53.870 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4a3ed371{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:53.872 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:53.872 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:53 CEST 2018]; root of context hierarchy
12:19:53.873 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5bbc483f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:53.873 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:53.873 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:53.874 [pool-205-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:19:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 10: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:10
12:19:55.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:19:55.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:19:55.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 11: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:19:55.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 11: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:19:55.875 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:55.879 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:55.885 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:19:55.976 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:19:56.469 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:19:56.882 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:19:56.883 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:19:56.883 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:19:56.883 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:19:56.885 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:19:56.885 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:19:56.897 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:19:56.898 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:19:56.900 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:19:56.901 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:19:56.904 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:19:56.905 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:19:56.908 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:19:56.908 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:19:56.911 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:19:56.914 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:19:56.916 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:19:56.918 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
12:19:56.920 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:19:56.921 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@bb32837
12:19:56.927 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:19:57.082 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:19:57.220 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:19:57.391 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:19:57.536 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:19:57.682 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:19:57.832 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:19:57.969 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:19:58.124 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:19:58.282 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:19:58.428 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:19:58.810 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:19:59.040 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:19:59.182 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:19:59.353 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:19:59.353 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:19:59.353 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:19:59.353 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:19:59.353 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:19:59.354 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:19:59.354 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:19:59.354 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:19:59.354 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:19:59.354 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:19:59.354 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:19:59.363 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:19:59.368 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:19:59.373 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:19:59.378 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:19:59.383 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:19:59.523 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:19:59.523 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:19:59.529 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:19:59.530 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:19:59.530 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:19:59.530 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:19:59.543 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:19:59.543 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:19:59.543 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:19:59.544 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:19:59.544 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:19:59.545 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:19:59 CEST 2018]; root of context hierarchy
12:19:59.545 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:19:59.622 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:19:59.632 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:19:59.671 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 127 ms
12:19:59.754 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@15b12bc5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:19:59.756 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@64b03060{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:59.756 [main] INFO  org.eclipse.jetty.server.Server - Started @118418ms
12:19:59.756 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================modifyuserrole()======================
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:19:59.760 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:59.760 [qtp340123938-1042] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:59.761 [qtp340123938-1042] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:59.766 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:59.917 [qtp340123938-1042] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=f909fe5f-f89e-4e64-b66a-a2bd91d8fde7
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
12:19:59.922 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:59.922 [qtp340123938-1027] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:59.924 [qtp340123938-1027] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:59.929 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:59.942 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:59.942 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:59.942 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:59.942 [qtp340123938-1042] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:59.942 [qtp340123938-1042] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:59.943 [qtp340123938-1042] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:59.948 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:59.949 [qtp340123938-1042] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:233
12:19:59.952 [qtp340123938-1027] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:19:59.952 [qtp340123938-1027] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:59.953 [qtp340123938-1027] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:59.956 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:59.958 [qtp340123938-1027] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:19:59.960 [qtp340123938-1048] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:19:59.960 [qtp340123938-1048] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:19:59.960 [qtp340123938-1048] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:19:59.960 [qtp340123938-1048] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:19:59.960 [qtp340123938-1048] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:19:59.961 [qtp340123938-1048] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:19:59.963 [qtp340123938-1048] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:19:59.964 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:19:59.968 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@64b03060{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:19:59.969 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:19:59.969 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:19:59 CEST 2018]; root of context hierarchy
12:19:59.970 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@15b12bc5{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:19:59.971 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:19:59.971 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:19:59.972 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:19:59.977 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:19:59.981 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:00.076 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:00.598 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:00.992 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:00.994 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:00.994 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:00.994 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:00.996 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:00.996 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:01.008 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:01.009 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:01.012 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:01.012 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:01.015 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:20:01.016 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:01.019 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:01.019 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:01.022 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:01.025 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:01.027 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:01.029 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.013s).
12:20:01.031 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:01.032 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@5a6c6ffc
12:20:01.038 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:01.194 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:01.378 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:01.524 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:01.665 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:01.853 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:01.990 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:02.136 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:02.286 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:02.436 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:02.578 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:03.826 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:04.040 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:04.269 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:04.473 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:04.474 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:04.474 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:04.474 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:04.474 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:04.474 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:04.474 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:04.475 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:04.475 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:04.475 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:04.475 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:04.483 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:04.488 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:04.492 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:04.496 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:04.499 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:04.640 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:04.640 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:04.645 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:04.647 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:04.647 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:04.647 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:04.660 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:04.661 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:04.661 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:04.662 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:04.662 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:04.663 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:04 CEST 2018]; root of context hierarchy
12:20:04.663 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:04.740 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:04.751 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:04.811 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 148 ms
12:20:04.911 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@36a9c6bc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:04.912 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@e7911a0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:04.912 [main] INFO  org.eclipse.jetty.server.Server - Started @123575ms
12:20:04.913 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addExistingUserrole()======================
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:04.917 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:04.917 [qtp1501348835-1073] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:04.919 [qtp1501348835-1073] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:04.923 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:05.075 [qtp1501348835-1073] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=16cb6d7d-247e-4401-9f8b-ccfcadbc08ea
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
12:20:05.080 [qtp1501348835-1082] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:05.080 [qtp1501348835-1082] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:05.081 [qtp1501348835-1082] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:05.085 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
12:20:05.097 [qtp1501348835-1073] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:05.097 [qtp1501348835-1073] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:05.098 [qtp1501348835-1073] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:05.105 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:05.110 [qtp1501348835-1073] ERROR n.w.i.user.resource.UserResource - addRole-Conflict. {"orgName": "0005",
        "applicationId": "testappId",
        "roleName": "KK",
        "roleValue": "test"}
javax.ws.rs.WebApplicationException: User with uid=16cb6d7d-247e-4401-9f8b-ccfcadbc08ea already has this role. net.whydah.sso.user.types.UserApplicationRoleEntry@3c86225d
	at net.whydah.identity.user.UserAggregateService.addRole(UserAggregateService.java:185)
	at net.whydah.identity.user.UserAggregateService.addUserApplicationRoleEntry(UserAggregateService.java:149)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:222)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:20:05.114 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@e7911a0{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:05.115 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:05.115 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:04 CEST 2018]; root of context hierarchy
12:20:05.117 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@36a9c6bc{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:05.117 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:05.117 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:05.118 [NioProcessor-52] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:05.119 [NioProcessor-52] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:05.120 [NioProcessor-52] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:05.120 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:05.126 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:05.127 [pool-229-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
12:20:05.132 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:05.210 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 11: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:11
12:20:05.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:05.345 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:05.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 12: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:05.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 12: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:05.707 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:06.136 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:06.137 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:06.138 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:06.138 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:06.139 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:06.140 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:06.151 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:06.152 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:06.155 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:06.155 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:06.158 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:20:06.159 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:06.162 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:06.163 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:06.166 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:06.169 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:06.171 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:06.173 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
12:20:06.175 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:06.176 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@25e531dd
12:20:06.184 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:06.348 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:06.490 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:06.636 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:06.786 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:06.940 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:07.077 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:07.223 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:07.407 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:07.561 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:07.702 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:08.080 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:08.219 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:08.398 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:08.552 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:08.552 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:08.552 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:08.553 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:08.553 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:08.553 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:08.553 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:08.554 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:08.554 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:08.554 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:08.554 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:08.562 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:08.567 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:08.571 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:08.575 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:08.579 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:08.718 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:08.719 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:08.723 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:08.724 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:08.724 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:08.724 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:08.733 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:08.734 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:08.734 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:08.734 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:08.734 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:08.735 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:08 CEST 2018]; root of context hierarchy
12:20:08.735 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:08.804 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:08.813 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:08.850 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 116 ms
12:20:08.919 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@66296cd3{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:08.921 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@3cacb56d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:08.921 [main] INFO  org.eclipse.jetty.server.Server - Started @127583ms
12:20:08.922 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================getNonExistingUser()======================
12:20:08.926 [qtp1724818468-1134] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:08.926 [qtp1724818468-1134] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:08.926 [qtp1724818468-1134] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:08.926 [qtp1724818468-1134] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:08.926 [qtp1724818468-1134] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:08.928 [qtp1724818468-1134] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:08.933 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:08.946 [qtp1724818468-1119] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:08.946 [qtp1724818468-1119] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:08.946 [qtp1724818468-1119] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:08.946 [qtp1724818468-1119] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:08.946 [qtp1724818468-1119] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:08.947 [qtp1724818468-1119] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:08.955 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:08.958 [qtp1724818468-1119] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: pettersmart@gmail.com
12:20:08.966 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@3cacb56d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:08.967 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:08.968 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:08 CEST 2018]; root of context hierarchy
12:20:08.969 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@66296cd3{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:08.970 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:08.970 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:08.972 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:08.978 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:08.978 [pool-241-thread-1] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
12:20:08.978 [pool-241-thread-2] ERROR o.a.d.s.l.h.r.UnbindRequestHandler - ERR_169 failed to unbind session properly
org.apache.directory.api.ldap.model.exception.LdapServiceUnavailableException: ERR_316 Directory service is not started.
	at org.apache.directory.server.core.DefaultOperationManager.ensureStarted(DefaultOperationManager.java:1406)
	at org.apache.directory.server.core.DefaultOperationManager.unbind(DefaultOperationManager.java:1377)
	at org.apache.directory.server.core.shared.DefaultCoreSession.unbind(DefaultCoreSession.java:1185)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:50)
	at org.apache.directory.server.ldap.handlers.request.UnbindRequestHandler.handle(UnbindRequestHandler.java:38)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:207)
	at org.apache.directory.server.ldap.handlers.LdapRequestHandler.handleMessage(LdapRequestHandler.java:56)
	at org.apache.mina.handler.demux.DemuxingIoHandler.messageReceived(DemuxingIoHandler.java:221)
	at org.apache.directory.server.ldap.LdapProtocolHandler.messageReceived(LdapProtocolHandler.java:217)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:854)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
	at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:943)
	at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
	at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.runTask(UnorderedThreadPoolExecutor.java:475)
	at org.apache.mina.filter.executor.UnorderedThreadPoolExecutor$Worker.run(UnorderedThreadPoolExecutor.java:429)
	at java.lang.Thread.run(Thread.java:745)
12:20:08.983 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:09.057 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:09.614 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:10.015 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:10.016 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:10.016 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:10.016 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:10.018 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:10.019 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:10.030 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:10.031 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:10.034 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.000s)
12:20:10.034 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:10.036 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:20:10.037 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:10.041 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:10.041 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:10.043 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:10.046 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:10.048 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:10.049 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
12:20:10.051 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:10.052 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@1452f525
12:20:10.058 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:10.207 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:10.385 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:10.532 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:10.682 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:10.865 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:11.010 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:11.165 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:11.323 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:11.477 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:11.686 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:12.096 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:12.268 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:12.419 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:12.561 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:12.561 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:12.561 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:12.561 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:12.562 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:12.562 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:12.562 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:12.562 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:12.562 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:12.563 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:12.563 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:12.572 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:12.578 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:12.583 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:12.592 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:12.596 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:12.753 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:12.754 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:12.783 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:12.784 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:12.784 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:12.784 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:12.792 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:12.792 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:12.792 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:12.793 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:12.794 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:12.795 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:12 CEST 2018]; root of context hierarchy
12:20:12.795 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:12.857 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:12.879 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:12.916 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 122 ms
12:20:12.989 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5d16d111{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:12.990 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@12ae1f7d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:12.990 [main] INFO  org.eclipse.jetty.server.Server - Started @131652ms
12:20:12.990 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testAddUserWillRespondWithConflictWhenUsernameAlreadyExists()======================
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:12.995 [qtp1101407742-1180] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:12.995 [qtp1101407742-1180] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:12.996 [qtp1101407742-1180] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:13.001 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:13.870 [qtp1101407742-1180] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=bf22f924-c913-4e52-b2cb-1decef11c58e
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:153
12:20:13.880 [qtp1101407742-1172] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:13.880 [qtp1101407742-1172] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:13.881 [qtp1101407742-1172] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:13.887 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:13.894 [qtp1101407742-1172] INFO  n.w.i.user.resource.UserResource - addUserIdentity returned 409 Conflict because User already exists, could not create user with username=snyper. 
json {
 "username":"snyper",
 "personRef":"tifftaff",
 "firstName":"Another",
 "lastName":"Wanderer",
 "email":"wanderer@midget.orj",
 "cellPhone":"34343434"}
12:20:13.899 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@12ae1f7d{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:13.902 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:13.902 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:12 CEST 2018]; root of context hierarchy
12:20:13.903 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5d16d111{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:13.906 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:13.906 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:13.907 [NioProcessor-58] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:13.907 [NioProcessor-58] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:13.909 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:13.914 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:13.918 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:14.021 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:14.567 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:14.977 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:14.978 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:14.978 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:14.978 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:14.980 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:14.980 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:14.991 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:14.993 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:14.996 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.000s)
12:20:14.996 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:14.999 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:20:15.000 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:15.004 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:15.004 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:15.009 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:15.013 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:15.016 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:15.018 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.019s).
12:20:15.021 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:15.022 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@551eab34
12:20:15.095 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:15.293 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 12: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:12
12:20:15.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:15.345 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:15.345 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 13: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:15.345 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 13: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:15.452 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:15.590 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:15.773 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:15.915 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:16.048 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:16.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:16.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:16.556 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:16.715 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:17.129 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:17.310 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:17.452 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:17.593 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:17.593 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:17.593 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:17.594 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:17.594 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:17.600 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:17.604 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:17.607 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:17.610 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:17.617 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:17.764 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:17.764 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:17.767 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:17.768 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:17.768 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:17.768 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:17.774 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:17.775 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:17.775 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:17.775 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:17.775 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:17.776 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:17 CEST 2018]; root of context hierarchy
12:20:17.776 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:17.835 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:17.848 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:17.887 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 112 ms
12:20:17.969 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@5585142b{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:17.970 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@4946a1d2{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:17.970 [main] INFO  org.eclipse.jetty.server.Server - Started @136633ms
12:20:17.971 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserWithMissingPhoneNumber()======================
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:128
12:20:17.976 [qtp598326685-1215] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:17.976 [qtp598326685-1215] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:17.977 [qtp598326685-1215] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:17.980 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:18.174 [qtp598326685-1215] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=00e0441e-de67-472a-b63d-cb5bb22ce8b7
12:20:18.179 [qtp598326685-1236] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:18.179 [qtp598326685-1236] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:18.179 [qtp598326685-1236] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:18.179 [qtp598326685-1236] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:18.179 [qtp598326685-1236] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:18.180 [qtp598326685-1236] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:18.185 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:18.191 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@4946a1d2{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:18.192 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:18.192 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:17 CEST 2018]; root of context hierarchy
12:20:18.193 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@5585142b{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:18.194 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:18.194 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:18.194 [NioProcessor-61] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:18.195 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:18.199 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:18.203 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:18.277 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:18.749 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:19.156 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:19.157 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:19.157 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:19.158 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:19.159 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:19.160 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:19.171 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:19.172 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:19.175 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:19.175 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:19.178 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:20:19.180 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:19.184 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:19.184 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:19.186 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:19.189 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:19.191 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:19.194 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
12:20:19.195 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:19.196 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@5bcbee44
12:20:19.202 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:19.385 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:19.535 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:19.668 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:19.843 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:19.998 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:20.165 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:20.335 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:20.477 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:20.640 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:20.865 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:21.328 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:21.481 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:22.435 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:22.568 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:22.568 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:22.568 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:22.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:22.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:22.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:22.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:22.569 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:22.570 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:22.570 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:22.570 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:22.579 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:22.583 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:22.587 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:22.590 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:22.593 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:22.739 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:22.739 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:22.744 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:22.745 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:22.745 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:22.745 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:22.754 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:22.754 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:22.754 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:22.755 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:22.755 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:22.756 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:22 CEST 2018]; root of context hierarchy
12:20:22.756 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:22.831 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:22.841 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:22.875 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 120 ms
12:20:22.941 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@61854689{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:22.941 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7906c433{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:22.941 [main] INFO  org.eclipse.jetty.server.Server - Started @141604ms
12:20:22.941 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================adduserroleBadJson()======================
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:22.947 [qtp211309938-1260] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:22.947 [qtp211309938-1260] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:22.948 [qtp211309938-1260] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:22.955 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:23.120 [qtp211309938-1260] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=4a598922-0501-4209-b51a-3982643c1e15
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:12
12:20:23.125 [qtp211309938-1278] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:23.125 [qtp211309938-1278] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:23.127 [qtp211309938-1278] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:23.133 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:23.139 [qtp211309938-1278] ERROR n.w.i.user.resource.UserResource - addRole, invalid json. roleJson={ dilldall }
com.fasterxml.jackson.core.JsonParseException: Unexpected character ('d' (code 100)): was expecting double-quote to start field name
 at [Source: (String)"{ dilldall }"; line: 1, column: 4]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1798)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:663)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:561)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1757)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:682)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)
	at net.whydah.identity.user.resource.UserResource.addRole(UserResource.java:215)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)
	at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:315)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:297)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:267)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)
	at net.whydah.identity.security.SecurityFilter.doFilter(SecurityFilter.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
	at org.eclipse.jetty.server.Server.handle(Server.java:550)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)
	at java.lang.Thread.run(Thread.java:745)
12:20:23.142 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@7906c433{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:23.144 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:23.144 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:22 CEST 2018]; root of context hierarchy
12:20:23.145 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@61854689{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:23.146 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:23.146 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:23.147 [NioProcessor-64] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:23.147 [NioProcessor-64] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:23.150 [pool-277-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:20:23.151 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:23.156 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:23.162 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:23.263 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:23.758 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:24.266 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:24.267 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:24.267 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:24.268 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:24.270 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:24.270 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:24.282 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:24.283 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:24.286 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:20:24.286 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:24.290 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:20:24.291 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:24.295 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:24.295 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:24.299 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:24.302 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:24.304 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:24.307 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
12:20:24.308 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:24.309 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@2aff7cc4
12:20:24.317 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:24.510 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:24.651 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:24.798 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:24.977 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:25.127 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:25.264 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 13: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:13
12:20:25.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:25.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:25.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 14: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:25.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 14: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:25.577 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:25.748 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:25.885 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:26.065 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:26.434 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:26.592 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:26.751 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:26.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:26.993 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:26.993 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:26.993 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:26.994 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:26.994 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:27.006 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:27.011 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:27.015 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:27.019 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:27.025 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:27.249 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:27.249 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:27.254 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:27.255 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:27.255 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:27.255 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:27.268 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:27.268 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:27.269 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:27.277 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:27.277 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:27.278 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:27 CEST 2018]; root of context hierarchy
12:20:27.278 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:27.351 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:27.362 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:27.413 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 136 ms
12:20:27.525 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4f5cbf8e{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:27.526 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@77dee860{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:27.526 [main] INFO  org.eclipse.jetty.server.Server - Started @146188ms
12:20:27.526 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingFirstName()======================
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:129
12:20:27.544 [qtp1445542106-1321] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:27.544 [qtp1445542106-1321] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:27.546 [qtp1445542106-1321] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:27.557 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:27.574 [qtp1445542106-1321] WARN  n.w.i.u.identity.LdapUserIdentityDao - LDAP user with illegal state. LDAPUserIdentity{uid='1767bd9e-9850-46bc-ba10-cba1d0df3def', username='tsnyper', firstName='null', lastName='tGoffse', personRef='triffraff', email='tsnyper@midget.orj', cellPhone='12121212'}ExceptionMessage: 'givenName' has no values.
12:20:27.769 [qtp1445542106-1321] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=1767bd9e-9850-46bc-ba10-cba1d0df3def
12:20:27.775 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@77dee860{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:27.778 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:27.778 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:27 CEST 2018]; root of context hierarchy
12:20:27.779 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@4f5cbf8e{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:27.780 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:27.780 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:27.782 [NioProcessor-67] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:27.782 [NioProcessor-67] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:27.782 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:27.786 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:27.793 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:27.870 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:28.368 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:28.780 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:28.781 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:28.781 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:28.782 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:28.783 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:28.784 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:28.795 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:28.796 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:28.800 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:20:28.800 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:28.805 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:20:28.806 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:28.810 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:28.810 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:28.814 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:28.818 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:28.821 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:28.824 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.018s).
12:20:28.826 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:28.827 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@10801754
12:20:28.833 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:29.031 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:29.168 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:29.318 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:29.493 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:29.639 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:29.793 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:29.964 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:30.101 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:30.248 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:30.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:30.791 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:31.026 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:31.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:31.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:31.393 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:31.393 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:31.393 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:31.394 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:31.394 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:31.401 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:31.405 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:31.412 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:31.415 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:31.419 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:31.580 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:31.581 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:31.584 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:31.585 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:31.585 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:31.585 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:31.592 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:31.592 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:31.592 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:31.593 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:31.593 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:31.594 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:31 CEST 2018]; root of context hierarchy
12:20:31.594 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:31.663 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:31.678 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:31.736 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 143 ms
12:20:31.834 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@15583a6c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:31.834 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@23cb12c5{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:31.834 [main] INFO  org.eclipse.jetty.server.Server - Started @150497ms
12:20:31.834 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================modifyUser()======================
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:31.841 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:31.842 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:31.842 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:31.849 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:32.027 [qtp1154386410-1349] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=c268c8bb-7394-4c67-8251-b4d7fc3739fe
12:20:32.032 [qtp1154386410-1358] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:32.033 [qtp1154386410-1358] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:32.033 [qtp1154386410-1358] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:32.033 [qtp1154386410-1358] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:32.033 [qtp1154386410-1358] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:32.034 [qtp1154386410-1358] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:32.038 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:195
12:20:32.045 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:32.045 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:32.046 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:32.049 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:32.216 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:32.216 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:32.216 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:32.216 [qtp1154386410-1349] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:32.216 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:32.217 [qtp1154386410-1349] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:32.219 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:32.226 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@23cb12c5{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:32.227 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:32.227 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:31 CEST 2018]; root of context hierarchy
12:20:32.228 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@15583a6c{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:32.229 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:32.229 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:32.233 [NioProcessor-70] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:32.234 [NioProcessor-70] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:32.234 [NioProcessor-70] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:32.235 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:32.235 [NioProcessor-70] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:32.240 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:32.244 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:32.322 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:32.808 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:33.292 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:33.293 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:33.293 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:33.294 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:33.295 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:33.296 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:33.307 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:33.308 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:33.311 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:33.311 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:33.316 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:20:33.317 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:33.320 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:33.320 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:33.323 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:33.325 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:33.327 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:33.329 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
12:20:33.332 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:33.333 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@27694f7c
12:20:33.339 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:33.542 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:33.684 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:33.831 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:34.018 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:34.256 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:34.489 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:34.634 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:34.789 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:35.014 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:35.206 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 14: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:14
12:20:35.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:35.345 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:35.345 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 15: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:35.345 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 15: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:35.732 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:35.906 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:36.322 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:36.493 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:36.493 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:36.493 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:36.493 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:36.493 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:36.493 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:36.494 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:36.494 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:36.494 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:36.494 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:36.494 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:36.501 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:36.506 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:36.509 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:36.513 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:36.517 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:36.705 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:36.705 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:36.710 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:36.711 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:36.711 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:36.711 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:36.719 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:36.720 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:36.720 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:36.721 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:36.721 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:36.722 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:36 CEST 2018]; root of context hierarchy
12:20:36.722 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:36.812 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:36.825 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:36.869 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 148 ms
12:20:36.944 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@2a4e1b6{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:36.945 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@6c3225cd{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:36.946 [main] INFO  org.eclipse.jetty.server.Server - Started @155608ms
12:20:36.946 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================addUserAllowMissingPersonRef()======================
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:127
12:20:36.950 [qtp2024844849-1399] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:36.950 [qtp2024844849-1399] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:36.951 [qtp2024844849-1399] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:36.956 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:37.136 [qtp2024844849-1399] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=tsnyper, uid=8587b203-5d43-41a1-964f-c9c5f1faf0c5
12:20:37.141 [qtp2024844849-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:37.141 [qtp2024844849-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:37.141 [qtp2024844849-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:37.141 [qtp2024844849-1408] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:37.141 [qtp2024844849-1408] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:37.142 [qtp2024844849-1408] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:37.149 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:37.158 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@6c3225cd{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:37.159 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:37.159 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:36 CEST 2018]; root of context hierarchy
12:20:37.160 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@2a4e1b6{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:37.161 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:37.161 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:37.161 [NioProcessor-73] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:37.162 [NioProcessor-73] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:37.162 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:37.162 [NioProcessor-73] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:37.169 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:37.174 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:37.286 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:37.818 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:38.267 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:38.268 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:38.269 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:38.270 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:38.272 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:38.272 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:38.284 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:38.285 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:38.288 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:38.288 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:38.293 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:20:38.294 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:38.298 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:38.299 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:38.301 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:38.304 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:38.307 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:38.309 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
12:20:38.311 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:38.312 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@21197d30
12:20:38.320 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:38.706 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:38.893 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:39.101 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:39.314 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:39.517 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:39.689 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:39.864 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:40.104 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:40.297 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:40.714 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:41.224 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:41.397 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:41.631 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:41.817 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:41.817 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:41.818 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:41.818 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:41.819 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:41.819 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:41.827 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:41.831 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:41.836 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:41.839 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:41.843 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:42.080 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:42.080 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:42.085 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:42.085 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:42.085 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:42.085 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:42.094 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:42.095 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:42.095 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:42.095 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:42.095 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:42.096 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:42 CEST 2018]; root of context hierarchy
12:20:42.096 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:42.161 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:42.172 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:42.210 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 115 ms
12:20:42.288 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@494a825a{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:42.289 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@1d708956{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:42.289 [main] INFO  org.eclipse.jetty.server.Server - Started @160952ms
12:20:42.289 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================deleteuserrole()======================
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:42.296 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:42.296 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.299 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.302 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.594 [qtp358811029-1461] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=snyper, uid=9d312e86-c715-4d20-9934-7d3b542ee2ed
12:20:42.600 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.601 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.601 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.601 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.601 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:112
12:20:42.601 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:42.601 [qtp358811029-1453] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.602 [qtp358811029-1453] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.606 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:114
12:20:42.633 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:42.633 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.635 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.638 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.652 [qtp358811029-1466] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.652 [qtp358811029-1466] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.652 [qtp358811029-1466] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.652 [qtp358811029-1466] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.653 [qtp358811029-1466] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.654 [qtp358811029-1466] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.657 [qtp358811029-1466] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:20:42.658 [qtp358811029-1466] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:20:42.662 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.664 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.664 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.664 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.664 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.664 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.665 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.669 [qtp358811029-1461] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:20:42.672 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.675 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.675 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.675 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.675 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.675 [qtp358811029-1469] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.676 [qtp358811029-1469] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.680 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.680 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.680 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.680 [qtp358811029-1469] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.685 [qtp358811029-1469] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.687 [qtp358811029-1469] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.715 [qtp358811029-1469] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:20:42.705 [hystrix-WhydahThreat-9] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.717 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.719 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.719 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.719 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.719 [qtp358811029-1453] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.719 [qtp358811029-1453] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.720 [qtp358811029-1453] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.722 [qtp358811029-1453] INFO  n.w.i.application.ApplicationDao - No Applciation found for applicationId [testappId]
12:20:42.727 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.727 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.727 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.727 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.727 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.728 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.732 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:42.732 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:42.732 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:42.732 [qtp358811029-1461] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:42.732 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:42.734 [qtp358811029-1461] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:42.742 [hystrix-WhydahThreat-10] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.742 [hystrix-WhydahThreat-9] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.743 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:42.758 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@1d708956{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:42.760 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:42.760 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:42 CEST 2018]; root of context hierarchy
12:20:42.761 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@494a825a{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:42.763 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:42.763 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:42.766 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:42.766 [NioProcessor-76] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:42.771 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:42.784 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:42.788 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:42.875 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:43.430 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:43.921 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:43.922 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:43.922 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:43.923 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:43.925 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:43.925 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:43.937 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:43.938 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:43.941 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:43.942 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:43.946 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:20:43.948 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:43.951 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:43.951 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:43.956 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:43.960 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:43.969 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:43.973 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.026s).
12:20:43.976 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:43.978 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@73a29843
12:20:43.988 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:44.734 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:45.034 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:45.217 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:45.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 15: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:45.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:15
12:20:45.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:45.345 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:45.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 16: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:45.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 16: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:45.513 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:45.680 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:45.917 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:46.139 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:46.325 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:46.517 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:46.667 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:47.116 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:47.275 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:47.517 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:47.659 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:47.659 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:47.659 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:47.659 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:47.659 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:47.659 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:47.659 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:47.660 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:47.660 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:47.660 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:47.660 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:47.669 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:47.674 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:47.677 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:47.687 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:47.691 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:47.880 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:47.880 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:47.884 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:47.885 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:47.885 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:47.885 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:47.892 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:47.893 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:47.893 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:47.894 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:47.894 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:47.894 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:47 CEST 2018]; root of context hierarchy
12:20:47.895 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:47.972 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:47.983 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:48.036 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 142 ms
12:20:48.131 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@481207fd{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:48.131 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@7ac9d990{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:48.132 [main] INFO  org.eclipse.jetty.server.Server - Started @166794ms
12:20:48.132 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
==================testGetExistingUser()======================
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:148
12:20:48.137 [qtp575182071-1493] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:48.137 [qtp575182071-1493] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:48.138 [qtp575182071-1493] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:48.145 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:48.301 [qtp575182071-1493] INFO  n.w.i.u.identity.UserIdentityService - Added new user to LDAP: username=siqula, uid=e000aed9-9fea-434c-bc20-b6d7ef04b2f7
12:20:48.306 [qtp575182071-1511] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:48.306 [qtp575182071-1511] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:48.306 [qtp575182071-1511] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:48.306 [qtp575182071-1511] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:48.306 [qtp575182071-1511] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:48.307 [qtp575182071-1511] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:48.317 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:48.326 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@7ac9d990{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:48.328 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:48.328 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:47 CEST 2018]; root of context hierarchy
12:20:48.329 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@481207fd{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:48.330 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:48.330 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:48.331 [NioProcessor-79] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:48.331 [NioProcessor-79] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:48.331 [NioProcessor-79] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:48.332 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:48.337 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:48.343 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/bootstrapdata/,data/luceneusers
12:20:48.453 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:48.945 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:49.361 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:49.362 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:49.362 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:49.362 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:49.364 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:49.364 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:49.376 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:49.377 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:49.381 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:20:49.381 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:49.384 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:20:49.385 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:20:49.388 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:20:49.388 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:20:49.390 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:20:49.393 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:20:49.395 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:20:49.397 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.012s).
12:20:49.399 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Applications from classpath testdata/applications.json
12:20:49.400 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing basis applications from file: java.io.BufferedInputStream@32319302
12:20:49.407 [main] INFO  n.w.i.d.ApplicationJsonImporter - Importing applications: [  {    "id": "100",    "name": "ACS",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "secret": "45fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "11",      "applicationACLPath" : "/user"    }]  },  {    "id": "101",    "name": "ACSResource",    "description": "Finn den kompetansen du trenger, når du trenger det. Lag eksklusive CV'er tillpasset leseren.",    "company" : "Norway AS",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "acs101",      "name" : "Employee"    }, {      "id" : "acs102",      "name" : "Manager"    }, {      "id" : "acs103",      "name" : "Administrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "GetWhydah"    }, {      "id" : "103",      "name" : "ACSOrganization"    } ],    "defaultRoleName": "Employee",    "defaultOrganizationName": "ACSOrganization",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": true,      "secret": "55fhRM6nbKZ2wfC6RMmMuzXpk"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2210",    "name": "Whydah-UserIdentityBackend",    "description": "The UserIdentityBackend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uib/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2211",    "name": "Whydah-SecurityTokenService",    "description": "The ApplicationToken and UserToken module in Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sts/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "6r46g3q986Ep6By7B9J46m96D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2212",    "name": "Whydah-UserAdminService",    "description": "Responsible for configuring which API/useradministration services Whydah IAM/SSO should provide for 3rd parties (outside the innermost firewall)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "secret": "9ju592A4t8dzz8mz7a5QQJ7Px"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2215",    "name": "Whydah-SSOLoginWebApp",    "description": "The SSO / WebFrontend module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/sso/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "SSOApplication"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "SSOApplication",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "33779936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2219",    "name": "Whydah-UserAdminWebApp",    "description": "The back-office User Administration module of the Whydah IAM/SSO",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/useradmin/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "WhydahAdministrator"    }, {      "id" : "why102",      "name" : "ApplicationAdministrator"    }, {      "id" : "why103",      "name" : "Application"    }, {      "id" : "why104",      "name" : "UserDirectoryAdministrator"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "WhydahAdministrator",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "isWhydahAdmin": true,      "secret": "9EH5u5wJFKsUvJFmhypwK7j6D"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2310",    "name": "Whydah-StatisticsService",    "description": "An optional Whydah module for user-oriented audit-log and usage statistics",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/reporter/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-StatisticsService-user"    } ],    "organizationNames": [{      "id" : "2200",      "name" : "Cantara"    }, {      "id" : "2201",      "name" : "Whydah"    } ],    "defaultRoleName": "Whydah-StatisticsService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "2311",    "name": "Whydah-CRMService",    "description": "An optional Whydah service to add person-data to Whydah users",    "company" : "Cantara",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/crm/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-CRMService-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-CRMService-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9099",    "name": "Whydah-TestWebApplication",    "description": "The different example webapps to explain how to use/integrate with the Whydah IAM/SSO",    "company" : "Teknologihuset",    "tags" : "JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/test/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "roleId1",      "name" : "Whydah-TestWebApplication-user"    } ],    "organizationNames": [{      "id" : "orgId",      "name" : "organizationName1"    }, {      "id" : "orgidxx",      "name" : "defaultOrgName"    } ],    "defaultRoleName": "Whydah-TestWebApplication-user",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "33879936R6Jr47D4Hj5R6p9qT"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9001",    "name": "m2Circle",    "description": null,    "company" : "Auke AS",    "tags" : "SECURE CHAT",    "applicationUrl": null,    "logoUrl": "https://www.theregister.co.uk/Design/graphics/icons/vulture_black_60_trans.png",    "roles": [{      "id" : "roleId1",      "name" : "roleName1"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "member",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "true",      "whydahUASAccess": false,      "secret": "YKHH54bNpnvQEF2vCJSWtctB"    },    "acl": [{      "applicationId" : "2211",      "applicationACLPath" : "/user"    }]  },  {    "id": "9999",    "name": "Whydah-Jenkins",    "description": "System test application)",    "company" : "Cantara",    "tags" : "HIDDEN, JURISDICTION_NORWAY",    "applicationUrl": "https://whydahdev.cantara.no/uas/",    "logoUrl": "https://wiki.cantara.no/download/attachments/38962704/whydah",    "roles": [{      "id" : "why101",      "name" : "User"    }, {      "id" : "why102",      "name" : "Application"    } ],    "organizationNames": [{      "id" : "100",      "name" : "Whydah"    }, {      "id" : "101",      "name" : "Cantara"    }, {      "id" : "102",      "name" : "Getwhydah"    } ],    "defaultRoleName": "Application",    "defaultOrganizationName": "Whydah",    "security": {      "minSecurityLevel": "0",      "minDEFCON": "DEFCON5",      "maxSessionTimeoutSeconds": "8640000",      "allowedIpAddresses": [        "0.0.0.0/0"      ],      "userTokenFilter": "false",      "whydahUASAccess": true,      "secret": "9ju592A4t8dzz8mz788QQJ7Px"    },    "acl": [{      "applicationId" : "9999",      "applicationACLPath" : "/"    }]  },  {  "id": "c31d1769-f3b3-46bb-aeba-18009870565b",  "name": "INNSelfService",  "description": "",  "company": "INN",  "tags": "",  "applicationUrl": "https:\/\/whydahdev.cantara.no\/innss\/",  "logoUrl": null,  "roles": [      ],  "defaultRoleName": "user",  "organizationNames": [      ],  "defaultOrganizationName": "Opplysningen QA",  "security": {    "minSecurityLevel": "0",    "minimumDEFCONLevel": "DEFCON5",    "maxSessionTimeoutSeconds": "840000",    "allowedIpAddresses": null,    "userTokenFilter": false,    "whydahUASAccess": true,    "secret": "WcPrU1j1YzmdWrmU6muxmcpKdn6zxLFDXGdCUjHHZyQ7KswEum7HOkVgbcjQ5TuC",    "whydahAdmin": true  },  "supportedUserSessionLevels": [      ],  "acl": [      ],  "minimumApplicationDEFCON": "DEFCON5",  "orgs": [      ]},{    "id": "77d89985faa6952a98dbd6e7e",    "name": "spademo-app",    "description": "this is for demoing SPA service",    "company": "Capra",    "tags": "",    "applicationUrl": "https://github.com/capralifecycle/INN-SPADEMO",    "logoUrl": "",    "roles": [],    "defaultRoleName": "",    "organizationNames": [],    "defaultOrganizationName": "",    "security": {      "minSecurityLevel": "0",      "minimumDEFCONLevel": "DEFCON5",      "maxSessionTimeoutSeconds": "15552000000",      "allowedIpAddresses": null,      "userTokenFilter": true,      "whydahUASAccess": false,      "secret": "4c2b67c61700a619727bc2bb1",      "whydahAdmin": false    },    "supportedUserSessionLevels": [],    "acl": [      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "SSO_REDIRECT"        ]      },      {        "applicationId": "77d89985faa6952a98dbd6e7e",        "applicationACLPath": "",        "accessRights": [          "READ",          "OAUTH2_REDIRECT"        ]      }    ],    "minimumApplicationDEFCON": "DEFCON5",    "orgs": [],    "isFiltered": false,    "isSelected": true  }]
12:20:49.600 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 100, Name ACS
12:20:49.784 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 101, Name ACSResource
12:20:49.983 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2210, Name Whydah-UserIdentityBackend
12:20:50.125 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2211, Name Whydah-SecurityTokenService
12:20:50.264 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2212, Name Whydah-UserAdminService
12:20:50.408 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2215, Name Whydah-SSOLoginWebApp
12:20:50.572 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2219, Name Whydah-UserAdminWebApp
12:20:50.725 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2310, Name Whydah-StatisticsService
12:20:50.872 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 2311, Name Whydah-CRMService
12:20:51.050 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9099, Name Whydah-TestWebApplication
12:20:51.390 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9001, Name m2Circle
12:20:51.542 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 9999, Name Whydah-Jenkins
12:20:51.692 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id c31d1769-f3b3-46bb-aeba-18009870565b, Name INNSelfService
12:20:51.839 [main] INFO  n.w.i.d.ApplicationJsonImporter - Imported Application. Id 77d89985faa6952a98dbd6e7e, Name spademo-app
12:20:51.839 [main] INFO  n.w.i.d.ApplicationJsonImporter - 14 applications imported.
12:20:51.839 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Organizations from classpath testdata/organizations.csv
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2010, Name Whydah
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2110, Name Cantara
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2112, Name Whydah
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2212, Name Cantara
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name Whydah
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - Imported Organization. Id 2313, Name cantara
12:20:51.839 [main] INFO  n.w.i.d.OrganizationImporter - 6 organizations imported.
12:20:51.839 [main] INFO  n.w.i.dataimport.IamDataImporter - Import Users from classpath testdata/users.csv
12:20:51.846 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=erik.drolshammer, username=erikd, name=Erik Drolshammer, email=erik.drolshammer@altran.com
12:20:51.850 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=useradmin, username=useradmin, name=User Admin, email=useradmin@getwhydah.com
12:20:51.854 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=test.me@example.com, username=testMe, name=test meLastname, email=test.me@example.com
12:20:51.858 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=change.me@example.com, username=changeMe, name=change meLastname, email=test.me@example.com
12:20:51.867 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - Imported user: uid=systest, username=systest, name=UserAdmin UserAdminWebApp, email=whydahadmin@getwhydah.com
12:20:52.075 [main] INFO  n.w.i.d.WhydahUserIdentityImporter - 5 users imported.
12:20:52.075 [main] INFO  n.w.i.dataimport.IamDataImporter - Import RoleMappings from classpath testdata/rolemappings.csv
12:20:52.078 [main] INFO  n.w.i.dataimport.RoleMappingImporter - 8 roles imported.
12:20:52.079 [main] INFO  org.eclipse.jetty.server.Server - jetty-9.4.0.M0
12:20:52.079 [main] WARN  org.eclipse.jetty.server.Server - THIS IS NOT A STABLE RELEASE! DO NOT USE IN PRODUCTION!
12:20:52.079 [main] WARN  org.eclipse.jetty.server.Server - Download a stable release from http://download.eclipse.org/jetty/
12:20:52.084 [main] INFO  o.e.j.w.StandardDescriptorProcessor - NO JSP Support for /uib, did not find org.eclipse.jetty.jsp.JettyJspServlet
12:20:52.085 [main] WARN  org.eclipse.jetty.server.session - No workerName configured for DefaultSessionIdManager, using node0
12:20:52.085 [main] WARN  org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
12:20:52.085 [main] INFO  /uib - Initializing Spring root WebApplicationContext
12:20:52.085 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization started
12:20:52.086 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Fri Aug 31 12:20:52 CEST 2018]; root of context hierarchy
12:20:52.086 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [context.xml]
12:20:52.135 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
12:20:52.143 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:52.176 [main] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 91 ms
12:20:52.240 [main] INFO  o.e.j.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@77e8101f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,AVAILABLE}
12:20:52.240 [main] INFO  o.e.jetty.server.AbstractConnector - Started ServerConnector@11733e9e{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:52.241 [main] INFO  org.eclipse.jetty.server.Server - Started @170903ms
12:20:52.241 [main] INFO  net.whydah.identity.Main - Jetty server started on http://localhost:9995/uib
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header User-Agent:Jersey/2.23.1 (HttpUrlConnection 1.8.0_121)
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header Connection:keep-alive
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header Host:localhost:9995
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header Accept:text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Length:143
12:20:52.248 [qtp2086151232-1555] INFO  n.w.identity.security.SecurityFilter - HTTP-header Content-Type:application/json
12:20:52.248 [qtp2086151232-1555] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, non-authorized applications may access UIB!
12:20:52.249 [qtp2086151232-1555] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:20:52.255 [hystrix-WhydahThreat-8] WARN  n.w.s.c.t.CommandSendThreatSignal, pool :WhydahThreat - net.whydah.sso.commands.threat.CommandSendThreatSignal, pool :WhydahThreat - fallback - whydahServiceUri=http://localhost:9998/tokenservice/threat//signal
12:20:52.268 [qtp2086151232-1555] WARN  n.w.i.u.identity.UserIdentityService - Trying to access non-existing UID, removing form index: nonExistingUserId
12:20:52.273 [main] INFO  o.e.jetty.server.AbstractConnector - Stopped ServerConnector@11733e9e{HTTP/1.1,[http/1.1]}{0.0.0.0:9995}
12:20:52.275 [main] INFO  /uib - Closing Spring root WebApplicationContext
12:20:52.275 [main] INFO  o.s.w.c.s.XmlWebApplicationContext - Closing Root WebApplicationContext: startup date [Fri Aug 31 12:20:52 CEST 2018]; root of context hierarchy
12:20:52.276 [main] INFO  o.e.j.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@77e8101f{/uib,file:///root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/classes/,UNAVAILABLE}
12:20:52.277 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:52.277 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:52.285 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:52.290 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:52.298 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid cellphone number 900-FLYING-CIRCUS
12:20:52.304 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers
12:20:52.421 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:53.020 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:53.516 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:53.518 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:53.518 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:53.519 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:53.521 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:53.522 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:53.533 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:53.534 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:53.534 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:53.540 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:20:53.544 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
12:20:53.544 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
12:20:53.628 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: username1234
12:20:53.629 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='1b3934fb-50b1-4064-a3c1-6a3475799fd8', username='username1234', firstName='firstName2', lastName='lastName2', personRef='personRef2', email='test2@test.no', cellPhone='+47 123 45 678'}, username=username1234, appid=9999, role=WhydahDefaultUser
12:20:53.758 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='1b3934fb-50b1-4064-a3c1-6a3475799fd8', username='username1234', firstName='firstName2', lastName='lastName2', personRef='personRef2', email='test2@test.no', cellPhone='+47 123 45 678'}
12:20:53.768 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - User already exists, could not create user username1234
12:20:53.791 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: username123
12:20:53.792 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='8b55976b-4cc4-48d8-af31-211ebf64a83e', username='username123', firstName='firstName', lastName='lastName', personRef='personRef', email='test@test.no', cellPhone='12345678'}, username=username123, appid=9999, role=WhydahDefaultUser
12:20:53.942 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='8b55976b-4cc4-48d8-af31-211ebf64a83e', username='username123', firstName='firstName', lastName='lastName', personRef='personRef', email='test@test.no', cellPhone='12345678'}
12:20:53.950 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - User already exists, could not create user username123
12:20:53.960 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: usdde129f3c51543659cbe75471e89b40c
12:20:53.991 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='9478e172-a0e5-4147-94ac-05c4bfc70797', username='usdde129f3c51543659cbe75471e89b40c', firstName='Mt Test', lastName='Testesen', personRef='pref', email='8e7789d85c4544eea49145f8fb761791@getwhydah.com', cellPhone='null'}, username=usdde129f3c51543659cbe75471e89b40c, appid=9999, role=WhydahDefaultUser
12:20:54.122 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='9478e172-a0e5-4147-94ac-05c4bfc70797', username='usdde129f3c51543659cbe75471e89b40c', firstName='Mt Test', lastName='Testesen', personRef='pref', email='8e7789d85c4544eea49145f8fb761791@getwhydah.com', cellPhone='null'}
12:20:54.127 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:54.127 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:54.132 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:54.133 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:54.133 [pool-361-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:20:54.134 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:54.135 [pool-361-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:20:54.135 [NioProcessor-85] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 16: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:55.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:16
12:20:55.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:20:55.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:20:55.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 17: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:20:55.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 17: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:20:57.133 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:57.137 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:57.139 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap,target/data/hsqldb,data/luceneusers
12:20:57.219 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:57.738 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:58.198 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:58.199 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:58.200 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:58.200 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:58.202 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:58.203 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:58.214 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:58.214 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/data/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:20:58.215 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/data/hsqldb/roles (HSQL Database Engine 2.3)
12:20:58.220 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:20:58.224 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": 1.1.1
12:20:58.224 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "PUBLIC" is up to date. No migration necessary.
12:20:58.244 [main] INFO  n.w.i.u.a.UserAdminHelper - addUser - Added new user: use840601e755c42ff96ed9e8fbcc4d102
12:20:58.246 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=role, value=uid=LDAPUserIdentity{uid='0db0e420-9e70-4bbd-b5bd-868b17733920', username='use840601e755c42ff96ed9e8fbcc4d102', firstName='Mt Test', lastName='Testesen', personRef='pref', email='27658a94f979439a82e959f381c23ae8@getwhydah.com', cellPhone='null'}, username=use840601e755c42ff96ed9e8fbcc4d102, appid=9999, role=WhydahDefaultUser
12:20:58.408 [main] ERROR n.w.i.u.a.UserAdminHelper - authenticatedUser is not set. Auditing failed for action=added, what=user, value=LDAPUserIdentity{uid='0db0e420-9e70-4bbd-b5bd-868b17733920', username='use840601e755c42ff96ed9e8fbcc4d102', firstName='Mt Test', lastName='Testesen', personRef='pref', email='27658a94f979439a82e959f381c23ae8@getwhydah.com', cellPhone='null'}
12:20:58.412 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:58.412 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:58.420 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:20:58.428 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:20:58.435 [main] INFO  net.whydah.identity.util.FileUtils - Deleting directories target/bootstrapdata/ldap
12:20:58.520 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Directory Service. Config: baseDN=dc=people,dc=whydah,dc=no, bindHost=localhost, bindPort=10389, ldapSaslPrincipal=null, directoryServiceFactory=file, ldif=classpath:prodInitData/ldap/default-users.ldif
12:20:59.032 [main] WARN  o.a.d.s.core.DefaultDirectoryService - ApacheDS shutdown hook has NOT been registered with the runtime.  This default setting for standalone operation has been overriden.
12:20:59.462 [main] WARN  o.a.d.s.core.DefaultDirectoryService - You didn't change the admin password of directory service instance 'peopleDS'.  Please update the admin password as soon as possible to prevent a possible security breach.
12:20:59.463 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Importing LDIF: classpath:prodInitData/ldap/default-users.ldif
12:20:59.463 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Content of LDIF: version: 1

dn: dc=people,dc=whydah,dc=no
objectClass: top
objectClass: extensibleObject
objectClass: domain
dc: people

dn: ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: organizationalUnit
ou: users

dn: uid=uawaadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: UAWA Admin
sn: Bellamy
employeeNumber: 0
givenName:  Samuel Black Sam
initials: uawaadmin
mail: uawaadmin@cantara.no
mobile: 1555406789
uid: uawaadmin
userpassword:: YWRtaW4=

dn: uid=uasadmin,ou=users,dc=people,dc=whydah,dc=no
objectClass: top
objectClass: inetOrgPerson
objectClass: organizationalPerson
objectClass: person
cn: Morice
sn: Admin
employeeNumber: 0
givenName: Sir Humphrey
initials: uasadmin
mail: uasadmin@cantara.no
mobile: 1555406789
uid: uasadmin
userpassword:: YWRtaW4=

12:20:59.464 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Entry dc=people,dc=whydah,dc=no already exists. Ignoring
12:20:59.465 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Creating LDAP Server
12:20:59.465 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Starting LDAP Server
12:20:59.477 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - LDAP Server started
12:20:59.477 [main] INFO  n.w.i.u.identity.LdapAuthenticator - Initialize LdapAuthenticator with ldapUrl=ldap://localhost:10389/dc=people,dc=whydah,dc=no, admPrincipal=uid=admin,ou=system, uidAttribute=uid, usernameAttribute=initials
12:20:59.551 [main] INFO  n.w.i.u.identity.LdapUserIdentityDao - deleteUserIdentity with username=usernameToBeDeleted
12:20:59.561 [main] INFO  net.whydah.identity.Main - Stopping embedded Apache DS.
12:20:59.561 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping LDAP server.
12:20:59.562 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.562 [pool-371-thread-1] WARN  o.a.d.server.ldap.LdapSession - AbandonableRequest with messageId 2 not found in outstandingRequests.
12:20:59.563 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.563 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.563 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.564 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.564 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.564 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.565 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.565 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:594)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:20:59.565 [NioProcessor-91] WARN  o.a.d.s.ldap.LdapProtocolHandler - Unexpected exception forcing session to close: sending disconnect notice to client.
org.apache.mina.core.write.WriteToClosedSessionException: null
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.clearWriteRequestQueue(AbstractPollingIoProcessor.java:642)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:603)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:564)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:67)
	at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1129)
	at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
12:21:00.563 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Stopping Directory service.
12:21:00.566 [main] INFO  n.w.identity.ldapserver.EmbeddedADS - Working LDAP directory not deleted. Delete it manually if you want to startJetty with fresh LDAP data. Directory location: /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/bootstrapdata/ldap
12:21:00.593 [main] INFO  hsqldb.db.HSQLDB658F80152F.ENGINE - Checkpoint start
12:21:00.593 [main] INFO  hsqldb.db.HSQLDB658F80152F.ENGINE - checkpointClose start
12:21:00.691 [main] INFO  hsqldb.db.HSQLDB658F80152F.ENGINE - checkpointClose end
12:21:00.691 [main] INFO  hsqldb.db.HSQLDB658F80152F.ENGINE - Checkpoint end - txts: 1
12:21:00.741 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles (HSQL Database Engine 2.3)
12:21:00.744 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:21:00.744 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:00.747 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:21:00.748 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:00.751 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:00.751 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:00.754 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:00.757 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:00.759 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:00.762 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
12:21:00.766 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:21:00.766 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:00.770 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:21:00.771 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:00.774 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:00.774 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:00.777 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:00.780 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:00.783 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:00.786 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.015s).
12:21:00.791 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:21:00.791 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:00.794 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.002s)
12:21:00.795 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:00.799 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:00.799 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:00.803 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:00.807 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:00.811 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:00.815 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.020s).
12:21:00.824 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.001s)
12:21:00.824 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:00.830 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.004s)
12:21:00.832 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:00.835 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:00.836 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:00.839 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:00.844 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:00.849 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:00.854 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.022s).
12:21:00.861 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.002s)
12:21:00.861 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/UserPropertyAndRoleDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:00.865 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:21:00.866 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:00.869 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:00.869 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:00.872 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:00.875 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:00.878 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:00.881 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.014s).
12:21:01.387 [main] WARN  n.w.identity.security.SecurityFilter - Running in noSecurityFilter mode, security is omitted for users.
12:21:01.486 [main] ERROR n.w.s.d.model.base.AssertionConcern - Invalid email address 
12:21:01.525 [main] INFO  hsqldb.db.HSQLDB658F8018CC.ENGINE - Checkpoint start
12:21:01.525 [main] INFO  hsqldb.db.HSQLDB658F8018CC.ENGINE - checkpointClose start
12:21:01.638 [main] INFO  hsqldb.db.HSQLDB658F8018CC.ENGINE - checkpointClose end
12:21:01.639 [main] INFO  hsqldb.db.HSQLDB658F8018CC.ENGINE - Checkpoint end - txts: 1
12:21:01.697 [main] INFO  o.f.c.i.dbsupport.DbSupportFactory - Database: jdbc:hsqldb:file:target/ApplicationDaoTest/hsqldb/roles (HSQL Database Engine 2.3)
12:21:01.699 [main] INFO  o.f.core.internal.command.DbClean - Cleaned schema "PUBLIC" (execution time 00:00.000s)
12:21:01.699 [main] INFO  n.w.i.d.DatabaseMigrationHelper - Upgrading database with url=jdbc:hsqldb:file:target/ApplicationDaoTest/hsqldb/roles using migration files from [classpath:db/migration/hsqldb]
12:21:01.703 [main] INFO  o.f.core.internal.command.DbValidate - Validated 4 migrations (execution time 00:00.003s)
12:21:01.704 [main] INFO  o.f.c.i.m.MetaDataTableImpl - Creating Metadata table: "PUBLIC"."schema_version"
12:21:01.707 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
12:21:01.707 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.0 - ddl
12:21:01.711 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.0.1 - appModel
12:21:01.715 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.0 - appModelJson
12:21:01.720 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version 1.1.1 - biggerRolevalues
12:21:01.723 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 4 migrations to schema "PUBLIC" (execution time 00:00.019s).
12:21:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 17: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:21:05.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:17
12:21:05.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:21:05.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:21:05.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 18: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:21:05.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 18: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
thread_ACS added item to index
thread_Simulated application 99 added item to index
thread_Simulated application 98 added item to index
thread_Simulated application 97 added item to index
thread_Simulated application 96 added item to index
thread_Simulated application 95 added item to index
thread_Simulated application 94 added item to index
thread_Simulated application 93 added item to index
thread_Simulated application 92 added item to index
thread_Simulated application 91 added item to index
thread_Simulated application 90 added item to index
thread_Simulated application 89 added item to index
thread_Simulated application 87 added item to index
thread_Simulated application 88 added item to index
thread_Simulated application 86 added item to index
thread_Simulated application 85 added item to index
thread_Simulated application 84 added item to index
thread_Simulated application 83 added item to index
thread_Simulated application 82 added item to index
thread_Simulated application 81 added item to index
thread_Simulated application 80 added item to index
thread_Simulated application 79 added item to index
thread_Simulated application 78 added item to index
thread_Simulated application 77 added item to index
thread_Simulated application 76 added item to index
thread_Simulated application 75 added item to index
thread_Simulated application 74 added item to index
thread_Simulated application 73 added item to index
thread_Simulated application 72 added item to index
thread_Simulated application 69 added item to index
thread_Simulated application 71 added item to index
thread_Simulated application 70 added item to index
thread_Simulated application 68 added item to index
thread_Simulated application 67 added item to index
thread_Simulated application 66 added item to index
thread_Simulated application 65 added item to index
thread_Simulated application 64 added item to index
thread_Simulated application 62 added item to index
thread_Simulated application 63 added item to index
thread_Simulated application 61 added item to index
thread_Simulated application 60 added item to index
thread_Simulated application 59 added item to index
thread_Simulated application 58 added item to index
thread_Simulated application 57 added item to index
thread_Simulated application 56 added item to index
thread_Simulated application 55 added item to index
thread_Simulated application 54 added item to index
thread_Simulated application 53 added item to index
thread_Simulated application 52 added item to index
thread_Simulated application 51 added item to index
thread_Simulated application 50 added item to index
thread_Simulated application 49 added item to index
thread_Simulated application 48 added item to index
thread_Simulated application 47 added item to index
thread_Simulated application 46 added item to index
thread_Simulated application 40 added item to index
thread_Simulated application 45 added item to index
thread_Simulated application 42 added item to index
thread_Simulated application 43 added item to index
thread_Simulated application 41 added item to index
thread_Simulated application 44 added item to index
thread_Simulated application 38 added item to index
thread_Simulated application 39 added item to index
thread_Simulated application 36 added item to index
thread_Simulated application 37 added item to index
thread_Simulated application 35 added item to index
thread_Simulated application 34 added item to index
thread_Simulated application 33 added item to index
thread_Simulated application 32 added item to index
thread_Simulated application 30 added item to index
thread_Simulated application 14 added item to index
thread_Simulated application 26 added item to index
thread_Simulated application 31 added item to index
thread_Simulated application 27 added item to index
thread_Simulated application 28 added item to index
thread_Simulated application 29 added item to index
thread_Simulated application 25 added item to index
thread_Simulated application 24 added item to index
thread_Simulated application 23 added item to index
thread_Simulated application 13 added item to index
thread_Simulated application 15 added item to index
thread_Simulated application 11 added item to index
thread_Simulated application 12 added item to index
thread_Simulated application 20 added item to index
thread_Simulated application 22 added item to index
thread_Simulated application 18 added item to index
thread_Simulated application 19 added item to index
thread_Simulated application 17 added item to index
thread_Simulated application 16 added item to index
thread_Simulated application 21 added item to index
thread_Whydah-UserAdminWebApp added item to index
thread_Simulated application 10 added item to index
thread_Whydah-SSOLoginWebApp added item to index
thread_Whydah-TestWebApplication added item to index
thread_Simulated application 9 added item to index
thread_Simulated application 8 added item to index
thread_Simulated application 6 added item to index
thread_Simulated application 5 added item to index
thread_Simulated application 7 added item to index
thread_Simulated application 4 added item to index
thread_Simulated application 3 added item to index
thread_m2Circle added item to index
thread_Simulated application 2 added item to index
thread_Simulated application 1 added item to index
thread_Whydah-SecurityTokenService added item to index
thread_Whydah-UserAdminService added item to index
thread_ACSResource added item to index
thread_Whydah-UserIdentityBackend added item to index
thread_Simulated application 0 added item to index
Thread count 109
Total records: 109
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
12:21:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 18: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:21:15.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:18
12:21:15.345 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:21:15.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:21:15.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 19: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:21:15.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 19: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
tear down after tests...
initializing before tests...
initialized
thread_ACS added its item to the index
thread_Simulated application 99 added its item to the index
thread_Simulated application 98 added its item to the index
thread_Simulated application 97 added its item to the index
thread_Simulated application 96 added its item to the index
thread_Simulated application 95 added its item to the index
thread_Simulated application 94 added its item to the index
thread_Simulated application 93 added its item to the index
thread_Simulated application 92 added its item to the index
thread_Simulated application 91 added its item to the index
thread_Simulated application 90 added its item to the index
thread_Simulated application 89 added its item to the index
thread_Simulated application 88 added its item to the index
thread_Simulated application 87 added its item to the index
thread_Simulated application 85 added its item to the index
thread_Simulated application 86 added its item to the index
thread_Simulated application 84 added its item to the index
thread_Simulated application 83 added its item to the index
thread_Simulated application 82 added its item to the index
thread_Simulated application 81 added its item to the index
thread_Simulated application 80 added its item to the index
thread_Simulated application 79 added its item to the index
thread_Simulated application 78 added its item to the index
thread_Simulated application 77 added its item to the index
thread_Simulated application 76 added its item to the index
thread_Simulated application 75 added its item to the index
thread_Simulated application 74 added its item to the index
thread_Simulated application 73 added its item to the index
thread_Simulated application 72 added its item to the index
thread_Simulated application 71 added its item to the index
thread_Simulated application 70 added its item to the index
thread_Simulated application 69 added its item to the index
thread_Simulated application 68 added its item to the index
thread_Simulated application 67 added its item to the index
thread_Simulated application 66 added its item to the index
thread_Simulated application 65 added its item to the index
thread_Simulated application 64 added its item to the index
thread_Simulated application 63 added its item to the index
thread_Simulated application 62 added its item to the index
thread_Simulated application 61 added its item to the index
thread_Simulated application 60 added its item to the index
thread_Simulated application 59 added its item to the index
thread_Simulated application 58 added its item to the index
thread_Simulated application 57 added its item to the index
thread_Simulated application 56 added its item to the index
thread_Simulated application 54 added its item to the index
thread_Simulated application 55 added its item to the index
thread_Simulated application 53 added its item to the index
thread_Simulated application 51 added its item to the index
thread_Simulated application 51 removed its item out of the index list
thread_Simulated application 52 added its item to the index
thread_Simulated application 49 added its item to the index
thread_Simulated application 52 removed its item out of the index list
thread_Simulated application 50 added its item to the index
thread_Simulated application 48 added its item to the index
thread_Simulated application 48 removed its item out of the index list
thread_Simulated application 47 added its item to the index
thread_Simulated application 46 added its item to the index
thread_Simulated application 45 added its item to the index
thread_Simulated application 44 added its item to the index
thread_Simulated application 45 removed its item out of the index list
thread_Simulated application 43 added its item to the index
thread_Simulated application 42 added its item to the index
thread_Simulated application 41 added its item to the index
thread_Simulated application 39 added its item to the index
thread_Simulated application 40 added its item to the index
thread_Simulated application 38 added its item to the index
thread_Simulated application 37 added its item to the index
12:21:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 19: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:21:25.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:19
12:21:25.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:21:25.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:21:25.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 20: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:21:25.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 20: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
thread_Simulated application 36 added its item to the index
thread_Simulated application 35 added its item to the index
thread_Simulated application 34 added its item to the index
thread_Simulated application 33 added its item to the index
thread_Simulated application 33 removed its item out of the index list
thread_Simulated application 32 added its item to the index
thread_Simulated application 31 added its item to the index
thread_Simulated application 30 added its item to the index
thread_Simulated application 29 added its item to the index
thread_Simulated application 28 added its item to the index
thread_Simulated application 27 added its item to the index
thread_Simulated application 27 removed its item out of the index list
thread_Simulated application 25 added its item to the index
thread_Simulated application 26 added its item to the index
thread_Simulated application 23 added its item to the index
thread_Simulated application 24 added its item to the index
thread_Simulated application 24 removed its item out of the index list
thread_Simulated application 0 added its item to the index
thread_Simulated application 22 added its item to the index
thread_Simulated application 21 added its item to the index
thread_Simulated application 17 added its item to the index
thread_Simulated application 20 added its item to the index
thread_Simulated application 15 added its item to the index
thread_Simulated application 19 added its item to the index
thread_Simulated application 14 added its item to the index
thread_Simulated application 18 added its item to the index
thread_Simulated application 13 added its item to the index
thread_Simulated application 16 added its item to the index
thread_Simulated application 9 added its item to the index
thread_Simulated application 11 added its item to the index
thread_Simulated application 12 added its item to the index
thread_Simulated application 10 added its item to the index
thread_Simulated application 8 added its item to the index
thread_Simulated application 7 added its item to the index
thread_Simulated application 6 added its item to the index
thread_Whydah-SSOLoginWebApp added its item to the index
thread_Whydah-SSOLoginWebApp removed its item out of the index list
thread_Simulated application 4 added its item to the index
thread_ACSResource added its item to the index
thread_Simulated application 5 added its item to the index
thread_Simulated application 3 added its item to the index
thread_Simulated application 2 added its item to the index
thread_Whydah-SecurityTokenService added its item to the index
thread_Whydah-UserIdentityBackend added its item to the index
thread_Simulated application 1 added its item to the index
thread_Whydah-UserAdminService added its item to the index
thread_Whydah-UserAdminWebApp added its item to the index
thread_m2Circle added its item to the index
thread_Whydah-TestWebApplication added its item to the index
thread_m2Circle removed its item out of the index list
thread_Whydah-UserAdminWebApp removed its item out of the index list
thread_Whydah-UserAdminService removed its item out of the index list
thread_Simulated application 1 removed its item out of the index list
thread_Whydah-UserIdentityBackend updated its item
thread_Whydah-SecurityTokenService updated its item
thread_Simulated application 2 removed its item out of the index list
thread_Simulated application 3 updated its item
thread_Simulated application 5 removed its item out of the index list
thread_ACSResource updated its item
thread_Simulated application 4 removed its item out of the index list
thread_Simulated application 6 updated its item
thread_Simulated application 7 removed its item out of the index list
thread_Simulated application 8 updated its item
thread_Simulated application 10 removed its item out of the index list
thread_Simulated application 12 updated its item
thread_Simulated application 11 removed its item out of the index list
thread_Simulated application 9 removed its item out of the index list
thread_Simulated application 16 updated its item
thread_Simulated application 13 removed its item out of the index list
thread_Simulated application 18 removed its item out of the index list
thread_Simulated application 14 updated its item
thread_Simulated application 19 updated its item
thread_Simulated application 15 updated its item
thread_Simulated application 20 updated its item
thread_Simulated application 17 updated its item
thread_Simulated application 21 updated its item
thread_Simulated application 0 updated its item
thread_Simulated application 22 updated its item
thread_Simulated application 23 updated its item
thread_Simulated application 26 updated its item
thread_Simulated application 25 updated its item
thread_Simulated application 28 updated its item
thread_Simulated application 29 updated its item
thread_Simulated application 32 updated its item
thread_Simulated application 30 updated its item
thread_Simulated application 31 removed its item out of the index list
thread_Simulated application 34 updated its item
thread_Simulated application 35 updated its item
thread_Simulated application 36 updated its item
thread_Simulated application 38 updated its item
thread_Simulated application 37 removed its item out of the index list
thread_Simulated application 40 removed its item out of the index list
thread_Simulated application 39 updated its item
thread_Simulated application 41 removed its item out of the index list
thread_Simulated application 43 updated its item
thread_Simulated application 42 removed its item out of the index list
thread_Simulated application 46 updated its item
thread_Simulated application 44 updated its item
thread_Simulated application 47 removed its item out of the index list
thread_Simulated application 50 updated its item
thread_Simulated application 49 updated its item
thread_Simulated application 53 updated its item
thread_Simulated application 55 removed its item out of the index list
thread_Simulated application 54 updated its item
thread_Simulated application 56 updated its item
thread_Simulated application 57 removed its item out of the index list
thread_Simulated application 58 removed its item out of the index list
thread_Simulated application 59 removed its item out of the index list
thread_Simulated application 60 removed its item out of the index list
thread_Simulated application 61 updated its item
thread_Simulated application 62 removed its item out of the index list
thread_Simulated application 63 removed its item out of the index list
thread_Simulated application 64 removed its item out of the index list
thread_Simulated application 65 updated its item
thread_Simulated application 66 updated its item
thread_Simulated application 67 updated its item
thread_Simulated application 68 updated its item
thread_Simulated application 70 updated its item
thread_Simulated application 69 updated its item
thread_Simulated application 71 removed its item out of the index list
thread_Simulated application 72 removed its item out of the index list
thread_Simulated application 73 updated its item
thread_Simulated application 74 updated its item
thread_Simulated application 75 updated its item
thread_Simulated application 76 updated its item
thread_Simulated application 77 removed its item out of the index list
thread_Simulated application 78 removed its item out of the index list
thread_Simulated application 79 removed its item out of the index list
thread_Simulated application 80 updated its item
thread_Simulated application 81 updated its item
thread_Simulated application 82 removed its item out of the index list
thread_Simulated application 83 removed its item out of the index list
thread_Simulated application 84 updated its item
thread_Simulated application 86 removed its item out of the index list
thread_Simulated application 85 removed its item out of the index list
thread_Simulated application 87 updated its item
thread_Simulated application 88 updated its item
thread_Simulated application 89 removed its item out of the index list
thread_Simulated application 90 removed its item out of the index list
thread_Simulated application 91 removed its item out of the index list
thread_Simulated application 92 removed its item out of the index list
thread_Simulated application 93 removed its item out of the index list
thread_Simulated application 94 removed its item out of the index list
thread_Simulated application 95 removed its item out of the index list
thread_Simulated application 96 updated its item
thread_Simulated application 97 updated its item
thread_Simulated application 98 updated its item
thread_Simulated application 99 removed its item out of the index list
thread_ACS removed its item out of the index list
thread_Whydah-TestWebApplication updated its item
12:21:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 20: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
12:21:35.342 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - Renew WAS: No active application session, applicationToken:null, myAppCredential:ApplicationCredential{applicationID='2210', applicationName='Whydah-UserIdentityBackend', applicationSecret='******', applicationurl='', minimumsecuritylevel='0', minimumDEFCONlevel='DEFCON5'}, logonAttemptNo:20
12:21:35.346 [hystrix-STSApplicationAuthGroup-10] WARN  n.w.s.c.a.CommandLogonApplication, pool :STSApplicationAuthGroup - net.whydah.sso.commands.appauth.CommandLogonApplication, pool :STSApplicationAuthGroup - fallback - whydahServiceUri=http://localhost:9998/tokenservice/logon
12:21:35.346 [pool-38-thread-1] ERROR net.whydah.sso.util.WhydahUtil - logOnApplication - unable to create application session on http://localhost:9998/tokenservice/ for appCredentials: <?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
 <applicationcredential>
    <params>
        <applicationID>2210</applicationID>
        <applicationName>Whydah-UserIdentityBackend</applicationName>
        <applicationSecret>6r46g3q986Ep6By7B9J46m96D</applicationSecret>
        <applicationurl></applicationurl>
        <minimumsecuritylevel>0</minimumsecuritylevel>
        <DEFCON>DEFCON5</DEFCON>
    </params> 
</applicationcredential>

12:21:35.346 [pool-38-thread-1] WARN  n.w.s.s.WhydahApplicationSession - InitWAS 21: Error, unable to initialize new application session,, reset application session  applicationTokenXml: null
12:21:35.346 [pool-38-thread-1] INFO  n.w.s.s.WhydahApplicationSession - WAS 21: Application session removed for applicationID: 2210 applicationName: Whydah-UserIdentityBackend,
Thread count 109
Total items updated: 56
Total items removed: 53
Total records (exlude deletion): 56
tear down after tests...
initializing before tests...
initialized
tear down after tests...
initializing before tests...
initialized
tear down after tests...
{"id":"appId1","name":"applicationName1","description":"description of application","company":"","tags":"","applicationUrl":"https://webtest.exapmle.com/test.png","logoUrl":"https://webtest.example.com","roles":[{"id":"roleId1","name":"roleName1"}],"defaultRoleName":"roleName1","organizationNames":[{"id":"orgId","name":"organizationName1"},{"id":"orgidxx","name":"defaultOrgName"}],"defaultOrganizationName":"defaultOrgName","security":{"minSecurityLevel":"0","minimumDEFCONLevel":"DEFCON5","maxSessionTimeoutSeconds":"15642000000","allowedIpAddresses":["0.0.0.0/0"],"userTokenFilter":true,"whydahUASAccess":false,"secret":"veryVerySecret","whydahAdmin":false},"supportedUserSessionLevels":[],"minimumApplicationDEFCON":"DEFCON5","orgs":[{"id":"orgId","name":"organizationName1"},{"id":"orgidxx","name":"defaultOrgName"}],"acl":[{"applicationId":"11","applicationACLPath":"/user","accessRights":["READ"]}]}
Tests run: 100, Failures: 1, Errors: 0, Skipped: 2, Time elapsed: 216.75 sec <<< FAILURE! - in TestSuite
testApplicationSearch on testApplicationSearch(net.whydah.identity.application.search.LuceneApplicationSearchTest)(net.whydah.identity.application.search.LuceneApplicationSearchTest)  Time elapsed: 3.682 sec  <<< FAILURE!
java.lang.AssertionError: expected:<1> but was:<true>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at net.whydah.identity.application.search.LuceneApplicationSearchTest.testApplicationSearch(LuceneApplicationSearchTest.java:40)


Results :

Failed tests: 
  LuceneApplicationSearchTest.testApplicationSearch:40 expected:<1> but was:<true>

Tests run: 100, Failures: 1, Errors: 0, Skipped: 2

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 03:40 min
[INFO] Finished at: 2018-08-31T12:21:38+02:00
[INFO] Final Memory: 22M/305M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project UserIdentityBackend: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/Cantara/Whydah-UserIdentityBackend/422955003/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
