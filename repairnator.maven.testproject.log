[INFO] Scanning for projects...
[INFO] Inspecting build with total of 4 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 3 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] SonarQube Ansible
[INFO] SonarQube Ansible API
[INFO] SonarQube Ansible Plugin
[INFO] SonarQube Ansible Extras Plugin
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building SonarQube Ansible 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- license-maven-plugin:3.0:format (default) @ sonar-ansible ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building SonarQube Ansible API 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- license-maven-plugin:3.0:format (default) @ sonar-ansible-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ sonar-ansible-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/sbaudoin/sonar-ansible/427886114/sonar-ansible-api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ sonar-ansible-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ sonar-ansible-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 23 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ sonar-ansible-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ sonar-ansible-api ---
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.19.1/surefire-junit4-2.19.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.19.1/surefire-junit4-2.19.1.pom (4 KB at 8.4 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.19.1/surefire-providers-2.19.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.19.1/surefire-providers-2.19.1.pom (3 KB at 67.6 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.19.1/surefire-junit4-2.19.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.19.1/surefire-junit4-2.19.1.jar (74 KB at 932.3 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest
ERROR Error executing command
DEBUG Executing command: [src/test/resources/scripts/echo.sh, foo]
DEBUG new LineInputReader(java.lang.UNIXProcess$ProcessPipeInputStream@6973bf95)
DEBUG new LineInputReader(java.lang.UNIXProcess$ProcessPipeInputStream@2ddc8ecb)
DEBUG Read from input: foo

[]
DEBUG Read from input: 
WARN  Invalid issue syntax, ignoring: Bla bla
WARN  Invalid issue syntax, ignoring: src/test/resources/playbooks/playbook1.yml:Bla bla
WARN  Invalid issue syntax, ignoring: src/test/resources/playbooks/playbook1.yml:4: [AnyCheck2] Another error
WARN  Invalid issue syntax, ignoring: invalid issue
WARN  Invalid issue syntax, ignoring: filename:invalid issue
WARN  Invalid issue syntax, ignoring: filename:a:invalid issue
WARN  Invalid issue syntax, ignoring: filename:12:invalid issue
WARN  Invalid issue syntax, ignoring: filename:12: invalid issue
WARN  Invalid issue syntax, ignoring: filename:12:[xxx]invalid issue
WARN  Invalid issue syntax, ignoring: filename:12: [xxx]invalid issue
WARN  Invalid issue syntax, ignoring: filename:12: [xxx] invalid issue
WARN  Invalid issue syntax, ignoring: filename:12: [Exxx]invalid issue
WARN  Invalid issue syntax, ignoring: filename:12:[Exxx]invalid issue
WARN  Invalid issue syntax, ignoring: filename:12:[Exxx] invalid issue
WARN  Invalid issue syntax, ignoring: filename:12: [Exxx invalid issue
Tests run: 9, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 0.907 sec <<< FAILURE! - in com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest
testExecuteWithAnsibleLintStdOutput(com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest)  Time elapsed: 0.468 sec  <<< FAILURE!
java.lang.AssertionError: expected:<3> but was:<0>
	at com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest.testExecuteWithAnsibleLintStdOutput(AbstractAnsibleSensorTest.java:139)

testExecuteCommand(com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest)  Time elapsed: 0.009 sec  <<< FAILURE!
java.lang.AssertionError: expected:<1> but was:<0>
	at com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest.testExecuteCommand(AbstractAnsibleSensorTest.java:178)

testExecuteWithAnsibleLintErrorOutput(com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest)  Time elapsed: 0.314 sec  <<< FAILURE!
java.lang.AssertionError: expected:<3> but was:<0>
	at com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleSensorTest.testExecuteWithAnsibleLintErrorOutput(AbstractAnsibleSensorTest.java:114)

Running com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleRulesDefinitionTest
INFO  No Ansible Lint rules found
WARN  Using default FS because of an error: Path component should be '/'
WARN  Rule extra-rule2 defined but not described (.html file missing)
WARN  Using default FS because of an error: Path component should be '/'
WARN  Rule rule2 defined but not described (.html file missing)
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.48 sec - in com.github.sbaudoin.sonar.plugins.ansible.rules.AbstractAnsibleRulesDefinitionTest
Running com.github.sbaudoin.sonar.plugins.ansible.checks.AnsibleCheckRepositoryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in com.github.sbaudoin.sonar.plugins.ansible.checks.AnsibleCheckRepositoryTest
Running com.github.sbaudoin.sonar.plugins.ansible.settings.AnsibleSettingsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec - in com.github.sbaudoin.sonar.plugins.ansible.settings.AnsibleSettingsTest
Running com.github.sbaudoin.sonar.plugins.ansible.util.FileSystemTest
WARN  FS already exists for URI: file:///
WARN  Using default FS because of an error: Path component should be '/'
WARN  FS already exists for URI: file:///
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec <<< FAILURE! - in com.github.sbaudoin.sonar.plugins.ansible.util.FileSystemTest
testReadDirectory(com.github.sbaudoin.sonar.plugins.ansible.util.FileSystemTest)  Time elapsed: 0.003 sec  <<< FAILURE!
junit.framework.ComparisonFailure: expected:<rule[1].json> but was:<rule[2].json>
	at com.github.sbaudoin.sonar.plugins.ansible.util.FileSystemTest.testReadDirectory(FileSystemTest.java:75)

Running com.github.sbaudoin.sonar.plugins.ansible.extras.AbstractAnsibleExtrasPluginTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in com.github.sbaudoin.sonar.plugins.ansible.extras.AbstractAnsibleExtrasPluginTest
Running com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraSensorTest
WARN  Using default FS because of an error: Path component should be '/'
ERROR Cannot extract rule src/test/resources/extra-rules/extra-rule1.foo to /tmp/ansible-lint-extra-rules1049986415734962359
INFO  No extra ansible-lint rules found
WARN  Using default FS because of an error: Path component should be '/'
ERROR Error reading extra-rules directory
ERROR Cannot access extra Ansible-lint rule directory
ERROR Unknown error
WARN  Cannot delete temporary directory: forbidden
ERROR Cannot create temporary directory ansible-lint-extra-rules
WARN  Extra rules won't be executed
Tests run: 10, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.674 sec <<< FAILURE! - in com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraSensorTest
testExecute(com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraSensorTest)  Time elapsed: 0.494 sec  <<< FAILURE!
java.lang.AssertionError: expected:<3> but was:<0>
	at com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraSensorTest.testExecute(AnsibleExtraSensorTest.java:100)

Running com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraRulesDefinitionTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.github.sbaudoin.sonar.plugins.ansible.extras.rules.AnsibleExtraRulesDefinitionTest

Results :

Failed tests: 
  AnsibleExtraSensorTest.testExecute:100 expected:<3> but was:<0>
  AbstractAnsibleSensorTest.testExecuteCommand:178 expected:<1> but was:<0>
  AbstractAnsibleSensorTest.testExecuteWithAnsibleLintErrorOutput:114 expected:<3> but was:<0>
  AbstractAnsibleSensorTest.testExecuteWithAnsibleLintStdOutput:139 expected:<3> but was:<0>
  FileSystemTest.testReadDirectory:75 expected:<rule[1].json> but was:<rule[2].json>

Tests run: 29, Failures: 5, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] SonarQube Ansible .................................. SUCCESS [  0.233 s]
[INFO] SonarQube Ansible API .............................. FAILURE [  5.665 s]
[INFO] SonarQube Ansible Plugin ........................... SKIPPED
[INFO] SonarQube Ansible Extras Plugin .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.110 s
[INFO] Finished at: 2018-09-12T23:23:05+02:00
[INFO] Final Memory: 22M/374M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project sonar-ansible-api: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/sbaudoin/sonar-ansible/427886114/sonar-ansible-api/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :sonar-ansible-api
