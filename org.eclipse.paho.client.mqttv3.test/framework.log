20180607 192627.968 org.eclipse.paho.client.mqttv3.test.logging.LoggingUtilities     banner                         
20180607 192628.001 org.eclipse.paho.client.mqttv3.test.logging.LoggingUtilities     banner                         *************************************************************
20180607 192628.001 org.eclipse.paho.client.mqttv3.test.logging.LoggingUtilities     banner                         * ConnectionLossTest.setUpBeforeClass
20180607 192628.001 org.eclipse.paho.client.mqttv3.test.logging.LoggingUtilities     banner                         *************************************************************
20180607 192628.007 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <clinit>                       Property class 'org.eclipse.paho.client.mqttv3.test.properties.ClientTestProperties' not found
20180607 192628.007 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <clinit>                       Property class 'org.eclipse.paho.client.mqttv3.test.properties.MqTestProperties' not found
20180607 192628.007 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <clinit>                       Property class 'org.eclipse.paho.client.mqttv3.test.properties.ImsTestProperties' not found
20180607 192628.008 org.eclipse.paho.client.mqttv3.test.properties.TestProperties --> getServerURI                   
20180607 192628.008 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     getPropertyFileAsStream        Property file: 'test.properties' not found
20180607 192628.008 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                         Loading properties from: 'test.properties'
20180607 192628.009 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              SERVER_URI = tcp://localhost:1883
20180607 192628.009 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              CLIENT_TRUST_STORE = clientkeystore.jks
20180607 192628.009 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              SERVER_SSL_PORT = 18885
20180607 192628.010 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              CLIENT_KEY_STORE = clientkeystore.jks
20180607 192628.010 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              CLIENT_KEY_STORE_PASSWORD = password
20180607 192628.010 org.eclipse.paho.client.mqttv3.test.properties.TestProperties     <init>                                              SERVER_WEBSOCKET_URI = ws://localhost:1883
20180607 192628.011 org.eclipse.paho.client.mqttv3.test.properties.TestProperties <-- getServerURI                   "tcp://localhost:1883"
20180607 192628.016 org.eclipse.paho.client.mqttv3.test.connectionLoss.ConnectionLossTest     setUpBeforeClass               Proxy Started, port set to: 46858
20180607 192628.037 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.045 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.051 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.055 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.056 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.056 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.056 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.059 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.063 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.064 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.066 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.066 org.eclipse.paho.client.mqttv3.internal.Token                    waitForCompletion              device-client-id: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@5680a178 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@5fdef03a
20180607 192628.066 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.066 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: >key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@5680a178 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@5fdef03a
20180607 192628.067 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: key=null wait max=-1
20180607 192628.067 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.067 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@88272c4
20180607 192628.067 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.071 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.072 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.073 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.074 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.074 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.074 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.074 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.075 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.075 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.075 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.075 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.075 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.076 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.076 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.077 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.077 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: connect failed: unexpected exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.077 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.078 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.078 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.078 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.078 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.078 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.079 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.079 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.079 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.079 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.079 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.079 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.CommsCallback            asyncOperationComplete         device-client-id: new workAvailable. key=Con
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.080 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.081 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.081 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.081 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@2410c7a2
20180607 192628.082 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.083 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.083 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.083 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.083 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.084 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.084 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.084 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.084 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.084 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.085 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.085 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.085 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.085 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.085 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: connect failed: unexpected exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.086 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.087 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.087 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.CommsCallback            asyncOperationComplete         device-client-id: new workAvailable. key=Con
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.088 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: failed with exception
Connection lost (32109) - java.io.EOFException
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readByte(DataInputStream.java:267)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:150)
	... 7 more
20180607 192628.089 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.099 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.100 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.100 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.100 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.100 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.101 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.101 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.101 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.102 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.102 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.102 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.102 org.eclipse.paho.client.mqttv3.internal.Token                    waitForCompletion              device-client-id: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@7c53a9eb ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@ed17bee
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: >key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@7c53a9eb ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@ed17bee
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@33fadc8f
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: key=null wait max=-1
20180607 192628.103 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.104 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.104 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.104 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.104 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.105 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.105 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.105 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.105 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.105 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.106 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.106 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.106 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.106 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@33fadc8f
20180607 192628.107 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.107 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.107 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.109 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.108 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=12
20180607 192628.109 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.109 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.110 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.110 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.110 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.110 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.110 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.111 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.111 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.111 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.111 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.111 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.111 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.112 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.112 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.113 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@653764dc
20180607 192628.114 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.114 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.114 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.114 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.115 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.115 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.116 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.117 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.117 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: connect failed: unexpected exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.118 org.eclipse.paho.client.mqttv3.internal.CommsCallback            asyncOperationComplete         device-client-id: new workAvailable. key=Con
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.119 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@653764dc
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Client is currently disconnecting (32102)
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.120 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.121 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.121 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.121 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.121 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.121 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.121 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Client is currently disconnecting (32102)
20180607 192628.122 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.122 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Client is currently disconnecting (32102)
20180607 192628.122 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Client is currently disconnecting (32102)
20180607 192628.122 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: failed with exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.124 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.125 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.125 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.126 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.126 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.126 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.127 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.127 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.127 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.128 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.128 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.128 org.eclipse.paho.client.mqttv3.internal.Token                    waitForCompletion              device-client-id: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@707f7052 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@11028347
20180607 192628.128 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.129 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.129 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: >key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@707f7052 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@11028347
20180607 192628.129 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b8ef485
20180607 192628.129 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: key=null wait max=-1
20180607 192628.129 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.130 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.130 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.130 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.131 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b8ef485
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.132 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=12
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.133 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.134 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.134 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.134 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.135 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.135 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.135 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.135 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.135 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.135 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.136 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.136 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.136 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.137 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@4233371b
20180607 192628.138 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.138 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.138 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.138 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.138 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.139 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@4233371b
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.140 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=14
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.141 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.142 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.143 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.143 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.143 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.143 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.143 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.143 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.144 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.144 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.144 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.144 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: failed with exception
Connection lost (32109) - java.io.EOFException
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readByte(DataInputStream.java:267)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:150)
	... 7 more
20180607 192628.145 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.146 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.146 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.146 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.147 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.147 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.147 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.147 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.147 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.Token                    waitForCompletion              device-client-id: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@2f333739 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@77468bd9
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@33ab55bc
20180607 192628.149 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.149 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.150 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.150 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.148 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: >key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@2f333739 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@77468bd9
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.151 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: key=null wait max=-1
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@33ab55bc
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=12
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.152 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.154 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.154 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.154 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.154 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.154 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.153 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.155 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.155 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.155 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.155 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.155 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.156 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.156 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.156 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.156 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.156 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.157 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.157 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.157 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.157 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.157 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@153e0b01
20180607 192628.158 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.159 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.159 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.159 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.160 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.160 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.161 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: connect failed: unexpected exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.162 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.163 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.163 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.164 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: failed with exception
Connection lost (32109) - java.io.EOFException
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readByte(DataInputStream.java:267)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:150)
	... 7 more
20180607 192628.166 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.166 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.166 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.166 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.167 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.167 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.167 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.167 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.167 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.167 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.Token                    waitForCompletion              device-client-id: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@39a054a5 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@71bc1ae4
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: >key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@39a054a5 ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@71bc1ae4
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@511a2098
20180607 192628.168 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: key=null wait max=-1
20180607 192628.169 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.169 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.169 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.169 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.169 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.169 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@511a2098
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.170 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=12
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.171 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.172 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.172 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.172 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.172 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.172 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.173 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.173 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.174 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@1e7e3354
20180607 192628.175 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.175 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.175 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.176 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.176 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.176 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.176 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.176 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: connect failed: unexpected exception
Client is currently disconnecting (32102)
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.shutdownConnection(ClientComms.java:384)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.177 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.178 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.178 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsCallback            asyncOperationComplete         device-client-id: new workAvailable. key=Con
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.179 org.eclipse.paho.client.mqttv3.internal.Token                    waitForResponse                device-client-id: failed with exception
Connection lost (32109) - java.io.EOFException
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:198)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readByte(DataInputStream.java:267)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
	at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:150)
	... 7 more
20180607 192628.180 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.181 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   MqttAsyncClient                device-client-id: <init> ClientID=device-client-id ServerURI=tcp://localhost:46858 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence@470e2030
20180607 192628.182 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          <Init>                         device-client-id: <>
20180607 192628.182 org.eclipse.paho.client.mqttv3.internal.ClientState              <Init>                         device-client-id: 
20180607 192628.183 org.eclipse.paho.client.mqttv3.internal.ClientState              restoreState                   device-client-id: >
20180607 192628.187 org.eclipse.paho.client.mqttv3.test.connectionLoss.ConnectionLossTest     testConnectionLossWhilePublishingQos1Async Thu Jun 07 19:26:28 CEST 2018 - Connecting...
20180607 192628.188 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   connect                        device-client-id: cleanSession=true connectionTimeout=30 TimekeepAlive=15 userName=username password=[notnull] will=[null] userContext=null callback=null
20180607 192628.188 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: URI=tcp://localhost:46858
20180607 192628.188 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModule            device-client-id: URI=tcp://localhost:46858
20180607 192628.188 org.eclipse.paho.client.mqttv3.MqttAsyncClient                   createNetworkModules           device-client-id: <
20180607 192628.189 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.189 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.189 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.189 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.190 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.190 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@649519df
20180607 192628.190 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.190 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.190 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.191 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.191 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@649519df
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=12
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.192 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.CommsSender              handleRunException             device-client-id: exception
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream.flush(MqttOutputStream.java:49)
	at org.eclipse.paho.client.mqttv3.internal.CommsSender.run(CommsSender.java:142)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.193 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.194 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.194 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.194 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.194 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.194 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.195 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.195 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.195 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.195 org.eclipse.paho.client.mqttv3.internal.ClientComms              connect                        device-client-id: state=CONNECTING
20180607 192628.195 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          open                           device-client-id: >
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.ClientComms              connectBG:run                  device-client-id: >
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingDelTokens        device-client-id: >
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@67f84e55
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
20180607 192628.196 org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule         start                          device-client-id: connect to host localhost port 46,858 timeout 30,000
20180607 192628.197 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            start                          device-client-id: starting
20180607 192628.197 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            Proxy: Client Opened Connection to Proxy...
20180607 192628.197 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: network read message
20180607 192628.197 org.eclipse.paho.client.mqttv3.test.utilities.ConnectionManipulationProxyServer     run                            ConnectionManipulationProxyServer cannot connect to localhost:1883
20180607 192628.197 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.197 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: Stopping due to IOException
20180607 192628.197 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.ClientComms              internalSend                   device-client-id: 200
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTING
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.ClientState              send                           device-client-id: pending send key=0 message CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopping
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: wait for workAvailable
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con message=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: notify workAvailable and wait for run
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          saveToken                      device-client-id: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@67f84e55
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            run                            device-client-id: notify spaceAvailable
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: new work or ping arrived 
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: network send key=Con msg=CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.198 org.eclipse.paho.client.mqttv3.internal.CommsCallback            stop                           device-client-id: stopped
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopping
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=14
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySentBytes                device-client-id: sent bytes count=38
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.wire.MqttOutputStream     write                          null: Sent CONNECT clientId device-client-id keepAliveInterval 15
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            stop                           device-client-id: stopped
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientState              notifySent                     device-client-id: key=Con
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          quiesce                        device-client-id: resp=Client is currently disconnecting (32102)
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientComms              handleOldTokens                device-client-id: >
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.Token                    notifySent                     device-client-id: > key=Con
20180607 192628.199 org.eclipse.paho.client.mqttv3.internal.ClientState              resolveOldTokens               device-client-id: reason Connection lost (32109) - java.io.EOFException
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: wait for new work or for space in the inflight window
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          getOutstandingTokens           device-client-id: >
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          removeToken                    device-client-id: key=Con
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.ClientState              disconnected                   device-client-id: disconnected
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.ClientState              clearState                     device-client-id: >
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.CommsTokenStore          clear                          device-client-id: > 0 tokens
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopping sender
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.CommsSender              stop                           device-client-id: stopped
20180607 192628.200 org.eclipse.paho.client.mqttv3.TimerPingSender                   stop                           device-client-id: stop
20180607 192628.200 org.eclipse.paho.client.mqttv3.internal.ClientState              get                            device-client-id: no outstanding flows and not connected
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: get message returned null, stopping}
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.CommsSender              run                            device-client-id: <
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.ClientComms              shutdownConnection             device-client-id: state=DISCONNECTED
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.CommsCallback            handleActionComplete           device-client-id: callback and notify for key=Con
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=Con response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.CommsCallback            fireActionEvent                device-client-id: call onSuccess key=Con
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.Token                    markComplete                   device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.Token                    notifyComplete                 device-client-id: >key=null response=null excep=Connection lost (32109) - java.io.EOFException
20180607 192628.201 org.eclipse.paho.client.mqttv3.internal.CommsReceiver            run                            device-client-id: <
