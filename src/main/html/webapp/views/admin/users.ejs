<h2>Users</h2>

<p>This page lists all registered users.<br><br></p>

<table  class="table table-striped table-bordered" id="user-list">
<thead>
<tr>
	<th style="width: 16px;"></th>
	<th style="width: 20px;"></th>
	<th style="width: 150px;">Username</th>
	<th style="width: 200px;">Fullname</th>

	<th>E-Mail</th>
	<th style="width: 100px;">Group</th>
	<th style="width: 200px;">Last Login</th>
	<th style="width: 50px;">Attempts</th>
	<th style="width: 16px;"></th>
</tr>
</thead>
<tbody>
<% this.each(function( user ) { %>
    <tr <%= (tr) -> can.data(tr, 'user', user) %>>
			<td>
				<% if (user.attr('lockedUntil')) { %>
					<span class="icon-lock"></span>
				<% } else {%>
					<% if (user.attr('active') == true) { %>
						<span class="icon-ok-sign"></span>
						<% } %>
				<% } %>
			</td>
		<td>
			<a href="http://www.gravatar.com/avatar/<%= md5(user.attr('mail')) %>"><img src="http://www.gravatar.com/avatar/<%= md5(user.attr('mail')) %>?s=20"></a>
		</td>
		<td>
			<%= user.attr('username') %>
		</td>
		<td>
			<%= user.attr('fullName') %>
		</td>
		<td>
			<%= user.attr('mail') %>
		</td>
		<td>
			<%= user.attr('role') %> <span class="icon-pencil" style="cursor: pointer;"></span>
		</td>
		<td>
			<%= user.attr('lastLogin') %>
		</td>
		<td>
			<%= user.attr('loginAttempts') %>
		</td>
		<td>
        	<span class="icon-trash" style="cursor: pointer;"></span>
		</td>
    </tr>
<% }) %>
</tbody>
</table>
