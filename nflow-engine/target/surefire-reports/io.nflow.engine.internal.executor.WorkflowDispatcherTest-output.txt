05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown interrupted.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 ERROR [pool-3-thread-1] xecutor.WorkflowStateProcessor - [user:] Unexpected failure occurred
java.lang.IllegalStateException: Failed to save workflow instance new state
	at io.nflow.engine.internal.executor.WorkflowStateProcessor.saveWorkflowInstanceState(WorkflowStateProcessor.java:223)
	at io.nflow.engine.internal.executor.WorkflowStateProcessor.runImpl(WorkflowStateProcessor.java:156)
	at io.nflow.engine.internal.executor.WorkflowStateProcessor.run(WorkflowStateProcessor.java:103)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 ERROR [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Error in shutting down thread pool.
java.lang.RuntimeException: Expected: exception on pool shutdown
	at io.nflow.engine.internal.executor.WorkflowDispatcher.shutdownPool(WorkflowDispatcher.java:104)
	at io.nflow.engine.internal.executor.WorkflowDispatcher.run(WorkflowDispatcher.java:84)
	at io.nflow.engine.internal.executor.WorkflowDispatcherTest$1ExceptionOnPoolShutdownIsNotPropagated.threadDispatcher(WorkflowDispatcherTest.java:238)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at edu.umd.cs.mtc.TestFramework$2.run(TestFramework.java:592)
	at java.lang.Thread.run(Thread.java:745)
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [main] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 ERROR [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Exception in executing dispatcher - retrying after sleep period (Expected: exception during dispatcher execution)
java.lang.RuntimeException: Expected: exception during dispatcher execution
	at io.nflow.engine.internal.executor.WorkflowDispatcher.getNextInstanceIds(WorkflowDispatcher.java:125)
	at io.nflow.engine.internal.executor.WorkflowDispatcher.run(WorkflowDispatcher.java:72)
	at io.nflow.engine.internal.executor.WorkflowDispatcherTest$1ExceptionDuringDispatcherExecutionCausesRetry.threadDispatcher(WorkflowDispatcherTest.java:106)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at edu.umd.cs.mtc.TestFramework$2.run(TestFramework.java:592)
	at java.lang.Thread.run(Thread.java:745)
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Starting.
05.06.2018 09:53:30 WARN  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] 2 of 2 state processor threads are potentially stuck (processing longer than 60 seconds)
05.06.2018 09:53:30 INFO  [thread Shutdown] al.executor.WorkflowDispatcher - [user:] Shutdown requested.
05.06.2018 09:53:30 INFO  [thread Dispatcher] al.executor.WorkflowDispatcher - [user:] Shutdown finished.
