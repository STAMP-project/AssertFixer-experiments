{
  "repository": {
    "name": "apache/calcite",
    "githubId": 21193524,
    "url": "https://github.com/apache/calcite",
    "isFork": false,
    "original": {
      "name": "",
      "githubId": 0,
      "url": ""
    },
    "isPullRequest": true,
    "pullRequestId": 859
  },
  "builds": {
    "buggyBuild": {
      "id": 432131857,
      "url": "http://travis-ci.org/apache/calcite/builds/432131857",
      "date": "Sep 23, 2018 3:36:02 PM"
    }
  },
  "commits": {
    "buggyBuild": {
      "repoName": "apache/calcite",
      "branchName": "master",
      "sha": "c63dd05238cc238fe30a12a24aeb57c1d909d287",
      "url": "http://github.com/apache/calcite/commit/c63dd05238cc238fe30a12a24aeb57c1d909d287",
      "date": "Sep 23, 2018 3:20:59 PM"
    },
    "buggyBuildForkRepo": {
      "repoName": "eolivelli/calcite",
      "branchName": "fix/CALCITE-2591-no-assert",
      "sha": "14f8b5cc6396677319cd376f26455aec943a09db",
      "url": "https://github.com/eolivelli/calcite/commit/14f8b5cc6396677319cd376f26455aec943a09db",
      "date": "Sep 23, 2018 3:20:59 PM"
    },
    "buggyBuildBaseRepo": {
      "repoName": "apache/calcite",
      "branchName": "master",
      "sha": "98f932c94d584b474187d995c96950d8d3e5ecd7",
      "url": "https://github.com/apache/calcite/commit/98f932c94d584b474187d995c96950d8d3e5ecd7",
      "date": "Sep 23, 2018 3:07:06 PM"
    }
  },
  "reproductionBuggyBuild": {
    "reproductionDateBeginning": "Sep 23, 2018 3:35:42 PM",
    "reproductionDateEnd": "Sep 23, 2018 3:43:06 PM",
    "totalDuration": 440,
    "processDurations": {
      "cloning": {
        "nbSteps": 1,
        "totalDuration": 18,
        "stepNames": [
          "CloneRepository"
        ],
        "stepDurations": [
          18
        ]
      },
      "building": {
        "nbSteps": 2,
        "totalDuration": 152,
        "stepNames": [
          "CheckoutBuggyBuild",
          "BuildProject"
        ],
        "stepDurations": [
          4,
          148
        ]
      },
      "testing": {
        "nbSteps": 1,
        "totalDuration": 219,
        "stepNames": [
          "TestProject"
        ],
        "stepDurations": [
          219
        ]
      }
    },
    "projectRootPomPath": "./workspace/apache/calcite/432131857/pom.xml"
  },
  "patchDiff": {
    "files": {
      "numberAdded": 0,
      "numberChanged": 0,
      "numberDeleted": 0
    },
    "lines": {
      "numberAdded": 0,
      "numberDeleted": 0
    }
  },
  "projectMetrics": {
    "numberModules": 19,
    "numberSourceFiles": 1512,
    "numberTestFiles": 228,
    "numberLibrariesFailingModule": 48
  },
  "tests": {
    "failingModule": "/root/workspace/apache/calcite/432131857/core",
    "overallMetrics": {
      "numberRunning": 4716,
      "numberPassing": 4709,
      "numberFailing": 3,
      "numberErroring": 4,
      "numberSkipping": 118,
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "isError": false,
          "occurrences": 3
        },
        {
          "failureName": "java.lang.reflect.InvocationTargetException",
          "isError": true,
          "occurrences": 1
        },
        {
          "failureName": "java.lang.RuntimeException",
          "isError": true,
          "occurrences": 1
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "isError": true,
          "occurrences": 2
        }
      ]
    },
    "failingClasses": [
      {
        "testClass": "org.apache.calcite.test.CoreQuidemTest",
        "numberRunning": 16,
        "numberPassing": 12,
        "numberFailing": 3,
        "numberErroring": 1,
        "numberSkipping": 0
      },
      {
        "testClass": "org.apache.calcite.runtime.EnumerablesTest",
        "numberRunning": 11,
        "numberPassing": 9,
        "numberFailing": 0,
        "numberErroring": 2,
        "numberSkipping": 0
      },
      {
        "testClass": "org.apache.calcite.test.MaterializationTest",
        "numberRunning": 113,
        "numberPassing": 112,
        "numberFailing": 0,
        "numberErroring": 1,
        "numberSkipping": 17
      }
    ],
    "failureDetails": [
      {
        "testClass": "org.apache.calcite.runtime.EnumerablesTest",
        "testMethod": "testMergeJoin",
        "failureName": "java.lang.IllegalStateException",
        "detail": "not sorted, 20 is less than 30",
        "isError": true
      },
      {
        "testClass": "org.apache.calcite.runtime.EnumerablesTest",
        "testMethod": "testMergeJoin2",
        "failureName": "java.lang.IllegalStateException",
        "detail": "not sorted, 1 is less than 3",
        "isError": true
      },
      {
        "testClass": "org.apache.calcite.test.CoreQuidemTest",
        "testMethod": "test[13: quidem(sql/sub-query.iq)]",
        "failureName": "java.lang.AssertionError",
        "detail": "Files differ: /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/surefire/sql/sub-query.iq /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/sub-query.iq\n749,757c749,800\n\u003c +-------+\n\u003c | EMPNO |\n\u003c +-------+\n\u003c |  7698 |\n\u003c |  7876 |\n\u003c |  7900 |\n\u003c +-------+\n\u003c (3 rows)\n\u003c \n---\n\u003e java.sql.SQLException: Error while executing SQL \"select empno\n\u003e from \"scott\".emp\n\u003e where (empno in (select empno from \"scott\".emp)\n\u003e       and empno in (7876, 7698, 7900))\n\u003e and empno in (7876, 7698, 7900)\": not sorted, 7698 is less than 7876\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:56)\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:41)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:163)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227)\n\u003e  at net.hydromatic.quidem.Quidem.checkResult(Quidem.java:322)\n\u003e  at net.hydromatic.quidem.Quidem.access$2800(Quidem.java:54)\n\u003e  at net.hydromatic.quidem.Quidem$ContextImpl.checkResult(Quidem.java:1747)\n\u003e  at net.hydromatic.quidem.Quidem$CheckResultCommand.execute(Quidem.java:1078)\n\u003e  at net.hydromatic.quidem.Quidem$CompositeCommand.execute(Quidem.java:1548)\n\u003e  at net.hydromatic.quidem.Quidem.execute(Quidem.java:216)\n\u003e  at org.apache.calcite.test.QuidemTest.checkRun(QuidemTest.java:160)\n\u003e  at org.apache.calcite.test.QuidemTest.test(QuidemTest.java:197)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\u003e  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\u003e  at java.lang.reflect.Method.invoke(Method.java:498)\n\u003e  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n\u003e  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\u003e  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n\u003e  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\u003e  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n\u003e  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\u003e  at org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:410)\n\u003e  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\u003e  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\u003e  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\u003e  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\u003e  at java.lang.Thread.run(Thread.java:745)\n\u003e Caused by: java.lang.IllegalStateException: not sorted, 7698 is less than 7876\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.advance(EnumerableDefaults.java:3262)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.start(EnumerableDefaults.java:3215)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.\u003cinit\u003e(EnumerableDefaults.java:3209)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$8.enumerator(EnumerableDefaults.java:1380)\n\u003e  at Baz$6$1.\u003cinit\u003e(Unknown Source)\n\u003e  at Baz$6.enumerator(Unknown Source)\n\u003e  at org.apache.calcite.linq4j.AbstractEnumerable.iterator(AbstractEnumerable.java:33)\n\u003e  at org.apache.calcite.avatica.MetaImpl.createCursor(MetaImpl.java:82)\n\u003e  at org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:184)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:566)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156)\n\u003e  ... 27 more\n",
        "isError": false
      },
      {
        "testClass": "org.apache.calcite.test.CoreQuidemTest",
        "testMethod": "test[2: quidem(sql/join.iq)]",
        "failureName": "java.lang.AssertionError",
        "detail": "Files differ: /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/surefire/sql/join.iq /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/join.iq\n250,258c250,304\n\u003c +--------+-------+-----------+-------------+\n\u003c | DEPTNO | EMPID | NAME      | NAME0       |\n\u003c +--------+-------+-----------+-------------+\n\u003c |      1 |   100 | Bill      | LeaderShip  |\n\u003c |      1 |   200 | Eric      | LeaderShip  |\n\u003c |      3 |   150 | Sebastian | Development |\n\u003c +--------+-------+-----------+-------------+\n\u003c (3 rows)\n\u003c \n---\n\u003e java.sql.SQLException: Error while executing SQL \"select *\n\u003e from (values (100, \u0027Bill\u0027, 1),\n\u003e              (200, \u0027Eric\u0027, 1),\n\u003e              (150, \u0027Sebastian\u0027, 3)) as e(empid, name, deptno)\n\u003e join (values (1, \u0027LeaderShip\u0027),\n\u003e              (2, \u0027TestGroup\u0027),\n\u003e              (3, \u0027Development\u0027)) as d(deptno, name)\n\u003e using (deptno)\": not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:56)\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:41)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:163)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227)\n\u003e  at net.hydromatic.quidem.Quidem.checkResult(Quidem.java:322)\n\u003e  at net.hydromatic.quidem.Quidem.access$2800(Quidem.java:54)\n\u003e  at net.hydromatic.quidem.Quidem$ContextImpl.checkResult(Quidem.java:1747)\n\u003e  at net.hydromatic.quidem.Quidem$CheckResultCommand.execute(Quidem.java:1078)\n\u003e  at net.hydromatic.quidem.Quidem$CompositeCommand.execute(Quidem.java:1548)\n\u003e  at net.hydromatic.quidem.Quidem.execute(Quidem.java:216)\n\u003e  at org.apache.calcite.test.QuidemTest.checkRun(QuidemTest.java:160)\n\u003e  at org.apache.calcite.test.QuidemTest.test(QuidemTest.java:197)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\u003e  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\u003e  at java.lang.reflect.Method.invoke(Method.java:498)\n\u003e  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n\u003e  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\u003e  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n\u003e  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\u003e  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n\u003e  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\u003e  at org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:410)\n\u003e  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\u003e  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\u003e  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\u003e  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\u003e  at java.lang.Thread.run(Thread.java:745)\n\u003e Caused by: java.lang.IllegalStateException: not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.advance(EnumerableDefaults.java:3262)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.start(EnumerableDefaults.java:3215)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.\u003cinit\u003e(EnumerableDefaults.java:3209)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$8.enumerator(EnumerableDefaults.java:1380)\n\u003e  at Baz$4$1.\u003cinit\u003e(Unknown Source)\n\u003e  at Baz$4.enumerator(Unknown Source)\n\u003e  at org.apache.calcite.linq4j.AbstractEnumerable.iterator(AbstractEnumerable.java:33)\n\u003e  at org.apache.calcite.avatica.MetaImpl.createCursor(MetaImpl.java:90)\n\u003e  at org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:184)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:566)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156)\n\u003e  ... 27 more\n",
        "isError": false
      },
      {
        "testClass": "org.apache.calcite.test.CoreQuidemTest",
        "testMethod": "test[12: quidem(sql/agg.iq)]",
        "failureName": "java.lang.AssertionError",
        "detail": "Files differ: /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/surefire/sql/agg.iq /root/workspace/apache/calcite/432131857/core/target/test-classes/sql/agg.iq\n2083,2089c2083,2143\n\u003c +--------+-------+\n\u003c | DEPTNO | EMPID |\n\u003c +--------+-------+\n\u003c |      1 |   100 |\n\u003c +--------+-------+\n\u003c (1 row)\n\u003c \n---\n\u003e java.sql.SQLException: Error while executing SQL \"select d.deptno, min(e.empid) as empid\n\u003e from (values (100, \u0027Bill\u0027, 1),\n\u003e              (200, \u0027Eric\u0027, 1),\n\u003e              (150, \u0027Sebastian\u0027, 3)) as e(empid, name, deptno)\n\u003e join (values (1, \u0027LeaderShip\u0027),\n\u003e              (2, \u0027TestGroup\u0027),\n\u003e              (3, \u0027Development\u0027)) as d(deptno, name)\n\u003e on e.deptno \u003d d.deptno\n\u003e group by d.deptno\n\u003e having count(*) \u003e 1\": not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:56)\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:41)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:163)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227)\n\u003e  at net.hydromatic.quidem.Quidem.checkResult(Quidem.java:322)\n\u003e  at net.hydromatic.quidem.Quidem.access$2800(Quidem.java:54)\n\u003e  at net.hydromatic.quidem.Quidem$ContextImpl.checkResult(Quidem.java:1747)\n\u003e  at net.hydromatic.quidem.Quidem$CheckResultCommand.execute(Quidem.java:1078)\n\u003e  at net.hydromatic.quidem.Quidem$CompositeCommand.execute(Quidem.java:1548)\n\u003e  at net.hydromatic.quidem.Quidem.execute(Quidem.java:216)\n\u003e  at org.apache.calcite.test.QuidemTest.checkRun(QuidemTest.java:160)\n\u003e  at org.apache.calcite.test.QuidemTest.test(QuidemTest.java:197)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\u003e  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\u003e  at java.lang.reflect.Method.invoke(Method.java:498)\n\u003e  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n\u003e  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\u003e  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n\u003e  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\u003e  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n\u003e  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\u003e  at org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:410)\n\u003e  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\u003e  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\u003e  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\u003e  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\u003e  at java.lang.Thread.run(Thread.java:745)\n\u003e Caused by: java.lang.IllegalStateException: not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.advance(EnumerableDefaults.java:3262)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.start(EnumerableDefaults.java:3215)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.\u003cinit\u003e(EnumerableDefaults.java:3209)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$8.enumerator(EnumerableDefaults.java:1380)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults.groupBy_(EnumerableDefaults.java:799)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults.groupBy(EnumerableDefaults.java:739)\n\u003e  at org.apache.calcite.linq4j.DefaultEnumerable.groupBy(DefaultEnumerable.java:299)\n\u003e  at Baz.bind(Unknown Source)\n\u003e  at org.apache.calcite.jdbc.CalcitePrepare$CalciteSignature.enumerable(CalcitePrepare.java:355)\n\u003e  at org.apache.calcite.jdbc.CalciteConnectionImpl.enumerable(CalciteConnectionImpl.java:310)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl._createIterable(CalciteMetaImpl.java:506)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.createIterable(CalciteMetaImpl.java:497)\n\u003e  at org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:182)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:566)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156)\n\u003e  ... 27 more\n2103,2109c2157,2217\n\u003c +--------+-------+\n\u003c | DEPTNO | EMPID |\n\u003c +--------+-------+\n\u003c |      1 |   100 |\n\u003c +--------+-------+\n\u003c (1 row)\n\u003c \n---\n\u003e java.sql.SQLException: Error while executing SQL \"select d.deptno, min(e.empid) as empid\n\u003e from (values (100, \u0027Bill\u0027, 1),\n\u003e              (200, \u0027Eric\u0027, 1),\n\u003e              (150, \u0027Sebastian\u0027, 3)) as e(empid, name, deptno)\n\u003e join (values (1, \u0027LeaderShip\u0027),\n\u003e              (2, \u0027TestGroup\u0027),\n\u003e              (3, \u0027Development\u0027)) as d(deptno, name)\n\u003e using (deptno)\n\u003e group by d.deptno\n\u003e having count(*) \u003e 1\": not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:56)\n\u003e  at org.apache.calcite.avatica.Helper.createException(Helper.java:41)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:163)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeQuery(AvaticaStatement.java:227)\n\u003e  at net.hydromatic.quidem.Quidem.checkResult(Quidem.java:322)\n\u003e  at net.hydromatic.quidem.Quidem.access$2800(Quidem.java:54)\n\u003e  at net.hydromatic.quidem.Quidem$ContextImpl.checkResult(Quidem.java:1747)\n\u003e  at net.hydromatic.quidem.Quidem$CheckResultCommand.execute(Quidem.java:1078)\n\u003e  at net.hydromatic.quidem.Quidem$CompositeCommand.execute(Quidem.java:1548)\n\u003e  at net.hydromatic.quidem.Quidem.execute(Quidem.java:216)\n\u003e  at org.apache.calcite.test.QuidemTest.checkRun(QuidemTest.java:160)\n\u003e  at org.apache.calcite.test.QuidemTest.test(QuidemTest.java:197)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\u003e  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\u003e  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\u003e  at java.lang.reflect.Method.invoke(Method.java:498)\n\u003e  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n\u003e  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\u003e  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n\u003e  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\u003e  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n\u003e  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n\u003e  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n\u003e  at org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:410)\n\u003e  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\u003e  at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\u003e  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\u003e  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\u003e  at java.lang.Thread.run(Thread.java:745)\n\u003e Caused by: java.lang.IllegalStateException: not sorted, 1 is less than 2\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.advance(EnumerableDefaults.java:3262)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.start(EnumerableDefaults.java:3215)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$MergeJoinEnumerator.\u003cinit\u003e(EnumerableDefaults.java:3209)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults$8.enumerator(EnumerableDefaults.java:1380)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults.groupBy_(EnumerableDefaults.java:799)\n\u003e  at org.apache.calcite.linq4j.EnumerableDefaults.groupBy(EnumerableDefaults.java:739)\n\u003e  at org.apache.calcite.linq4j.DefaultEnumerable.groupBy(DefaultEnumerable.java:299)\n\u003e  at Baz.bind(Unknown Source)\n\u003e  at org.apache.calcite.jdbc.CalcitePrepare$CalciteSignature.enumerable(CalcitePrepare.java:355)\n\u003e  at org.apache.calcite.jdbc.CalciteConnectionImpl.enumerable(CalciteConnectionImpl.java:310)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl._createIterable(CalciteMetaImpl.java:506)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.createIterable(CalciteMetaImpl.java:497)\n\u003e  at org.apache.calcite.avatica.AvaticaResultSet.execute(AvaticaResultSet.java:182)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:64)\n\u003e  at org.apache.calcite.jdbc.CalciteResultSet.execute(CalciteResultSet.java:43)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection$1.execute(AvaticaConnection.java:667)\n\u003e  at org.apache.calcite.jdbc.CalciteMetaImpl.prepareAndExecute(CalciteMetaImpl.java:566)\n\u003e  at org.apache.calcite.avatica.AvaticaConnection.prepareAndExecuteInternal(AvaticaConnection.java:675)\n\u003e  at org.apache.calcite.avatica.AvaticaStatement.executeInternal(AvaticaStatement.java:156)\n\u003e  ... 27 more\n",
        "isError": false
      },
      {
        "testClass": "org.apache.calcite.test.CoreQuidemTest",
        "testMethod": "test[11: quidem(sql/misc.iq)]",
        "failureName": "java.lang.reflect.InvocationTargetException",
        "isError": true
      },
      {
        "testClass": "org.apache.calcite.test.MaterializationTest",
        "testMethod": "testMaterializationSubstitution2",
        "failureName": "java.lang.RuntimeException",
        "detail": "exception while executing [select *\nfrom (select * from \"emps\" where \"empid\" \u003c 300)\njoin (select * from \"emps\" where \"empid\" \u003c 200) using (\"empid\")]",
        "isError": true
      }
    ]
  },
  "type": "only_fail"
}