<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>Verify.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Eclipse Collections Test Coverage Aggregation</a> &gt; <a href="../index.html" class="el_bundle">eclipse-collections-testutils</a> &gt; <a href="index.source.html" class="el_package">org.eclipse.collections.impl.test</a> &gt; <span class="el_source">Verify.java</span></div><h1>Verify.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2016 Goldman Sachs.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * and Eclipse Distribution License v. 1.0 which accompany this distribution.
 * The Eclipse Public License is available at http://www.eclipse.org/legal/epl-v10.html
 * and the Eclipse Distribution License is available at
 * http://www.eclipse.org/org/documents/edl-v10.php.
 */

package org.eclipse.collections.impl.test;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.NotSerializableException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.ObjectStreamClass;
import java.io.Serializable;
import java.lang.reflect.Constructor;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.SortedSet;
import java.util.concurrent.Callable;

import org.apache.commons.codec.binary.Base64;
import org.eclipse.collections.api.InternalIterable;
import org.eclipse.collections.api.PrimitiveIterable;
import org.eclipse.collections.api.bag.Bag;
import org.eclipse.collections.api.bag.sorted.SortedBag;
import org.eclipse.collections.api.block.predicate.Predicate;
import org.eclipse.collections.api.collection.ImmutableCollection;
import org.eclipse.collections.api.list.ImmutableList;
import org.eclipse.collections.api.list.MutableList;
import org.eclipse.collections.api.map.ImmutableMapIterable;
import org.eclipse.collections.api.map.MapIterable;
import org.eclipse.collections.api.map.MutableMap;
import org.eclipse.collections.api.map.MutableMapIterable;
import org.eclipse.collections.api.map.sorted.SortedMapIterable;
import org.eclipse.collections.api.multimap.Multimap;
import org.eclipse.collections.api.multimap.bag.BagMultimap;
import org.eclipse.collections.api.multimap.list.ListMultimap;
import org.eclipse.collections.api.multimap.set.SetMultimap;
import org.eclipse.collections.api.multimap.sortedbag.SortedBagMultimap;
import org.eclipse.collections.api.multimap.sortedset.SortedSetMultimap;
import org.eclipse.collections.api.set.ImmutableSet;
import org.eclipse.collections.api.set.MutableSet;
import org.eclipse.collections.impl.block.factory.Comparators;
import org.eclipse.collections.impl.block.factory.Predicates;
import org.eclipse.collections.impl.block.procedure.CollectionAddProcedure;
import org.eclipse.collections.impl.factory.Lists;
import org.eclipse.collections.impl.factory.Sets;
import org.eclipse.collections.impl.list.mutable.FastList;
import org.eclipse.collections.impl.map.mutable.UnifiedMap;
import org.eclipse.collections.impl.set.mutable.UnifiedSet;
import org.eclipse.collections.impl.tuple.ImmutableEntry;
import org.eclipse.collections.impl.utility.ArrayIterate;
import org.eclipse.collections.impl.utility.Iterate;
import org.junit.Assert;

/**
 * An extension of the {@link Assert} class, which adds useful additional &quot;assert&quot; methods.
 * You can import this class instead of Assert, and use it thus, e.g.:
 * &lt;pre&gt;
 *     Verify.assertEquals(&quot;fred&quot;, name);  // from original Assert class
 *     Verify.assertContains(&quot;fred&quot;, nameList);  // from new extensions
 *     Verify.assertBefore(&quot;fred&quot;, &quot;jim&quot;, orderedNamesList);  // from new extensions
 * &lt;/pre&gt;
 */
public final class Verify extends Assert
{
    private static final int MAX_DIFFERENCES = 5;
<span class="nc" id="L79">    private static final byte[] LINE_SEPARATOR = {'\n'};</span>

    private Verify()
<span class="nc" id="L82">    {</span>
<span class="nc" id="L83">        throw new AssertionError(&quot;Suppress default constructor for noninstantiability&quot;);</span>
    }

    /**
     * Mangles the stack trace of {@link AssertionError} so that it looks like its been thrown from the line that
     * called to a custom assertion.
     * &lt;p&gt;
     * This method behaves identically to {@link #throwMangledException(AssertionError, int)} and is provided
     * for convenience for assert methods that only want to pop two stack frames. The only time that you would want to
     * call the other {@link #throwMangledException(AssertionError, int)} method is if you have a custom assert
     * that calls another custom assert i.e. the source line calling the custom asserts is more than two stack frames
     * away
     *
     * @param e The exception to mangle.
     * @see #throwMangledException(AssertionError, int)
     */
    public static void throwMangledException(AssertionError e)
    {
        /*
         * Note that we actually remove 3 frames from the stack trace because
         * we wrap the real method doing the work: e.fillInStackTrace() will
         * include us in the exceptions stack frame.
         */
<span class="nc" id="L106">        Verify.throwMangledException(e, 3);</span>
<span class="nc" id="L107">    }</span>

    /**
     * Mangles the stack trace of {@link AssertionError} so that it looks like
     * its been thrown from the line that called to a custom assertion.
     * &lt;p&gt;
     * This is useful for when you are in a debugging session and you want to go to the source
     * of the problem in the test case quickly. The regular use case for this would be something
     * along the lines of:
     * &lt;pre&gt;
     * public class TestFoo extends junit.framework.TestCase
     * {
     *   public void testFoo() throws Exception
     *   {
     *     Foo foo = new Foo();
     *     ...
     *     assertFoo(foo);
     *   }
     *
     *   // Custom assert
     *   private static void assertFoo(Foo foo)
     *   {
     *     try
     *     {
     *       assertEquals(...);
     *       ...
     *       assertSame(...);
     *     }
     *     catch (AssertionFailedException e)
     *     {
     *       AssertUtils.throwMangledException(e, 2);
     *     }
     *   }
     * }
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Without the {@code try ... catch} block around lines 11-13 the stack trace following a test failure
     * would look a little like:
     * &lt;p&gt;
     * &lt;pre&gt;
     * java.lang.AssertionError: ...
     *  at TestFoo.assertFoo(TestFoo.java:11)
     *  at TestFoo.testFoo(TestFoo.java:5)
     *  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     *  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
     *  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
     *  at java.lang.reflect.Method.invoke(Method.java:324)
     *  ...
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Note that the source of the error isn't readily apparent as the first line in the stack trace
     * is the code within the custom assert. If we were debugging the failure we would be more interested
     * in the second line of the stack trace which shows us where in our tests the assert failed.
     * &lt;p&gt;
     * With the {@code try ... catch} block around lines 11-13 the stack trace would look like the
     * following:
     * &lt;p&gt;
     * &lt;pre&gt;
     * java.lang.AssertionError: ...
     *  at TestFoo.testFoo(TestFoo.java:5)
     *  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
     *  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
     *  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
     *  at java.lang.reflect.Method.invoke(Method.java:324)
     *  ...
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Here the source of the error is more visible as we can instantly see that the testFoo test is
     * failing at line 5.
     *
     * @param e           The exception to mangle.
     * @param framesToPop The number of frames to remove from the stack trace.
     * @throws AssertionError that was given as an argument with its stack trace mangled.
     */
    public static void throwMangledException(AssertionError e, int framesToPop)
    {
<span class="nc" id="L183">        e.fillInStackTrace();</span>
<span class="nc" id="L184">        StackTraceElement[] stackTrace = e.getStackTrace();</span>
<span class="nc" id="L185">        StackTraceElement[] newStackTrace = new StackTraceElement[stackTrace.length - framesToPop];</span>
<span class="nc" id="L186">        System.arraycopy(stackTrace, framesToPop, newStackTrace, 0, newStackTrace.length);</span>
<span class="nc" id="L187">        e.setStackTrace(newStackTrace);</span>
<span class="nc" id="L188">        throw e;</span>
    }

    public static void fail(String message, Throwable cause)
    {
<span class="nc" id="L193">        AssertionError failedException = new AssertionError(message, cause);</span>
<span class="nc" id="L194">        Verify.throwMangledException(failedException);</span>
<span class="nc" id="L195">    }</span>

    /**
     * Assert that two items are not the same. If one item is null, the the other must be non-null.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(String, Object, Object)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String itemsName, Object item1, Object item2)
    {
        try
        {
<span class="nc bnc" id="L207" title="All 4 branches missed.">            if (Comparators.nullSafeEquals(item1, item2) || Comparators.nullSafeEquals(item2, item1))</span>
            {
<span class="nc" id="L209">                Assert.fail(itemsName + &quot; should not be equal, item1:&lt;&quot; + item1 + &quot;&gt;, item2:&lt;&quot; + item2 + '&gt;');</span>
            }
        }
<span class="nc" id="L212">        catch (AssertionError e)</span>
        {
<span class="nc" id="L214">            Verify.throwMangledException(e);</span>
<span class="nc" id="L215">        }</span>
<span class="nc" id="L216">    }</span>

    /**
     * Assert that two items are not the same. If one item is null, the the other must be non-null.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(Object, Object)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(Object item1, Object item2)
    {
        try
        {
<span class="nc" id="L228">            Verify.assertNotEquals(&quot;items&quot;, item1, item2);</span>
        }
<span class="nc" id="L230">        catch (AssertionError e)</span>
        {
<span class="nc" id="L232">            Verify.throwMangledException(e);</span>
<span class="nc" id="L233">        }</span>
<span class="nc" id="L234">    }</span>

    /**
     * Asserts that two Strings are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(String, Object, Object)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String itemName, String notExpected, String actual)
    {
        try
        {
<span class="nc bnc" id="L246" title="All 2 branches missed.">            if (Comparators.nullSafeEquals(notExpected, actual))</span>
            {
<span class="nc" id="L248">                Assert.fail(itemName + &quot; should not equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L251">        catch (AssertionError e)</span>
        {
<span class="nc" id="L253">            Verify.throwMangledException(e);</span>
<span class="nc" id="L254">        }</span>
<span class="nc" id="L255">    }</span>

    /**
     * Asserts that two Strings are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(Object, Object)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String notExpected, String actual)
    {
        try
        {
<span class="nc" id="L267">            Verify.assertNotEquals(&quot;string&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L269">        catch (AssertionError e)</span>
        {
<span class="nc" id="L271">            Verify.throwMangledException(e);</span>
<span class="nc" id="L272">        }</span>
<span class="nc" id="L273">    }</span>

    /**
     * Asserts that two doubles are not equal concerning a delta. If the expected value is infinity then the delta value
     * is ignored.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(String, double, double, double)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String itemName, double notExpected, double actual, double delta)
    {
        // handle infinity specially since subtracting to infinite values gives NaN and the
        // the following test fails
        try
        {
            //noinspection FloatingPointEquality
<span class="nc bnc" id="L289" title="All 6 branches missed.">            if (Double.isInfinite(notExpected) &amp;&amp; notExpected == actual || Math.abs(notExpected - actual) &lt;= delta)</span>
            {
<span class="nc" id="L291">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L294">        catch (AssertionError e)</span>
        {
<span class="nc" id="L296">            Verify.throwMangledException(e);</span>
<span class="nc" id="L297">        }</span>
<span class="nc" id="L298">    }</span>

    /**
     * Asserts that two doubles are not equal concerning a delta. If the expected value is infinity then the delta value
     * is ignored.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(double, double, double)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(double notExpected, double actual, double delta)
    {
        try
        {
<span class="nc" id="L311">            Verify.assertNotEquals(&quot;double&quot;, notExpected, actual, delta);</span>
        }
<span class="nc" id="L313">        catch (AssertionError e)</span>
        {
<span class="nc" id="L315">            Verify.throwMangledException(e);</span>
<span class="nc" id="L316">        }</span>
<span class="nc" id="L317">    }</span>

    /**
     * Asserts that two floats are not equal concerning a delta. If the expected value is infinity then the delta value
     * is ignored.
     */
    public static void assertNotEquals(String itemName, float notExpected, float actual, float delta)
    {
        try
        {
            // handle infinity specially since subtracting to infinite values gives NaN and the
            // the following test fails
            //noinspection FloatingPointEquality
<span class="nc bnc" id="L330" title="All 6 branches missed.">            if (Float.isInfinite(notExpected) &amp;&amp; notExpected == actual || Math.abs(notExpected - actual) &lt;= delta)</span>
            {
<span class="nc" id="L332">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L335">        catch (AssertionError e)</span>
        {
<span class="nc" id="L337">            Verify.throwMangledException(e);</span>
<span class="nc" id="L338">        }</span>
<span class="nc" id="L339">    }</span>

    /**
     * Asserts that two floats are not equal concerning a delta. If the expected value is infinity then the delta value
     * is ignored.
     */
    public static void assertNotEquals(float expected, float actual, float delta)
    {
        try
        {
<span class="nc" id="L349">            Verify.assertNotEquals(&quot;float&quot;, expected, actual, delta);</span>
        }
<span class="nc" id="L351">        catch (AssertionError e)</span>
        {
<span class="nc" id="L353">            Verify.throwMangledException(e);</span>
<span class="nc" id="L354">        }</span>
<span class="nc" id="L355">    }</span>

    /**
     * Asserts that two longs are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(String, long, long)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String itemName, long notExpected, long actual)
    {
        try
        {
<span class="nc bnc" id="L367" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L369">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L372">        catch (AssertionError e)</span>
        {
<span class="nc" id="L374">            Verify.throwMangledException(e);</span>
<span class="nc" id="L375">        }</span>
<span class="nc" id="L376">    }</span>

    /**
     * Asserts that two longs are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(long, long)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(long notExpected, long actual)
    {
        try
        {
<span class="nc" id="L388">            Verify.assertNotEquals(&quot;long&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L390">        catch (AssertionError e)</span>
        {
<span class="nc" id="L392">            Verify.throwMangledException(e);</span>
<span class="nc" id="L393">        }</span>
<span class="nc" id="L394">    }</span>

    /**
     * Asserts that two booleans are not equal.
     */
    public static void assertNotEquals(String itemName, boolean notExpected, boolean actual)
    {
        try
        {
<span class="nc bnc" id="L403" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L405">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L408">        catch (AssertionError e)</span>
        {
<span class="nc" id="L410">            Verify.throwMangledException(e);</span>
<span class="nc" id="L411">        }</span>
<span class="nc" id="L412">    }</span>

    /**
     * Asserts that two booleans are not equal.
     */
    public static void assertNotEquals(boolean notExpected, boolean actual)
    {
        try
        {
<span class="nc" id="L421">            Verify.assertNotEquals(&quot;boolean&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L423">        catch (AssertionError e)</span>
        {
<span class="nc" id="L425">            Verify.throwMangledException(e);</span>
<span class="nc" id="L426">        }</span>
<span class="nc" id="L427">    }</span>

    /**
     * Asserts that two bytes are not equal.
     */
    public static void assertNotEquals(String itemName, byte notExpected, byte actual)
    {
        try
        {
<span class="nc bnc" id="L436" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L438">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L441">        catch (AssertionError e)</span>
        {
<span class="nc" id="L443">            Verify.throwMangledException(e);</span>
<span class="nc" id="L444">        }</span>
<span class="nc" id="L445">    }</span>

    /**
     * Asserts that two bytes are not equal.
     */
    public static void assertNotEquals(byte notExpected, byte actual)
    {
        try
        {
<span class="nc" id="L454">            Verify.assertNotEquals(&quot;byte&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L456">        catch (AssertionError e)</span>
        {
<span class="nc" id="L458">            Verify.throwMangledException(e);</span>
<span class="nc" id="L459">        }</span>
<span class="nc" id="L460">    }</span>

    /**
     * Asserts that two chars are not equal.
     */
    public static void assertNotEquals(String itemName, char notExpected, char actual)
    {
        try
        {
<span class="nc bnc" id="L469" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L471">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L474">        catch (AssertionError e)</span>
        {
<span class="nc" id="L476">            Verify.throwMangledException(e);</span>
<span class="nc" id="L477">        }</span>
<span class="nc" id="L478">    }</span>

    /**
     * Asserts that two chars are not equal.
     */
    public static void assertNotEquals(char notExpected, char actual)
    {
        try
        {
<span class="nc" id="L487">            Verify.assertNotEquals(&quot;char&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L489">        catch (AssertionError e)</span>
        {
<span class="nc" id="L491">            Verify.throwMangledException(e);</span>
<span class="nc" id="L492">        }</span>
<span class="nc" id="L493">    }</span>

    /**
     * Asserts that two shorts are not equal.
     */
    public static void assertNotEquals(String itemName, short notExpected, short actual)
    {
        try
        {
<span class="nc bnc" id="L502" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L504">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L507">        catch (AssertionError e)</span>
        {
<span class="nc" id="L509">            Verify.throwMangledException(e);</span>
<span class="nc" id="L510">        }</span>
<span class="nc" id="L511">    }</span>

    /**
     * Asserts that two shorts are not equal.
     */
    public static void assertNotEquals(short notExpected, short actual)
    {
        try
        {
<span class="nc" id="L520">            Verify.assertNotEquals(&quot;short&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L522">        catch (AssertionError e)</span>
        {
<span class="nc" id="L524">            Verify.throwMangledException(e);</span>
<span class="nc" id="L525">        }</span>
<span class="nc" id="L526">    }</span>

    /**
     * Asserts that two ints are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(String, long, long)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(String itemName, int notExpected, int actual)
    {
        try
        {
<span class="nc bnc" id="L538" title="All 2 branches missed.">            if (notExpected == actual)</span>
            {
<span class="nc" id="L540">                Assert.fail(itemName + &quot; should not be equal:&lt;&quot; + notExpected + '&gt;');</span>
            }
        }
<span class="nc" id="L543">        catch (AssertionError e)</span>
        {
<span class="nc" id="L545">            Verify.throwMangledException(e);</span>
<span class="nc" id="L546">        }</span>
<span class="nc" id="L547">    }</span>

    /**
     * Asserts that two ints are not equal.
     *
     * @deprecated in 3.0. Use {@link Assert#assertNotEquals(long, long)} in JUnit 4.11 instead.
     */
    @Deprecated
    public static void assertNotEquals(int notExpected, int actual)
    {
        try
        {
<span class="nc" id="L559">            Verify.assertNotEquals(&quot;int&quot;, notExpected, actual);</span>
        }
<span class="nc" id="L561">        catch (AssertionError e)</span>
        {
<span class="nc" id="L563">            Verify.throwMangledException(e);</span>
<span class="nc" id="L564">        }</span>
<span class="nc" id="L565">    }</span>

    /**
     * Assert that the given {@link Iterable} is empty.
     */
    public static void assertEmpty(Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L574">            Verify.assertEmpty(&quot;iterable&quot;, actualIterable);</span>
        }
<span class="nc" id="L576">        catch (AssertionError e)</span>
        {
<span class="nc" id="L578">            Verify.throwMangledException(e);</span>
<span class="nc" id="L579">        }</span>
<span class="nc" id="L580">    }</span>

    /**
     * Assert that the given {@link Collection} is empty.
     */
    public static void assertEmpty(String iterableName, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L589">            Verify.assertObjectNotNull(iterableName, actualIterable);</span>

<span class="nc bnc" id="L591" title="All 2 branches missed.">            if (Iterate.notEmpty(actualIterable))</span>
            {
<span class="nc" id="L593">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L595" title="All 2 branches missed.">            if (!Iterate.isEmpty(actualIterable))</span>
            {
<span class="nc" id="L597">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L599" title="All 2 branches missed.">            if (Iterate.sizeOf(actualIterable) != 0)</span>
            {
<span class="nc" id="L601">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualIterable) + '&gt;');</span>
            }
        }
<span class="nc" id="L604">        catch (AssertionError e)</span>
        {
<span class="nc" id="L606">            Verify.throwMangledException(e);</span>
<span class="nc" id="L607">        }</span>
<span class="nc" id="L608">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} is empty.
     */
    public static void assertEmpty(MutableMapIterable&lt;?, ?&gt; actualMutableMapIterable)
    {
        try
        {
<span class="nc" id="L617">            Verify.assertEmpty(&quot;mutableMapIterable&quot;, actualMutableMapIterable);</span>
        }
<span class="nc" id="L619">        catch (AssertionError e)</span>
        {
<span class="nc" id="L621">            Verify.throwMangledException(e);</span>
<span class="nc" id="L622">        }</span>
<span class="nc" id="L623">    }</span>

    /**
     * Assert that the given {@link Collection} is empty.
     */
    public static void assertEmpty(String mutableMapIterableName, MutableMapIterable&lt;?, ?&gt; actualMutableMapIterable)
    {
        try
        {
<span class="nc" id="L632">            Verify.assertObjectNotNull(mutableMapIterableName, actualMutableMapIterable);</span>

<span class="nc bnc" id="L634" title="All 2 branches missed.">            if (Iterate.notEmpty(actualMutableMapIterable))</span>
            {
<span class="nc" id="L636">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualMutableMapIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L638" title="All 2 branches missed.">            if (!Iterate.isEmpty(actualMutableMapIterable))</span>
            {
<span class="nc" id="L640">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualMutableMapIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L642" title="All 2 branches missed.">            if (!actualMutableMapIterable.isEmpty())</span>
            {
<span class="nc" id="L644">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualMutableMapIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L646" title="All 2 branches missed.">            if (actualMutableMapIterable.notEmpty())</span>
            {
<span class="nc" id="L648">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(actualMutableMapIterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L650" title="All 2 branches missed.">            if (actualMutableMapIterable.size() != 0)</span>
            {
<span class="nc" id="L652">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + actualMutableMapIterable.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L654" title="All 2 branches missed.">            if (actualMutableMapIterable.keySet().size() != 0)</span>
            {
<span class="nc" id="L656">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + actualMutableMapIterable.keySet().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L658" title="All 2 branches missed.">            if (actualMutableMapIterable.values().size() != 0)</span>
            {
<span class="nc" id="L660">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + actualMutableMapIterable.values().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L662" title="All 2 branches missed.">            if (actualMutableMapIterable.entrySet().size() != 0)</span>
            {
<span class="nc" id="L664">                Assert.fail(mutableMapIterableName + &quot; should be empty; actual size:&lt;&quot; + actualMutableMapIterable.entrySet().size() + '&gt;');</span>
            }
        }
<span class="nc" id="L667">        catch (AssertionError e)</span>
        {
<span class="nc" id="L669">            Verify.throwMangledException(e);</span>
<span class="nc" id="L670">        }</span>
<span class="nc" id="L671">    }</span>

    /**
     * Assert that the given {@link PrimitiveIterable} is empty.
     */
    public static void assertEmpty(PrimitiveIterable primitiveIterable)
    {
        try
        {
<span class="nc" id="L680">            Verify.assertEmpty(&quot;primitiveIterable&quot;, primitiveIterable);</span>
        }
<span class="nc" id="L682">        catch (AssertionError e)</span>
        {
<span class="nc" id="L684">            Verify.throwMangledException(e);</span>
<span class="nc" id="L685">        }</span>
<span class="nc" id="L686">    }</span>

    /**
     * Assert that the given {@link PrimitiveIterable} is empty.
     */
    public static void assertEmpty(String iterableName, PrimitiveIterable primitiveIterable)
    {
        try
        {
<span class="nc" id="L695">            Verify.assertObjectNotNull(iterableName, primitiveIterable);</span>

<span class="nc bnc" id="L697" title="All 2 branches missed.">            if (primitiveIterable.notEmpty())</span>
            {
<span class="nc" id="L699">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + primitiveIterable.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L701" title="All 2 branches missed.">            if (!primitiveIterable.isEmpty())</span>
            {
<span class="nc" id="L703">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + primitiveIterable.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L705" title="All 2 branches missed.">            if (primitiveIterable.size() != 0)</span>
            {
<span class="nc" id="L707">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + primitiveIterable.size() + '&gt;');</span>
            }
        }
<span class="nc" id="L710">        catch (AssertionError e)</span>
        {
<span class="nc" id="L712">            Verify.throwMangledException(e);</span>
<span class="nc" id="L713">        }</span>
<span class="nc" id="L714">    }</span>

    /**
     * Assert that the given {@link Iterable} is empty.
     */
    public static void assertIterableEmpty(Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L723">            Verify.assertIterableEmpty(&quot;iterable&quot;, iterable);</span>
        }
<span class="nc" id="L725">        catch (AssertionError e)</span>
        {
<span class="nc" id="L727">            Verify.throwMangledException(e);</span>
<span class="nc" id="L728">        }</span>
<span class="nc" id="L729">    }</span>

    /**
     * Assert that the given {@link Iterable} is empty.
     */
    public static void assertIterableEmpty(String iterableName, Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L738">            Verify.assertObjectNotNull(iterableName, iterable);</span>

<span class="nc bnc" id="L740" title="All 2 branches missed.">            if (Iterate.notEmpty(iterable))</span>
            {
<span class="nc" id="L742">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(iterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L744" title="All 2 branches missed.">            if (!Iterate.isEmpty(iterable))</span>
            {
<span class="nc" id="L746">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(iterable) + '&gt;');</span>
            }
<span class="nc bnc" id="L748" title="All 2 branches missed.">            if (Iterate.sizeOf(iterable) != 0)</span>
            {
<span class="nc" id="L750">                Assert.fail(iterableName + &quot; should be empty; actual size:&lt;&quot; + Iterate.sizeOf(iterable) + '&gt;');</span>
            }
        }
<span class="nc" id="L753">        catch (AssertionError e)</span>
        {
<span class="nc" id="L755">            Verify.throwMangledException(e);</span>
<span class="nc" id="L756">        }</span>
<span class="nc" id="L757">    }</span>

    /**
     * Assert that the given object is an instanceof expectedClassType.
     */
    public static void assertInstanceOf(Class&lt;?&gt; expectedClassType, Object actualObject)
    {
        try
        {
<span class="nc" id="L766">            Verify.assertInstanceOf(actualObject.getClass().getName(), expectedClassType, actualObject);</span>
        }
<span class="nc" id="L768">        catch (AssertionError e)</span>
        {
<span class="nc" id="L770">            Verify.throwMangledException(e);</span>
<span class="nc" id="L771">        }</span>
<span class="nc" id="L772">    }</span>

    /**
     * Assert that the given object is an instanceof expectedClassType.
     */
    public static void assertInstanceOf(String objectName, Class&lt;?&gt; expectedClassType, Object actualObject)
    {
        try
        {
<span class="nc bnc" id="L781" title="All 2 branches missed.">            if (!expectedClassType.isInstance(actualObject))</span>
            {
<span class="nc" id="L783">                Assert.fail(objectName + &quot; is not an instance of &quot; + expectedClassType.getName());</span>
            }
        }
<span class="nc" id="L786">        catch (AssertionError e)</span>
        {
<span class="nc" id="L788">            Verify.throwMangledException(e);</span>
<span class="nc" id="L789">        }</span>
<span class="nc" id="L790">    }</span>

    /**
     * Assert that the given object is not an instanceof expectedClassType.
     */
    public static void assertNotInstanceOf(Class&lt;?&gt; expectedClassType, Object actualObject)
    {
        try
        {
<span class="nc" id="L799">            Verify.assertNotInstanceOf(actualObject.getClass().getName(), expectedClassType, actualObject);</span>
        }
<span class="nc" id="L801">        catch (AssertionError e)</span>
        {
<span class="nc" id="L803">            Verify.throwMangledException(e);</span>
<span class="nc" id="L804">        }</span>
<span class="nc" id="L805">    }</span>

    /**
     * Assert that the given object is not an instanceof expectedClassType.
     */
    public static void assertNotInstanceOf(String objectName, Class&lt;?&gt; expectedClassType, Object actualObject)
    {
        try
        {
<span class="nc bnc" id="L814" title="All 2 branches missed.">            if (expectedClassType.isInstance(actualObject))</span>
            {
<span class="nc" id="L816">                Assert.fail(objectName + &quot; is an instance of &quot; + expectedClassType.getName());</span>
            }
        }
<span class="nc" id="L819">        catch (AssertionError e)</span>
        {
<span class="nc" id="L821">            Verify.throwMangledException(e);</span>
<span class="nc" id="L822">        }</span>
<span class="nc" id="L823">    }</span>

    /**
     * Assert that the given {@link Map} is empty.
     */
    public static void assertEmpty(Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L832">            Verify.assertEmpty(&quot;map&quot;, actualMap);</span>
        }
<span class="nc" id="L834">        catch (AssertionError e)</span>
        {
<span class="nc" id="L836">            Verify.throwMangledException(e);</span>
<span class="nc" id="L837">        }</span>
<span class="nc" id="L838">    }</span>

    /**
     * Assert that the given {@link Multimap} is empty.
     */
    public static void assertEmpty(Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L847">            Verify.assertEmpty(&quot;multimap&quot;, actualMultimap);</span>
        }
<span class="nc" id="L849">        catch (AssertionError e)</span>
        {
<span class="nc" id="L851">            Verify.throwMangledException(e);</span>
<span class="nc" id="L852">        }</span>
<span class="nc" id="L853">    }</span>

    /**
     * Assert that the given {@link Multimap} is empty.
     */
    public static void assertEmpty(String multimapName, Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L862">            Verify.assertObjectNotNull(multimapName, actualMultimap);</span>

<span class="nc bnc" id="L864" title="All 2 branches missed.">            if (actualMultimap.notEmpty())</span>
            {
<span class="nc" id="L866">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L868" title="All 2 branches missed.">            if (!actualMultimap.isEmpty())</span>
            {
<span class="nc" id="L870">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L872" title="All 2 branches missed.">            if (actualMultimap.size() != 0)</span>
            {
<span class="nc" id="L874">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L876" title="All 2 branches missed.">            if (actualMultimap.sizeDistinct() != 0)</span>
            {
<span class="nc" id="L878">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L880" title="All 2 branches missed.">            if (actualMultimap.keyBag().size() != 0)</span>
            {
<span class="nc" id="L882">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.keyBag().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L884" title="All 2 branches missed.">            if (actualMultimap.keysView().size() != 0)</span>
            {
<span class="nc" id="L886">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.keysView().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L888" title="All 2 branches missed.">            if (actualMultimap.valuesView().size() != 0)</span>
            {
<span class="nc" id="L890">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.valuesView().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L892" title="All 2 branches missed.">            if (actualMultimap.keyValuePairsView().size() != 0)</span>
            {
<span class="nc" id="L894">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.keyValuePairsView().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L896" title="All 2 branches missed.">            if (actualMultimap.keyMultiValuePairsView().size() != 0)</span>
            {
<span class="nc" id="L898">                Assert.fail(multimapName + &quot; should be empty; actual size:&lt;&quot; + actualMultimap.keyMultiValuePairsView().size() + '&gt;');</span>
            }
        }
<span class="nc" id="L901">        catch (AssertionError e)</span>
        {
<span class="nc" id="L903">            Verify.throwMangledException(e);</span>
<span class="nc" id="L904">        }</span>
<span class="nc" id="L905">    }</span>

    /**
     * Assert that the given {@link Map} is empty.
     */
    public static void assertEmpty(String mapName, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L914">            Verify.assertObjectNotNull(mapName, actualMap);</span>

<span class="nc bnc" id="L916" title="All 2 branches missed.">            if (!actualMap.isEmpty())</span>
            {
<span class="nc" id="L918">                Assert.fail(mapName + &quot; should be empty; actual size:&lt;&quot; + actualMap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L920" title="All 2 branches missed.">            if (actualMap.size() != 0)</span>
            {
<span class="nc" id="L922">                Assert.fail(mapName + &quot; should be empty; actual size:&lt;&quot; + actualMap.size() + '&gt;');</span>
            }
<span class="nc bnc" id="L924" title="All 2 branches missed.">            if (actualMap.keySet().size() != 0)</span>
            {
<span class="nc" id="L926">                Assert.fail(mapName + &quot; should be empty; actual size:&lt;&quot; + actualMap.keySet().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L928" title="All 2 branches missed.">            if (actualMap.values().size() != 0)</span>
            {
<span class="nc" id="L930">                Assert.fail(mapName + &quot; should be empty; actual size:&lt;&quot; + actualMap.values().size() + '&gt;');</span>
            }
<span class="nc bnc" id="L932" title="All 2 branches missed.">            if (actualMap.entrySet().size() != 0)</span>
            {
<span class="nc" id="L934">                Assert.fail(mapName + &quot; should be empty; actual size:&lt;&quot; + actualMap.entrySet().size() + '&gt;');</span>
            }
        }
<span class="nc" id="L937">        catch (AssertionError e)</span>
        {
<span class="nc" id="L939">            Verify.throwMangledException(e);</span>
<span class="nc" id="L940">        }</span>
<span class="nc" id="L941">    }</span>

    /**
     * Assert that the given {@link Iterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L950">            Verify.assertNotEmpty(&quot;iterable&quot;, actualIterable);</span>
        }
<span class="nc" id="L952">        catch (AssertionError e)</span>
        {
<span class="nc" id="L954">            Verify.throwMangledException(e);</span>
<span class="nc" id="L955">        }</span>
<span class="nc" id="L956">    }</span>

    /**
     * Assert that the given {@link Iterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(String iterableName, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L965">            Verify.assertObjectNotNull(iterableName, actualIterable);</span>
<span class="nc" id="L966">            Assert.assertFalse(iterableName + &quot; should be non-empty, but was empty&quot;, Iterate.isEmpty(actualIterable));</span>
<span class="nc" id="L967">            Assert.assertTrue(iterableName + &quot; should be non-empty, but was empty&quot;, Iterate.notEmpty(actualIterable));</span>
<span class="nc" id="L968">            Assert.assertNotEquals(iterableName + &quot; should be non-empty, but was empty&quot;, 0, Iterate.sizeOf(actualIterable));</span>
        }
<span class="nc" id="L970">        catch (AssertionError e)</span>
        {
<span class="nc" id="L972">            Verify.throwMangledException(e);</span>
<span class="nc" id="L973">        }</span>
<span class="nc" id="L974">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(MutableMapIterable&lt;?, ?&gt; actualMutableMapIterable)
    {
        try
        {
<span class="nc" id="L983">            Verify.assertNotEmpty(&quot;mutableMapIterable&quot;, actualMutableMapIterable);</span>
        }
<span class="nc" id="L985">        catch (AssertionError e)</span>
        {
<span class="nc" id="L987">            Verify.throwMangledException(e);</span>
<span class="nc" id="L988">        }</span>
<span class="nc" id="L989">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(String mutableMapIterableName, MutableMapIterable&lt;?, ?&gt; actualMutableMapIterable)
    {
        try
        {
<span class="nc" id="L998">            Verify.assertObjectNotNull(mutableMapIterableName, actualMutableMapIterable);</span>
<span class="nc" id="L999">            Assert.assertFalse(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, Iterate.isEmpty(actualMutableMapIterable));</span>
<span class="nc" id="L1000">            Assert.assertTrue(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, Iterate.notEmpty(actualMutableMapIterable));</span>
<span class="nc" id="L1001">            Assert.assertTrue(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, actualMutableMapIterable.notEmpty());</span>
<span class="nc" id="L1002">            Assert.assertNotEquals(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, 0, actualMutableMapIterable.size());</span>
<span class="nc" id="L1003">            Assert.assertNotEquals(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, 0, actualMutableMapIterable.keySet().size());</span>
<span class="nc" id="L1004">            Assert.assertNotEquals(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, 0, actualMutableMapIterable.values().size());</span>
<span class="nc" id="L1005">            Assert.assertNotEquals(mutableMapIterableName + &quot; should be non-empty, but was empty&quot;, 0, actualMutableMapIterable.entrySet().size());</span>
        }
<span class="nc" id="L1007">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1009">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1010">        }</span>
<span class="nc" id="L1011">    }</span>

    /**
     * Assert that the given {@link PrimitiveIterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(PrimitiveIterable primitiveIterable)
    {
        try
        {
<span class="nc" id="L1020">            Verify.assertNotEmpty(&quot;primitiveIterable&quot;, primitiveIterable);</span>
        }
<span class="nc" id="L1022">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1024">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1025">        }</span>
<span class="nc" id="L1026">    }</span>

    /**
     * Assert that the given {@link PrimitiveIterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(String iterableName, PrimitiveIterable primitiveIterable)
    {
        try
        {
<span class="nc" id="L1035">            Verify.assertObjectNotNull(iterableName, primitiveIterable);</span>
<span class="nc" id="L1036">            Assert.assertFalse(iterableName + &quot; should be non-empty, but was empty&quot;, primitiveIterable.isEmpty());</span>
<span class="nc" id="L1037">            Assert.assertTrue(iterableName + &quot; should be non-empty, but was empty&quot;, primitiveIterable.notEmpty());</span>
<span class="nc" id="L1038">            Assert.assertNotEquals(iterableName + &quot; should be non-empty, but was empty&quot;, 0, primitiveIterable.size());</span>
        }
<span class="nc" id="L1040">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1042">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1043">        }</span>
<span class="nc" id="L1044">    }</span>

    /**
     * Assert that the given {@link Iterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertIterableNotEmpty(Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L1053">            Verify.assertIterableNotEmpty(&quot;iterable&quot;, iterable);</span>
        }
<span class="nc" id="L1055">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1057">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1058">        }</span>
<span class="nc" id="L1059">    }</span>

    /**
     * Assert that the given {@link Iterable} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertIterableNotEmpty(String iterableName, Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L1068">            Verify.assertObjectNotNull(iterableName, iterable);</span>
<span class="nc" id="L1069">            Assert.assertFalse(iterableName + &quot; should be non-empty, but was empty&quot;, Iterate.isEmpty(iterable));</span>
<span class="nc" id="L1070">            Assert.assertTrue(iterableName + &quot; should be non-empty, but was empty&quot;, Iterate.notEmpty(iterable));</span>
<span class="nc" id="L1071">            Assert.assertNotEquals(iterableName + &quot; should be non-empty, but was empty&quot;, 0, Iterate.sizeOf(iterable));</span>
        }
<span class="nc" id="L1073">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1075">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1076">        }</span>
<span class="nc" id="L1077">    }</span>

    /**
     * Assert that the given {@link Map} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L1086">            Verify.assertNotEmpty(&quot;map&quot;, actualMap);</span>
        }
<span class="nc" id="L1088">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1090">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1091">        }</span>
<span class="nc" id="L1092">    }</span>

    /**
     * Assert that the given {@link Map} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(String mapName, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L1101">            Verify.assertObjectNotNull(mapName, actualMap);</span>
<span class="nc" id="L1102">            Assert.assertFalse(mapName + &quot; should be non-empty, but was empty&quot;, actualMap.isEmpty());</span>
<span class="nc" id="L1103">            Assert.assertNotEquals(mapName + &quot; should be non-empty, but was empty&quot;, 0, actualMap.size());</span>
<span class="nc" id="L1104">            Assert.assertNotEquals(mapName + &quot; should be non-empty, but was empty&quot;, 0, actualMap.keySet().size());</span>
<span class="nc" id="L1105">            Assert.assertNotEquals(mapName + &quot; should be non-empty, but was empty&quot;, 0, actualMap.values().size());</span>
<span class="nc" id="L1106">            Assert.assertNotEquals(mapName + &quot; should be non-empty, but was empty&quot;, 0, actualMap.entrySet().size());</span>
        }
<span class="nc" id="L1108">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1110">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1111">        }</span>
<span class="nc" id="L1112">    }</span>

    /**
     * Assert that the given {@link Multimap} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L1121">            Verify.assertNotEmpty(&quot;multimap&quot;, actualMultimap);</span>
        }
<span class="nc" id="L1123">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1125">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1126">        }</span>
<span class="nc" id="L1127">    }</span>

    /**
     * Assert that the given {@link Multimap} is &lt;em&gt;not&lt;/em&gt; empty.
     */
    public static void assertNotEmpty(String multimapName, Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L1136">            Verify.assertObjectNotNull(multimapName, actualMultimap);</span>
<span class="nc" id="L1137">            Assert.assertTrue(multimapName + &quot; should be non-empty, but was empty&quot;, actualMultimap.notEmpty());</span>
<span class="nc" id="L1138">            Assert.assertFalse(multimapName + &quot; should be non-empty, but was empty&quot;, actualMultimap.isEmpty());</span>
<span class="nc" id="L1139">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.size());</span>
<span class="nc" id="L1140">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.sizeDistinct());</span>
<span class="nc" id="L1141">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.keyBag().size());</span>
<span class="nc" id="L1142">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.keysView().size());</span>
<span class="nc" id="L1143">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.valuesView().size());</span>
<span class="nc" id="L1144">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.keyValuePairsView().size());</span>
<span class="nc" id="L1145">            Assert.assertNotEquals(multimapName + &quot; should be non-empty, but was empty&quot;, 0, actualMultimap.keyMultiValuePairsView().size());</span>
        }
<span class="nc" id="L1147">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1149">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1150">        }</span>
<span class="nc" id="L1151">    }</span>

    public static &lt;T&gt; void assertNotEmpty(String itemsName, T[] items)
    {
        try
        {
<span class="nc" id="L1157">            Verify.assertObjectNotNull(itemsName, items);</span>
<span class="nc" id="L1158">            Verify.assertNotEquals(itemsName, 0, items.length);</span>
        }
<span class="nc" id="L1160">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1162">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1163">        }</span>
<span class="nc" id="L1164">    }</span>

    public static &lt;T&gt; void assertNotEmpty(T[] items)
    {
        try
        {
<span class="nc" id="L1170">            Verify.assertNotEmpty(&quot;items&quot;, items);</span>
        }
<span class="nc" id="L1172">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1174">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1175">        }</span>
<span class="nc" id="L1176">    }</span>

    /**
     * Assert the size of the given array.
     */
    public static void assertSize(int expectedSize, Object[] actualArray)
    {
        try
        {
<span class="nc" id="L1185">            Verify.assertSize(&quot;array&quot;, expectedSize, actualArray);</span>
        }
<span class="nc" id="L1187">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1189">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1190">        }</span>
<span class="nc" id="L1191">    }</span>

    /**
     * Assert the size of the given array.
     */
    public static void assertSize(String arrayName, int expectedSize, Object[] actualArray)
    {
        try
        {
<span class="nc" id="L1200">            Assert.assertNotNull(arrayName + &quot; should not be null&quot;, actualArray);</span>

<span class="nc" id="L1202">            int actualSize = actualArray.length;</span>
<span class="nc bnc" id="L1203" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1205">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + arrayName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1214">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1216">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1217">        }</span>
<span class="nc" id="L1218">    }</span>

    /**
     * Assert the size of the given {@link Iterable}.
     */
    public static void assertSize(int expectedSize, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L1227">            Verify.assertSize(&quot;iterable&quot;, expectedSize, actualIterable);</span>
        }
<span class="nc" id="L1229">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1231">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1232">        }</span>
<span class="nc" id="L1233">    }</span>

    /**
     * Assert the size of the given {@link Iterable}.
     */
    public static void assertSize(
            String iterableName,
            int expectedSize,
            Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L1245">            Verify.assertObjectNotNull(iterableName, actualIterable);</span>

<span class="nc" id="L1247">            int actualSize = Iterate.sizeOf(actualIterable);</span>
<span class="nc bnc" id="L1248" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1250">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + iterableName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1259">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1261">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1262">        }</span>
<span class="nc" id="L1263">    }</span>

    /**
     * Assert the size of the given {@link PrimitiveIterable}.
     */
    public static void assertSize(int expectedSize, PrimitiveIterable primitiveIterable)
    {
        try
        {
<span class="nc" id="L1272">            Verify.assertSize(&quot;primitiveIterable&quot;, expectedSize, primitiveIterable);</span>
        }
<span class="nc" id="L1274">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1276">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1277">        }</span>
<span class="nc" id="L1278">    }</span>

    /**
     * Assert the size of the given {@link PrimitiveIterable}.
     */
    public static void assertSize(
            String primitiveIterableName,
            int expectedSize,
            PrimitiveIterable actualPrimitiveIterable)
    {
        try
        {
<span class="nc" id="L1290">            Verify.assertObjectNotNull(primitiveIterableName, actualPrimitiveIterable);</span>

<span class="nc" id="L1292">            int actualSize = actualPrimitiveIterable.size();</span>
<span class="nc bnc" id="L1293" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1295">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + primitiveIterableName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1304">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1306">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1307">        }</span>
<span class="nc" id="L1308">    }</span>

    /**
     * Assert the size of the given {@link Iterable}.
     */
    public static void assertIterableSize(int expectedSize, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L1317">            Verify.assertIterableSize(&quot;iterable&quot;, expectedSize, actualIterable);</span>
        }
<span class="nc" id="L1319">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1321">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1322">        }</span>
<span class="nc" id="L1323">    }</span>

    /**
     * Assert the size of the given {@link Iterable}.
     */
    public static void assertIterableSize(
            String iterableName,
            int expectedSize,
            Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L1335">            Verify.assertObjectNotNull(iterableName, actualIterable);</span>

<span class="nc" id="L1337">            int actualSize = Iterate.sizeOf(actualIterable);</span>
<span class="nc bnc" id="L1338" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1340">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + iterableName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1349">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1351">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1352">        }</span>
<span class="nc" id="L1353">    }</span>

    /**
     * Assert the size of the given {@link Map}.
     */
    public static void assertSize(String mapName, int expectedSize, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L1362">            Verify.assertSize(mapName, expectedSize, actualMap.keySet());</span>
        }
<span class="nc" id="L1364">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1366">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1367">        }</span>
<span class="nc" id="L1368">    }</span>

    /**
     * Assert the size of the given {@link Map}.
     */
    public static void assertSize(int expectedSize, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L1377">            Verify.assertSize(&quot;map&quot;, expectedSize, actualMap);</span>
        }
<span class="nc" id="L1379">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1381">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1382">        }</span>
<span class="nc" id="L1383">    }</span>

    /**
     * Assert the size of the given {@link Multimap}.
     */
    public static void assertSize(int expectedSize, Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L1392">            Verify.assertSize(&quot;multimap&quot;, expectedSize, actualMultimap);</span>
        }
<span class="nc" id="L1394">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1396">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1397">        }</span>
<span class="nc" id="L1398">    }</span>

    /**
     * Assert the size of the given {@link Multimap}.
     */
    public static void assertSize(String multimapName, int expectedSize, Multimap&lt;?, ?&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L1407">            int actualSize = actualMultimap.size();</span>
<span class="nc bnc" id="L1408" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1410">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + multimapName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1419">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1421">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1422">        }</span>
<span class="nc" id="L1423">    }</span>

    /**
     * Assert the size of the given {@link MutableMapIterable}.
     */
    public static void assertSize(int expectedSize, MutableMapIterable&lt;?, ?&gt; mutableMapIterable)
    {
        try
        {
<span class="nc" id="L1432">            Verify.assertSize(&quot;map&quot;, expectedSize, mutableMapIterable);</span>
        }
<span class="nc" id="L1434">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1436">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1437">        }</span>
<span class="nc" id="L1438">    }</span>

    /**
     * Assert the size of the given {@link MutableMapIterable}.
     */
    public static void assertSize(String mapName, int expectedSize, MutableMapIterable&lt;?, ?&gt; mutableMapIterable)
    {
        try
        {
<span class="nc" id="L1447">            int actualSize = mutableMapIterable.size();</span>
<span class="nc bnc" id="L1448" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1450">                Assert.fail(&quot;Incorrect size for &quot; + mapName + &quot;; expected:&lt;&quot; + expectedSize + &quot;&gt; but was:&lt;&quot; + actualSize + '&gt;');</span>
            }
<span class="nc" id="L1452">            int keySetSize = mutableMapIterable.keySet().size();</span>
<span class="nc bnc" id="L1453" title="All 2 branches missed.">            if (keySetSize != expectedSize)</span>
            {
<span class="nc" id="L1455">                Assert.fail(&quot;Incorrect size for &quot; + mapName + &quot;.keySet(); expected:&lt;&quot; + expectedSize + &quot;&gt; but was:&lt;&quot; + actualSize + '&gt;');</span>
            }
<span class="nc" id="L1457">            int valuesSize = mutableMapIterable.values().size();</span>
<span class="nc bnc" id="L1458" title="All 2 branches missed.">            if (valuesSize != expectedSize)</span>
            {
<span class="nc" id="L1460">                Assert.fail(&quot;Incorrect size for &quot; + mapName + &quot;.values(); expected:&lt;&quot; + expectedSize + &quot;&gt; but was:&lt;&quot; + actualSize + '&gt;');</span>
            }
<span class="nc" id="L1462">            int entrySetSize = mutableMapIterable.entrySet().size();</span>
<span class="nc bnc" id="L1463" title="All 2 branches missed.">            if (entrySetSize != expectedSize)</span>
            {
<span class="nc" id="L1465">                Assert.fail(&quot;Incorrect size for &quot; + mapName + &quot;.entrySet(); expected:&lt;&quot; + expectedSize + &quot;&gt; but was:&lt;&quot; + actualSize + '&gt;');</span>
            }
        }
<span class="nc" id="L1468">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1470">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1471">        }</span>
<span class="nc" id="L1472">    }</span>

    /**
     * Assert the size of the given {@link ImmutableSet}.
     */
    public static void assertSize(int expectedSize, ImmutableSet&lt;?&gt; actualImmutableSet)
    {
        try
        {
<span class="nc" id="L1481">            Verify.assertSize(&quot;immutable set&quot;, expectedSize, actualImmutableSet);</span>
        }
<span class="nc" id="L1483">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1485">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1486">        }</span>
<span class="nc" id="L1487">    }</span>

    /**
     * Assert the size of the given {@link ImmutableSet}.
     */
    public static void assertSize(String immutableSetName, int expectedSize, ImmutableSet&lt;?&gt; actualImmutableSet)
    {
        try
        {
<span class="nc" id="L1496">            int actualSize = actualImmutableSet.size();</span>
<span class="nc bnc" id="L1497" title="All 2 branches missed.">            if (actualSize != expectedSize)</span>
            {
<span class="nc" id="L1499">                Assert.fail(&quot;Incorrect size for &quot;</span>
                        + immutableSetName
                        + &quot;; expected:&lt;&quot;
                        + expectedSize
                        + &quot;&gt; but was:&lt;&quot;
                        + actualSize
                        + '&gt;');
            }
        }
<span class="nc" id="L1508">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1510">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1511">        }</span>
<span class="nc" id="L1512">    }</span>

    /**
     * Assert that the given {@code stringToFind} is contained within the {@code stringToSearch}.
     */
    public static void assertContains(String stringToFind, String stringToSearch)
    {
        try
        {
<span class="nc" id="L1521">            Verify.assertContains(&quot;string&quot;, stringToFind, stringToSearch);</span>
        }
<span class="nc" id="L1523">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1525">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1526">        }</span>
<span class="nc" id="L1527">    }</span>

    /**
     * Assert that the given {@code unexpectedString} is &lt;em&gt;not&lt;/em&gt; contained within the {@code stringToSearch}.
     */
    public static void assertNotContains(String unexpectedString, String stringToSearch)
    {
        try
        {
<span class="nc" id="L1536">            Verify.assertNotContains(&quot;string&quot;, unexpectedString, stringToSearch);</span>
        }
<span class="nc" id="L1538">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1540">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1541">        }</span>
<span class="nc" id="L1542">    }</span>

    /**
     * Assert that the given {@code stringToFind} is contained within the {@code stringToSearch}.
     */
    public static void assertContains(String stringName, String stringToFind, String stringToSearch)
    {
        try
        {
<span class="nc" id="L1551">            Assert.assertNotNull(&quot;stringToFind should not be null&quot;, stringToFind);</span>
<span class="nc" id="L1552">            Assert.assertNotNull(&quot;stringToSearch should not be null&quot;, stringToSearch);</span>

<span class="nc bnc" id="L1554" title="All 2 branches missed.">            if (!stringToSearch.contains(stringToFind))</span>
            {
<span class="nc" id="L1556">                Assert.fail(stringName</span>
                        + &quot; did not contain stringToFind:&lt;&quot;
                        + stringToFind
                        + &quot;&gt; in stringToSearch:&lt;&quot;
                        + stringToSearch
                        + '&gt;');
            }
        }
<span class="nc" id="L1564">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1566">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1567">        }</span>
<span class="nc" id="L1568">    }</span>

    /**
     * Assert that the given {@code unexpectedString} is &lt;em&gt;not&lt;/em&gt; contained within the {@code stringToSearch}.
     */
    public static void assertNotContains(String stringName, String unexpectedString, String stringToSearch)
    {
        try
        {
<span class="nc" id="L1577">            Assert.assertNotNull(&quot;unexpectedString should not be null&quot;, unexpectedString);</span>
<span class="nc" id="L1578">            Assert.assertNotNull(&quot;stringToSearch should not be null&quot;, stringToSearch);</span>

<span class="nc bnc" id="L1580" title="All 2 branches missed.">            if (stringToSearch.contains(unexpectedString))</span>
            {
<span class="nc" id="L1582">                Assert.fail(stringName</span>
                        + &quot; contains unexpectedString:&lt;&quot;
                        + unexpectedString
                        + &quot;&gt; in stringToSearch:&lt;&quot;
                        + stringToSearch
                        + '&gt;');
            }
        }
<span class="nc" id="L1590">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1592">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1593">        }</span>
<span class="nc" id="L1594">    }</span>

    public static &lt;T&gt; void assertCount(
            int expectedCount,
            Iterable&lt;T&gt; iterable,
            Predicate&lt;? super T&gt; predicate)
    {
<span class="nc" id="L1601">        Assert.assertEquals(expectedCount, Iterate.count(iterable, predicate));</span>
<span class="nc" id="L1602">    }</span>

    public static &lt;T&gt; void assertAllSatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1608">            Verify.assertAllSatisfy(&quot;The following items failed to satisfy the condition&quot;, iterable, predicate);</span>
        }
<span class="nc" id="L1610">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1612">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1613">        }</span>
<span class="nc" id="L1614">    }</span>

    public static &lt;K, V&gt; void assertAllSatisfy(Map&lt;K, V&gt; map, Predicate&lt;? super V&gt; predicate)
    {
        try
        {
<span class="nc" id="L1620">            Verify.assertAllSatisfy(map.values(), predicate);</span>
        }
<span class="nc" id="L1622">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1624">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1625">        }</span>
<span class="nc" id="L1626">    }</span>

    public static &lt;T&gt; void assertAllSatisfy(String message, Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1632">            MutableList&lt;T&gt; unacceptable = Iterate.reject(iterable, predicate, Lists.mutable.of());</span>
<span class="nc bnc" id="L1633" title="All 2 branches missed.">            if (unacceptable.notEmpty())</span>
            {
<span class="nc" id="L1635">                Assert.fail(message + &quot; &lt;&quot; + unacceptable + '&gt;');</span>
            }
        }
<span class="nc" id="L1638">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1640">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1641">        }</span>
<span class="nc" id="L1642">    }</span>

    public static &lt;T&gt; void assertAnySatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1648">            Verify.assertAnySatisfy(&quot;No items satisfied the condition&quot;, iterable, predicate);</span>
        }
<span class="nc" id="L1650">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1652">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1653">        }</span>
<span class="nc" id="L1654">    }</span>

    public static &lt;K, V&gt; void assertAnySatisfy(Map&lt;K, V&gt; map, Predicate&lt;? super V&gt; predicate)
    {
        try
        {
<span class="nc" id="L1660">            Verify.assertAnySatisfy(map.values(), predicate);</span>
        }
<span class="nc" id="L1662">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1664">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1665">        }</span>
<span class="nc" id="L1666">    }</span>

    public static &lt;T&gt; void assertAnySatisfy(String message, Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1672">            Assert.assertTrue(message, Predicates.&lt;T&gt;anySatisfy(predicate).accept(iterable));</span>
        }
<span class="nc" id="L1674">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1676">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1677">        }</span>
<span class="nc" id="L1678">    }</span>

    public static &lt;T&gt; void assertNoneSatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1684">            Verify.assertNoneSatisfy(&quot;The following items satisfied the condition&quot;, iterable, predicate);</span>
        }
<span class="nc" id="L1686">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1688">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1689">        }</span>
<span class="nc" id="L1690">    }</span>

    public static &lt;K, V&gt; void assertNoneSatisfy(Map&lt;K, V&gt; map, Predicate&lt;? super V&gt; predicate)
    {
        try
        {
<span class="nc" id="L1696">            Verify.assertNoneSatisfy(map.values(), predicate);</span>
        }
<span class="nc" id="L1698">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1700">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1701">        }</span>
<span class="nc" id="L1702">    }</span>

    public static &lt;T&gt; void assertNoneSatisfy(String message, Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
        try
        {
<span class="nc" id="L1708">            MutableList&lt;T&gt; unacceptable = Iterate.select(iterable, predicate, Lists.mutable.empty());</span>
<span class="nc bnc" id="L1709" title="All 2 branches missed.">            if (unacceptable.notEmpty())</span>
            {
<span class="nc" id="L1711">                Assert.fail(message + &quot; &lt;&quot; + unacceptable + '&gt;');</span>
            }
        }
<span class="nc" id="L1714">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1716">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1717">        }</span>
<span class="nc" id="L1718">    }</span>

    /**
     * Assert that the given {@link Map} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(Map&lt;?, ?&gt; actualMap, Object... keyValues)
    {
        try
        {
<span class="nc" id="L1727">            Verify.assertContainsAllKeyValues(&quot;map&quot;, actualMap, keyValues);</span>
        }
<span class="nc" id="L1729">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1731">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1732">        }</span>
<span class="nc" id="L1733">    }</span>

    /**
     * Assert that the given {@link Map} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(
            String mapName,
            Map&lt;?, ?&gt; actualMap,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L1745">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc bnc" id="L1747" title="All 2 branches missed.">            if (expectedKeyValues.length % 2 != 0)</span>
            {
<span class="nc" id="L1749">                Assert.fail(&quot;Odd number of keys and values (every key must have a value)&quot;);</span>
            }

<span class="nc" id="L1752">            Verify.assertObjectNotNull(mapName, actualMap);</span>
<span class="nc" id="L1753">            Verify.assertMapContainsKeys(mapName, actualMap, expectedKeyValues);</span>
<span class="nc" id="L1754">            Verify.assertMapContainsValues(mapName, actualMap, expectedKeyValues);</span>
        }
<span class="nc" id="L1756">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1758">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1759">        }</span>
<span class="nc" id="L1760">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(MapIterable&lt;?, ?&gt; mapIterable, Object... keyValues)
    {
        try
        {
<span class="nc" id="L1769">            Verify.assertContainsAllKeyValues(&quot;map&quot;, mapIterable, keyValues);</span>
        }
<span class="nc" id="L1771">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1773">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1774">        }</span>
<span class="nc" id="L1775">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(
            String mapIterableName,
            MapIterable&lt;?, ?&gt; mapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L1787">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc bnc" id="L1789" title="All 2 branches missed.">            if (expectedKeyValues.length % 2 != 0)</span>
            {
<span class="nc" id="L1791">                Assert.fail(&quot;Odd number of keys and values (every key must have a value)&quot;);</span>
            }

<span class="nc" id="L1794">            Verify.assertObjectNotNull(mapIterableName, mapIterable);</span>
<span class="nc" id="L1795">            Verify.assertMapContainsKeys(mapIterableName, mapIterable, expectedKeyValues);</span>
<span class="nc" id="L1796">            Verify.assertMapContainsValues(mapIterableName, mapIterable, expectedKeyValues);</span>
        }
<span class="nc" id="L1798">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1800">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1801">        }</span>
<span class="nc" id="L1802">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(MutableMapIterable&lt;?, ?&gt; mutableMapIterable, Object... keyValues)
    {
        try
        {
<span class="nc" id="L1811">            Verify.assertContainsAllKeyValues(&quot;map&quot;, mutableMapIterable, keyValues);</span>
        }
<span class="nc" id="L1813">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1815">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1816">        }</span>
<span class="nc" id="L1817">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(
            String mutableMapIterableName,
            MutableMapIterable&lt;?, ?&gt; mutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L1829">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc bnc" id="L1831" title="All 2 branches missed.">            if (expectedKeyValues.length % 2 != 0)</span>
            {
<span class="nc" id="L1833">                Assert.fail(&quot;Odd number of keys and values (every key must have a value)&quot;);</span>
            }

<span class="nc" id="L1836">            Verify.assertObjectNotNull(mutableMapIterableName, mutableMapIterable);</span>
<span class="nc" id="L1837">            Verify.assertMapContainsKeys(mutableMapIterableName, mutableMapIterable, expectedKeyValues);</span>
<span class="nc" id="L1838">            Verify.assertMapContainsValues(mutableMapIterableName, mutableMapIterable, expectedKeyValues);</span>
        }
<span class="nc" id="L1840">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1842">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1843">        }</span>
<span class="nc" id="L1844">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable, Object... keyValues)
    {
        try
        {
<span class="nc" id="L1853">            Verify.assertContainsAllKeyValues(&quot;map&quot;, immutableMapIterable, keyValues);</span>
        }
<span class="nc" id="L1855">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1857">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1858">        }</span>
<span class="nc" id="L1859">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains all of the given keys and values.
     */
    public static void assertContainsAllKeyValues(
            String immutableMapIterableName,
            ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L1871">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc bnc" id="L1873" title="All 2 branches missed.">            if (expectedKeyValues.length % 2 != 0)</span>
            {
<span class="nc" id="L1875">                Assert.fail(&quot;Odd number of keys and values (every key must have a value)&quot;);</span>
            }

<span class="nc" id="L1878">            Verify.assertObjectNotNull(immutableMapIterableName, immutableMapIterable);</span>
<span class="nc" id="L1879">            Verify.assertMapContainsKeys(immutableMapIterableName, immutableMapIterable, expectedKeyValues);</span>
<span class="nc" id="L1880">            Verify.assertMapContainsValues(immutableMapIterableName, immutableMapIterable, expectedKeyValues);</span>
        }
<span class="nc" id="L1882">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1884">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1885">        }</span>
<span class="nc" id="L1886">    }</span>

    public static void denyContainsAny(Collection&lt;?&gt; actualCollection, Object... items)
    {
        try
        {
<span class="nc" id="L1892">            Verify.denyContainsAny(&quot;collection&quot;, actualCollection, items);</span>
        }
<span class="nc" id="L1894">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1896">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1897">        }</span>
<span class="nc" id="L1898">    }</span>

    public static void assertContainsNone(Collection&lt;?&gt; actualCollection, Object... items)
    {
        try
        {
<span class="nc" id="L1904">            Verify.denyContainsAny(&quot;collection&quot;, actualCollection, items);</span>
        }
<span class="nc" id="L1906">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1908">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1909">        }</span>
<span class="nc" id="L1910">    }</span>

    /**
     * Assert that the given {@link Collection} contains the given item.
     */
    public static void assertContains(Object expectedItem, Collection&lt;?&gt; actualCollection)
    {
        try
        {
<span class="nc" id="L1919">            Verify.assertContains(&quot;collection&quot;, expectedItem, actualCollection);</span>
        }
<span class="nc" id="L1921">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1923">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1924">        }</span>
<span class="nc" id="L1925">    }</span>

    /**
     * Assert that the given {@link Collection} contains the given item.
     */
    public static void assertContains(
            String collectionName,
            Object expectedItem,
            Collection&lt;?&gt; actualCollection)
    {
        try
        {
<span class="nc" id="L1937">            Verify.assertObjectNotNull(collectionName, actualCollection);</span>

<span class="nc bnc" id="L1939" title="All 2 branches missed.">            if (!actualCollection.contains(expectedItem))</span>
            {
<span class="nc" id="L1941">                Assert.fail(collectionName + &quot; did not contain expectedItem:&lt;&quot; + expectedItem + '&gt;');</span>
            }
        }
<span class="nc" id="L1944">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1946">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1947">        }</span>
<span class="nc" id="L1948">    }</span>

    /**
     * Assert that the given {@link ImmutableCollection} contains the given item.
     */
    public static void assertContains(Object expectedItem, ImmutableCollection&lt;?&gt; actualImmutableCollection)
    {
        try
        {
<span class="nc" id="L1957">            Verify.assertContains(&quot;ImmutableCollection&quot;, expectedItem, actualImmutableCollection);</span>
        }
<span class="nc" id="L1959">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1961">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1962">        }</span>
<span class="nc" id="L1963">    }</span>

    /**
     * Assert that the given {@link ImmutableCollection} contains the given item.
     */
    public static void assertContains(
            String immutableCollectionName,
            Object expectedItem,
            ImmutableCollection&lt;?&gt; actualImmutableCollection)
    {
        try
        {
<span class="nc" id="L1975">            Verify.assertObjectNotNull(immutableCollectionName, actualImmutableCollection);</span>

<span class="nc bnc" id="L1977" title="All 2 branches missed.">            if (!actualImmutableCollection.contains(expectedItem))</span>
            {
<span class="nc" id="L1979">                Assert.fail(immutableCollectionName + &quot; did not contain expectedItem:&lt;&quot; + expectedItem + '&gt;');</span>
            }
        }
<span class="nc" id="L1982">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1984">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1985">        }</span>
<span class="nc" id="L1986">    }</span>

    public static void assertContainsAll(
            Iterable&lt;?&gt; iterable,
            Object... items)
    {
        try
        {
<span class="nc" id="L1994">            Verify.assertContainsAll(&quot;iterable&quot;, iterable, items);</span>
        }
<span class="nc" id="L1996">        catch (AssertionError e)</span>
        {
<span class="nc" id="L1998">            Verify.throwMangledException(e);</span>
<span class="nc" id="L1999">        }</span>
<span class="nc" id="L2000">    }</span>

    public static void assertContainsAll(
            String collectionName,
            Iterable&lt;?&gt; iterable,
            Object... items)
    {
        try
        {
<span class="nc" id="L2009">            Verify.assertObjectNotNull(collectionName, iterable);</span>

<span class="nc" id="L2011">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc" id="L2013">            Predicate&lt;Object&gt; containsPredicate = each -&gt; Iterate.contains(iterable, each);</span>

<span class="nc bnc" id="L2015" title="All 2 branches missed.">            if (!ArrayIterate.allSatisfy(items, containsPredicate))</span>
            {
<span class="nc" id="L2017">                ImmutableList&lt;Object&gt; result = Lists.immutable.of(items).newWithoutAll(iterable);</span>
<span class="nc" id="L2018">                Assert.fail(collectionName + &quot; did not contain these items&quot; + &quot;:&lt;&quot; + result + '&gt;');</span>
            }
        }
<span class="nc" id="L2021">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2023">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2024">        }</span>
<span class="nc" id="L2025">    }</span>

    public static void assertListsEqual(List&lt;?&gt; expectedList, List&lt;?&gt; actualList)
    {
        try
        {
<span class="nc" id="L2031">            Verify.assertListsEqual(&quot;list&quot;, expectedList, actualList);</span>
        }
<span class="nc" id="L2033">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2035">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2036">        }</span>
<span class="nc" id="L2037">    }</span>

    public static void assertListsEqual(String listName, List&lt;?&gt; expectedList, List&lt;?&gt; actualList)
    {
        try
        {
<span class="nc bnc" id="L2043" title="All 4 branches missed.">            if (expectedList == null &amp;&amp; actualList == null)</span>
            {
<span class="nc" id="L2045">                return;</span>
            }
<span class="nc" id="L2047">            Assert.assertNotNull(expectedList);</span>
<span class="nc" id="L2048">            Assert.assertNotNull(actualList);</span>
<span class="nc" id="L2049">            Assert.assertEquals(listName + &quot; size&quot;, expectedList.size(), actualList.size());</span>
<span class="nc bnc" id="L2050" title="All 2 branches missed.">            for (int index = 0; index &lt; actualList.size(); index++)</span>
            {
<span class="nc" id="L2052">                Object eachExpected = expectedList.get(index);</span>
<span class="nc" id="L2053">                Object eachActual = actualList.get(index);</span>
<span class="nc bnc" id="L2054" title="All 2 branches missed.">                if (!Comparators.nullSafeEquals(eachExpected, eachActual))</span>
                {
<span class="nc" id="L2056">                    junit.framework.Assert.failNotEquals(listName + &quot; first differed at element [&quot; + index + &quot;];&quot;, eachExpected, eachActual);</span>
                }
            }
        }
<span class="nc" id="L2060">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2062">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2063">        }</span>
<span class="nc" id="L2064">    }</span>

    public static void assertSetsEqual(Set&lt;?&gt; expectedSet, Set&lt;?&gt; actualSet)
    {
        try
        {
<span class="nc" id="L2070">            Verify.assertSetsEqual(&quot;set&quot;, expectedSet, actualSet);</span>
        }
<span class="nc" id="L2072">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2074">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2075">        }</span>
<span class="nc" id="L2076">    }</span>

    public static void assertSetsEqual(String setName, Set&lt;?&gt; expectedSet, Set&lt;?&gt; actualSet)
    {
        try
        {
<span class="nc bnc" id="L2082" title="All 2 branches missed.">            if (expectedSet == null)</span>
            {
<span class="nc" id="L2084">                Assert.assertNull(setName + &quot; should be null&quot;, actualSet);</span>
<span class="nc" id="L2085">                return;</span>
            }

<span class="nc" id="L2088">            Verify.assertObjectNotNull(setName, actualSet);</span>
<span class="nc" id="L2089">            Verify.assertSize(setName, expectedSet.size(), actualSet);</span>

<span class="nc bnc" id="L2091" title="All 2 branches missed.">            if (!actualSet.equals(expectedSet))</span>
            {
<span class="nc" id="L2093">                MutableSet&lt;?&gt; inExpectedOnlySet = UnifiedSet.newSet(expectedSet);</span>
<span class="nc" id="L2094">                inExpectedOnlySet.removeAll(actualSet);</span>

<span class="nc" id="L2096">                int numberDifferences = inExpectedOnlySet.size();</span>
<span class="nc" id="L2097">                String message = setName + &quot;: &quot; + numberDifferences + &quot; elements different.&quot;;</span>

<span class="nc bnc" id="L2099" title="All 2 branches missed.">                if (numberDifferences &gt; MAX_DIFFERENCES)</span>
                {
<span class="nc" id="L2101">                    Assert.fail(message);</span>
                }

<span class="nc" id="L2104">                MutableSet&lt;?&gt; inActualOnlySet = UnifiedSet.newSet(actualSet);</span>
<span class="nc" id="L2105">                inActualOnlySet.removeAll(expectedSet);</span>

                //noinspection UseOfObsoleteAssert
<span class="nc" id="L2108">                junit.framework.Assert.failNotEquals(message, inExpectedOnlySet, inActualOnlySet);</span>
            }
        }
<span class="nc" id="L2111">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2113">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2114">        }</span>
<span class="nc" id="L2115">    }</span>

    public static void assertSortedSetsEqual(SortedSet&lt;?&gt; expectedSet, SortedSet&lt;?&gt; actualSet)
    {
        try
        {
<span class="nc" id="L2121">            Verify.assertSortedSetsEqual(&quot;sortedSets&quot;, expectedSet, actualSet);</span>
        }
<span class="nc" id="L2123">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2125">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2126">        }</span>
<span class="nc" id="L2127">    }</span>

    public static void assertSortedSetsEqual(String setName, SortedSet&lt;?&gt; expectedSet, SortedSet&lt;?&gt; actualSet)
    {
        try
        {
<span class="nc" id="L2133">            Assert.assertEquals(setName, expectedSet, actualSet);</span>
<span class="nc" id="L2134">            Verify.assertIterablesEqual(setName, expectedSet, actualSet);</span>
        }
<span class="nc" id="L2136">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2138">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2139">        }</span>
<span class="nc" id="L2140">    }</span>

    public static void assertSortedBagsEqual(SortedBag&lt;?&gt; expectedBag, SortedBag&lt;?&gt; actualBag)
    {
        try
        {
<span class="nc" id="L2146">            Verify.assertSortedBagsEqual(&quot;sortedBags&quot;, expectedBag, actualBag);</span>
        }
<span class="nc" id="L2148">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2150">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2151">        }</span>
<span class="nc" id="L2152">    }</span>

    public static void assertSortedBagsEqual(String bagName, SortedBag&lt;?&gt; expectedBag, SortedBag&lt;?&gt; actualBag)
    {
        try
        {
<span class="nc" id="L2158">            Assert.assertEquals(bagName, expectedBag, actualBag);</span>
<span class="nc" id="L2159">            Verify.assertIterablesEqual(bagName, expectedBag, actualBag);</span>
        }
<span class="nc" id="L2161">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2163">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2164">        }</span>
<span class="nc" id="L2165">    }</span>

    public static void assertSortedMapsEqual(SortedMapIterable&lt;?, ?&gt; expectedMap, SortedMapIterable&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L2171">            Verify.assertSortedMapsEqual(&quot;sortedMaps&quot;, expectedMap, actualMap);</span>
        }
<span class="nc" id="L2173">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2175">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2176">        }</span>
<span class="nc" id="L2177">    }</span>

    public static void assertSortedMapsEqual(String mapName, SortedMapIterable&lt;?, ?&gt; expectedMap, SortedMapIterable&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L2183">            Assert.assertEquals(mapName, expectedMap, actualMap);</span>
<span class="nc" id="L2184">            Verify.assertIterablesEqual(mapName, expectedMap, actualMap);</span>
        }
<span class="nc" id="L2186">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2188">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2189">        }</span>
<span class="nc" id="L2190">    }</span>

    public static void assertIterablesEqual(Iterable&lt;?&gt; expectedIterable, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc" id="L2196">            Verify.assertIterablesEqual(&quot;iterables&quot;, expectedIterable, actualIterable);</span>
        }
<span class="nc" id="L2198">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2200">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2201">        }</span>
<span class="nc" id="L2202">    }</span>

    public static void assertIterablesEqual(String iterableName, Iterable&lt;?&gt; expectedIterable, Iterable&lt;?&gt; actualIterable)
    {
        try
        {
<span class="nc bnc" id="L2208" title="All 2 branches missed.">            if (expectedIterable == null)</span>
            {
<span class="nc" id="L2210">                Assert.assertNull(iterableName + &quot; should be null&quot;, actualIterable);</span>
<span class="nc" id="L2211">                return;</span>
            }

<span class="nc" id="L2214">            Verify.assertObjectNotNull(iterableName, actualIterable);</span>

<span class="nc bnc" id="L2216" title="All 4 branches missed.">            if (expectedIterable instanceof InternalIterable&lt;?&gt; &amp;&amp; actualIterable instanceof InternalIterable&lt;?&gt;)</span>
            {
<span class="nc" id="L2218">                MutableList&lt;Object&gt; expectedList = FastList.newList();</span>
<span class="nc" id="L2219">                MutableList&lt;Object&gt; actualList = FastList.newList();</span>
<span class="nc" id="L2220">                ((InternalIterable&lt;?&gt;) expectedIterable).forEach(CollectionAddProcedure.on(expectedList));</span>
<span class="nc" id="L2221">                ((InternalIterable&lt;?&gt;) actualIterable).forEach(CollectionAddProcedure.on(actualList));</span>
<span class="nc" id="L2222">                Verify.assertListsEqual(iterableName, expectedList, actualList);</span>
<span class="nc" id="L2223">            }</span>
            else
            {
<span class="nc" id="L2226">                Iterator&lt;?&gt; expectedIterator = expectedIterable.iterator();</span>
<span class="nc" id="L2227">                Iterator&lt;?&gt; actualIterator = actualIterable.iterator();</span>
<span class="nc" id="L2228">                int index = 0;</span>

<span class="nc bnc" id="L2230" title="All 4 branches missed.">                while (expectedIterator.hasNext() &amp;&amp; actualIterator.hasNext())</span>
                {
<span class="nc" id="L2232">                    Object eachExpected = expectedIterator.next();</span>
<span class="nc" id="L2233">                    Object eachActual = actualIterator.next();</span>

<span class="nc bnc" id="L2235" title="All 2 branches missed.">                    if (!Comparators.nullSafeEquals(eachExpected, eachActual))</span>
                    {
                        //noinspection UseOfObsoleteAssert
<span class="nc" id="L2238">                        junit.framework.Assert.failNotEquals(iterableName + &quot; first differed at element [&quot; + index + &quot;];&quot;, eachExpected, eachActual);</span>
                    }
<span class="nc" id="L2240">                    index++;</span>
<span class="nc" id="L2241">                }</span>

<span class="nc" id="L2243">                Assert.assertFalse(&quot;Actual &quot; + iterableName + &quot; had &quot; + index + &quot; elements but expected &quot; + iterableName + &quot; had more.&quot;, expectedIterator.hasNext());</span>
<span class="nc" id="L2244">                Assert.assertFalse(&quot;Expected &quot; + iterableName + &quot; had &quot; + index + &quot; elements but actual &quot; + iterableName + &quot; had more.&quot;, actualIterator.hasNext());</span>
            }
        }
<span class="nc" id="L2247">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2249">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2250">        }</span>
<span class="nc" id="L2251">    }</span>

    public static void assertMapsEqual(Map&lt;?, ?&gt; expectedMap, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L2257">            Verify.assertMapsEqual(&quot;map&quot;, expectedMap, actualMap);</span>
        }
<span class="nc" id="L2259">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2261">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2262">        }</span>
<span class="nc" id="L2263">    }</span>

    public static void assertMapsEqual(String mapName, Map&lt;?, ?&gt; expectedMap, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc bnc" id="L2269" title="All 2 branches missed.">            if (expectedMap == null)</span>
            {
<span class="nc" id="L2271">                Assert.assertNull(mapName + &quot; should be null&quot;, actualMap);</span>
<span class="nc" id="L2272">                return;</span>
            }

<span class="nc" id="L2275">            Assert.assertNotNull(mapName + &quot; should not be null&quot;, actualMap);</span>

<span class="nc" id="L2277">            Set&lt;? extends Map.Entry&lt;?, ?&gt;&gt; expectedEntries = expectedMap.entrySet();</span>
<span class="nc bnc" id="L2278" title="All 2 branches missed.">            for (Map.Entry&lt;?, ?&gt; expectedEntry : expectedEntries)</span>
            {
<span class="nc" id="L2280">                Object expectedKey = expectedEntry.getKey();</span>
<span class="nc" id="L2281">                Object expectedValue = expectedEntry.getValue();</span>
<span class="nc" id="L2282">                Object actualValue = actualMap.get(expectedKey);</span>
<span class="nc bnc" id="L2283" title="All 2 branches missed.">                if (!Comparators.nullSafeEquals(actualValue, expectedValue))</span>
                {
<span class="nc" id="L2285">                    Assert.fail(&quot;Values differ at key &quot; + expectedKey + &quot; expected &quot; + expectedValue + &quot; but was &quot; + actualValue);</span>
                }
<span class="nc" id="L2287">            }</span>
<span class="nc" id="L2288">            Verify.assertSetsEqual(mapName + &quot; keys&quot;, expectedMap.keySet(), actualMap.keySet());</span>
<span class="nc" id="L2289">            Verify.assertSetsEqual(mapName + &quot; entries&quot;, expectedMap.entrySet(), actualMap.entrySet());</span>
        }
<span class="nc" id="L2291">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2293">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2294">        }</span>
<span class="nc" id="L2295">    }</span>

    public static void assertBagsEqual(Bag&lt;?&gt; expectedBag, Bag&lt;?&gt; actualBag)
    {
        try
        {
<span class="nc" id="L2301">            Verify.assertBagsEqual(&quot;bag&quot;, expectedBag, actualBag);</span>
        }
<span class="nc" id="L2303">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2305">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2306">        }</span>
<span class="nc" id="L2307">    }</span>

    public static void assertBagsEqual(String bagName, Bag&lt;?&gt; expectedBag, Bag&lt;?&gt; actualBag)
    {
        try
        {
<span class="nc bnc" id="L2313" title="All 2 branches missed.">            if (expectedBag == null)</span>
            {
<span class="nc" id="L2315">                Assert.assertNull(bagName + &quot; should be null&quot;, actualBag);</span>
<span class="nc" id="L2316">                return;</span>
            }

<span class="nc" id="L2319">            Assert.assertNotNull(bagName + &quot; should not be null&quot;, actualBag);</span>

<span class="nc" id="L2321">            Assert.assertEquals(bagName + &quot; size&quot;, expectedBag.size(), actualBag.size());</span>
<span class="nc" id="L2322">            Assert.assertEquals(bagName + &quot; sizeDistinct&quot;, expectedBag.sizeDistinct(), actualBag.sizeDistinct());</span>

<span class="nc" id="L2324">            expectedBag.forEachWithOccurrences((expectedKey, expectedValue) -&gt;</span>
            {
<span class="nc" id="L2326">                int actualValue = actualBag.occurrencesOf(expectedKey);</span>
<span class="nc" id="L2327">                Assert.assertEquals(&quot;Occurrences of &quot; + expectedKey, expectedValue, actualValue);</span>
<span class="nc" id="L2328">            });</span>
        }
<span class="nc" id="L2330">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2332">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2333">        }</span>
<span class="nc" id="L2334">    }</span>

    public static &lt;K, V&gt; void assertListMultimapsEqual(ListMultimap&lt;K, V&gt; expectedListMultimap, ListMultimap&lt;K, V&gt; actualListMultimap)
    {
        try
        {
<span class="nc" id="L2340">            Verify.assertListMultimapsEqual(&quot;ListMultimap&quot;, expectedListMultimap, actualListMultimap);</span>
        }
<span class="nc" id="L2342">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2344">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2345">        }</span>
<span class="nc" id="L2346">    }</span>

    public static &lt;K, V&gt; void assertListMultimapsEqual(String multimapName, ListMultimap&lt;K, V&gt; expectedListMultimap, ListMultimap&lt;K, V&gt; actualListMultimap)
    {
        try
        {
<span class="nc bnc" id="L2352" title="All 2 branches missed.">            if (expectedListMultimap == null)</span>
            {
<span class="nc" id="L2354">                Assert.assertNull(multimapName + &quot; should be null&quot;, actualListMultimap);</span>
<span class="nc" id="L2355">                return;</span>
            }

<span class="nc" id="L2358">            Assert.assertNotNull(multimapName + &quot; should not be null&quot;, actualListMultimap);</span>

<span class="nc" id="L2360">            Assert.assertEquals(multimapName + &quot; size&quot;, expectedListMultimap.size(), actualListMultimap.size());</span>
<span class="nc" id="L2361">            Verify.assertBagsEqual(multimapName + &quot; keyBag&quot;, expectedListMultimap.keyBag(), actualListMultimap.keyBag());</span>

<span class="nc bnc" id="L2363" title="All 2 branches missed.">            for (K key : expectedListMultimap.keysView())</span>
            {
<span class="nc" id="L2365">                Verify.assertListsEqual(multimapName + &quot; value list for key:&quot; + key, (List&lt;V&gt;) expectedListMultimap.get(key), (List&lt;V&gt;) actualListMultimap.get(key));</span>
<span class="nc" id="L2366">            }</span>
<span class="nc" id="L2367">            Assert.assertEquals(multimapName, expectedListMultimap, actualListMultimap);</span>
        }
<span class="nc" id="L2369">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2371">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2372">        }</span>
<span class="nc" id="L2373">    }</span>

    public static &lt;K, V&gt; void assertSetMultimapsEqual(SetMultimap&lt;K, V&gt; expectedSetMultimap, SetMultimap&lt;K, V&gt; actualSetMultimap)
    {
        try
        {
<span class="nc" id="L2379">            Verify.assertSetMultimapsEqual(&quot;SetMultimap&quot;, expectedSetMultimap, actualSetMultimap);</span>
        }
<span class="nc" id="L2381">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2383">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2384">        }</span>
<span class="nc" id="L2385">    }</span>

    public static &lt;K, V&gt; void assertSetMultimapsEqual(String multimapName, SetMultimap&lt;K, V&gt; expectedSetMultimap, SetMultimap&lt;K, V&gt; actualSetMultimap)
    {
        try
        {
<span class="nc bnc" id="L2391" title="All 2 branches missed.">            if (expectedSetMultimap == null)</span>
            {
<span class="nc" id="L2393">                Assert.assertNull(multimapName + &quot; should be null&quot;, actualSetMultimap);</span>
<span class="nc" id="L2394">                return;</span>
            }

<span class="nc" id="L2397">            Assert.assertNotNull(multimapName + &quot; should not be null&quot;, actualSetMultimap);</span>

<span class="nc" id="L2399">            Assert.assertEquals(multimapName + &quot; size&quot;, expectedSetMultimap.size(), actualSetMultimap.size());</span>
<span class="nc" id="L2400">            Verify.assertBagsEqual(multimapName + &quot; keyBag&quot;, expectedSetMultimap.keyBag(), actualSetMultimap.keyBag());</span>

<span class="nc bnc" id="L2402" title="All 2 branches missed.">            for (K key : expectedSetMultimap.keysView())</span>
            {
<span class="nc" id="L2404">                Verify.assertSetsEqual(multimapName + &quot; value set for key:&quot; + key, (Set&lt;V&gt;) expectedSetMultimap.get(key), (Set&lt;V&gt;) actualSetMultimap.get(key));</span>
<span class="nc" id="L2405">            }</span>
<span class="nc" id="L2406">            Assert.assertEquals(multimapName, expectedSetMultimap, actualSetMultimap);</span>
        }
<span class="nc" id="L2408">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2410">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2411">        }</span>
<span class="nc" id="L2412">    }</span>

    public static &lt;K, V&gt; void assertBagMultimapsEqual(BagMultimap&lt;K, V&gt; expectedBagMultimap, BagMultimap&lt;K, V&gt; actualBagMultimap)
    {
        try
        {
<span class="nc" id="L2418">            Verify.assertBagMultimapsEqual(&quot;BagMultimap&quot;, expectedBagMultimap, actualBagMultimap);</span>
        }
<span class="nc" id="L2420">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2422">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2423">        }</span>
<span class="nc" id="L2424">    }</span>

    public static &lt;K, V&gt; void assertBagMultimapsEqual(String multimapName, BagMultimap&lt;K, V&gt; expectedBagMultimap, BagMultimap&lt;K, V&gt; actualBagMultimap)
    {
        try
        {
<span class="nc bnc" id="L2430" title="All 2 branches missed.">            if (expectedBagMultimap == null)</span>
            {
<span class="nc" id="L2432">                Assert.assertNull(multimapName + &quot; should be null&quot;, actualBagMultimap);</span>
<span class="nc" id="L2433">                return;</span>
            }

<span class="nc" id="L2436">            Assert.assertNotNull(multimapName + &quot; should not be null&quot;, actualBagMultimap);</span>

<span class="nc" id="L2438">            Assert.assertEquals(multimapName + &quot; size&quot;, expectedBagMultimap.size(), actualBagMultimap.size());</span>
<span class="nc" id="L2439">            Verify.assertBagsEqual(multimapName + &quot; keyBag&quot;, expectedBagMultimap.keyBag(), actualBagMultimap.keyBag());</span>

<span class="nc bnc" id="L2441" title="All 2 branches missed.">            for (K key : expectedBagMultimap.keysView())</span>
            {
<span class="nc" id="L2443">                Verify.assertBagsEqual(multimapName + &quot; value bag for key:&quot; + key, expectedBagMultimap.get(key), actualBagMultimap.get(key));</span>
<span class="nc" id="L2444">            }</span>
<span class="nc" id="L2445">            Assert.assertEquals(multimapName, expectedBagMultimap, actualBagMultimap);</span>
        }
<span class="nc" id="L2447">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2449">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2450">        }</span>
<span class="nc" id="L2451">    }</span>

    public static &lt;K, V&gt; void assertSortedSetMultimapsEqual(SortedSetMultimap&lt;K, V&gt; expectedSortedSetMultimap, SortedSetMultimap&lt;K, V&gt; actualSortedSetMultimap)
    {
        try
        {
<span class="nc" id="L2457">            Verify.assertSortedSetMultimapsEqual(&quot;SortedSetMultimap&quot;, expectedSortedSetMultimap, actualSortedSetMultimap);</span>
        }
<span class="nc" id="L2459">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2461">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2462">        }</span>
<span class="nc" id="L2463">    }</span>

    public static &lt;K, V&gt; void assertSortedSetMultimapsEqual(String multimapName, SortedSetMultimap&lt;K, V&gt; expectedSortedSetMultimap, SortedSetMultimap&lt;K, V&gt; actualSortedSetMultimap)
    {
        try
        {
<span class="nc bnc" id="L2469" title="All 2 branches missed.">            if (expectedSortedSetMultimap == null)</span>
            {
<span class="nc" id="L2471">                Assert.assertNull(multimapName + &quot; should be null&quot;, actualSortedSetMultimap);</span>
<span class="nc" id="L2472">                return;</span>
            }

<span class="nc" id="L2475">            Assert.assertNotNull(multimapName + &quot; should not be null&quot;, actualSortedSetMultimap);</span>

<span class="nc" id="L2477">            Assert.assertEquals(multimapName + &quot; size&quot;, expectedSortedSetMultimap.size(), actualSortedSetMultimap.size());</span>
<span class="nc" id="L2478">            Verify.assertBagsEqual(multimapName + &quot; keyBag&quot;, expectedSortedSetMultimap.keyBag(), actualSortedSetMultimap.keyBag());</span>

<span class="nc bnc" id="L2480" title="All 2 branches missed.">            for (K key : expectedSortedSetMultimap.keysView())</span>
            {
<span class="nc" id="L2482">                Verify.assertSortedSetsEqual(multimapName + &quot; value set for key:&quot; + key, (SortedSet&lt;V&gt;) expectedSortedSetMultimap.get(key), (SortedSet&lt;V&gt;) actualSortedSetMultimap.get(key));</span>
<span class="nc" id="L2483">            }</span>
<span class="nc" id="L2484">            Assert.assertEquals(multimapName, expectedSortedSetMultimap, actualSortedSetMultimap);</span>
        }
<span class="nc" id="L2486">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2488">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2489">        }</span>
<span class="nc" id="L2490">    }</span>

    public static &lt;K, V&gt; void assertSortedBagMultimapsEqual(SortedBagMultimap&lt;K, V&gt; expectedSortedBagMultimap, SortedBagMultimap&lt;K, V&gt; actualSortedBagMultimap)
    {
        try
        {
<span class="nc" id="L2496">            Verify.assertSortedBagMultimapsEqual(&quot;SortedBagMultimap&quot;, expectedSortedBagMultimap, actualSortedBagMultimap);</span>
        }
<span class="nc" id="L2498">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2500">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2501">        }</span>
<span class="nc" id="L2502">    }</span>

    public static &lt;K, V&gt; void assertSortedBagMultimapsEqual(String multimapName, SortedBagMultimap&lt;K, V&gt; expectedSortedBagMultimap, SortedBagMultimap&lt;K, V&gt; actualSortedBagMultimap)
    {
        try
        {
<span class="nc bnc" id="L2508" title="All 2 branches missed.">            if (expectedSortedBagMultimap == null)</span>
            {
<span class="nc" id="L2510">                Assert.assertNull(multimapName + &quot; should be null&quot;, actualSortedBagMultimap);</span>
<span class="nc" id="L2511">                return;</span>
            }

<span class="nc" id="L2514">            Assert.assertNotNull(multimapName + &quot; should not be null&quot;, actualSortedBagMultimap);</span>

<span class="nc" id="L2516">            Assert.assertEquals(multimapName + &quot; size&quot;, expectedSortedBagMultimap.size(), actualSortedBagMultimap.size());</span>
<span class="nc" id="L2517">            Verify.assertBagsEqual(multimapName + &quot; keyBag&quot;, expectedSortedBagMultimap.keyBag(), actualSortedBagMultimap.keyBag());</span>

<span class="nc bnc" id="L2519" title="All 2 branches missed.">            for (K key : expectedSortedBagMultimap.keysView())</span>
            {
<span class="nc" id="L2521">                Verify.assertSortedBagsEqual(multimapName + &quot; value set for key:&quot; + key, expectedSortedBagMultimap.get(key), actualSortedBagMultimap.get(key));</span>
<span class="nc" id="L2522">            }</span>
<span class="nc" id="L2523">            Assert.assertEquals(multimapName, expectedSortedBagMultimap, actualSortedBagMultimap);</span>
        }
<span class="nc" id="L2525">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2527">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2528">        }</span>
<span class="nc" id="L2529">    }</span>

    private static void assertMapContainsKeys(
            String mapName,
            Map&lt;?, ?&gt; actualMap,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2538">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2540">            MutableList&lt;Object&gt; expectedKeys = Lists.mutable.of();</span>
<span class="nc bnc" id="L2541" title="All 2 branches missed.">            for (int i = 0; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2543">                expectedKeys.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2546">            Verify.assertContainsAll(mapName + &quot;.keySet()&quot;, actualMap.keySet(), expectedKeys.toArray());</span>
        }
<span class="nc" id="L2548">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2550">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2551">        }</span>
<span class="nc" id="L2552">    }</span>

    private static void assertMapContainsValues(
            String mapName,
            Map&lt;?, ?&gt; actualMap,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2561">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2563">            MutableMap&lt;Object, String&gt; missingEntries = UnifiedMap.newMap();</span>
<span class="nc" id="L2564">            int i = 0;</span>
<span class="nc bnc" id="L2565" title="All 2 branches missed.">            while (i &lt; expectedKeyValues.length)</span>
            {
<span class="nc" id="L2567">                Object expectedKey = expectedKeyValues[i++];</span>
<span class="nc" id="L2568">                Object expectedValue = expectedKeyValues[i++];</span>
<span class="nc" id="L2569">                Object actualValue = actualMap.get(expectedKey);</span>
<span class="nc bnc" id="L2570" title="All 2 branches missed.">                if (!Comparators.nullSafeEquals(expectedValue, actualValue))</span>
                {
<span class="nc" id="L2572">                    missingEntries.put(</span>
                            expectedKey,
                            &quot;expectedValue:&lt;&quot; + expectedValue + &quot;&gt;, actualValue:&lt;&quot; + actualValue + '&gt;');
                }
<span class="nc" id="L2576">            }</span>
<span class="nc bnc" id="L2577" title="All 2 branches missed.">            if (!missingEntries.isEmpty())</span>
            {
<span class="nc" id="L2579">                StringBuilder buf = new StringBuilder(mapName + &quot; has incorrect values for keys:[&quot;);</span>
<span class="nc bnc" id="L2580" title="All 2 branches missed.">                for (Map.Entry&lt;Object, String&gt; expectedEntry : missingEntries.entrySet())</span>
                {
<span class="nc" id="L2582">                    buf.append(&quot;key:&lt;&quot;)</span>
<span class="nc" id="L2583">                            .append(expectedEntry.getKey())</span>
<span class="nc" id="L2584">                            .append(',')</span>
<span class="nc" id="L2585">                            .append(expectedEntry.getValue())</span>
<span class="nc" id="L2586">                            .append(&quot;&gt; &quot;);</span>
<span class="nc" id="L2587">                }</span>
<span class="nc" id="L2588">                buf.append(']');</span>
<span class="nc" id="L2589">                Assert.fail(buf.toString());</span>
            }
        }
<span class="nc" id="L2592">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2594">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2595">        }</span>
<span class="nc" id="L2596">    }</span>

    private static void assertMapContainsKeys(
            String mapIterableName,
            MapIterable&lt;?, ?&gt; mapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2605">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2607">            MutableList&lt;Object&gt; expectedKeys = Lists.mutable.of();</span>
<span class="nc bnc" id="L2608" title="All 2 branches missed.">            for (int i = 0; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2610">                expectedKeys.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2613">            Verify.assertContainsAll(mapIterableName + &quot;.keysView()&quot;, mapIterable.keysView(), expectedKeys.toArray());</span>
        }
<span class="nc" id="L2615">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2617">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2618">        }</span>
<span class="nc" id="L2619">    }</span>

    private static void assertMapContainsValues(
            String mapIterableName,
            MapIterable&lt;?, ?&gt; mapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2628">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2630">            MutableList&lt;Object&gt; expectedValues = Lists.mutable.of();</span>
<span class="nc bnc" id="L2631" title="All 2 branches missed.">            for (int i = 1; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2633">                expectedValues.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2636">            Verify.assertContainsAll(mapIterableName + &quot;.valuesView()&quot;, mapIterable.valuesView(), expectedValues.toArray());</span>
        }
<span class="nc" id="L2638">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2640">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2641">        }</span>
<span class="nc" id="L2642">    }</span>

    private static void assertMapContainsKeys(
            String mutableMapIterableName,
            MutableMapIterable&lt;?, ?&gt; mutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2651">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2653">            MutableList&lt;Object&gt; expectedKeys = Lists.mutable.of();</span>
<span class="nc bnc" id="L2654" title="All 2 branches missed.">            for (int i = 0; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2656">                expectedKeys.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2659">            Verify.assertContainsAll(mutableMapIterableName + &quot;.keysView()&quot;, mutableMapIterable.keysView(), expectedKeys.toArray());</span>
        }
<span class="nc" id="L2661">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2663">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2664">        }</span>
<span class="nc" id="L2665">    }</span>

    private static void assertMapContainsValues(
            String mutableMapIterableName,
            MutableMapIterable&lt;?, ?&gt; mutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2674">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2676">            MutableList&lt;Object&gt; expectedValues = Lists.mutable.of();</span>
<span class="nc bnc" id="L2677" title="All 2 branches missed.">            for (int i = 1; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2679">                expectedValues.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2682">            Verify.assertContainsAll(mutableMapIterableName + &quot;.valuesView()&quot;, mutableMapIterable.valuesView(), expectedValues.toArray());</span>
        }
<span class="nc" id="L2684">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2686">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2687">        }</span>
<span class="nc" id="L2688">    }</span>

    private static void assertMapContainsKeys(
            String immutableMapIterableName,
            ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2697">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2699">            MutableList&lt;Object&gt; expectedKeys = Lists.mutable.of();</span>
<span class="nc bnc" id="L2700" title="All 2 branches missed.">            for (int i = 0; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2702">                expectedKeys.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2705">            Verify.assertContainsAll(immutableMapIterableName + &quot;.keysView()&quot;, immutableMapIterable.keysView(), expectedKeys.toArray());</span>
        }
<span class="nc" id="L2707">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2709">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2710">        }</span>
<span class="nc" id="L2711">    }</span>

    private static void assertMapContainsValues(
            String immutableMapIterableName,
            ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2720">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc" id="L2722">            MutableList&lt;Object&gt; expectedValues = Lists.mutable.of();</span>
<span class="nc bnc" id="L2723" title="All 2 branches missed.">            for (int i = 1; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2725">                expectedValues.add(expectedKeyValues[i]);</span>
            }

<span class="nc" id="L2728">            Verify.assertContainsAll(immutableMapIterableName + &quot;.valuesView()&quot;, immutableMapIterable.valuesView(), expectedValues.toArray());</span>
        }
<span class="nc" id="L2730">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2732">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2733">        }</span>
<span class="nc" id="L2734">    }</span>

    /**
     * Assert that the given {@link Multimap} contains an entry with the given key and value.
     */
    public static &lt;K, V&gt; void assertContainsEntry(
            K expectedKey,
            V expectedValue,
            Multimap&lt;K, V&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L2746">            Verify.assertContainsEntry(&quot;multimap&quot;, expectedKey, expectedValue, actualMultimap);</span>
        }
<span class="nc" id="L2748">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2750">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2751">        }</span>
<span class="nc" id="L2752">    }</span>

    /**
     * Assert that the given {@link Multimap} contains an entry with the given key and value.
     */
    public static &lt;K, V&gt; void assertContainsEntry(
            String multimapName,
            K expectedKey,
            V expectedValue,
            Multimap&lt;K, V&gt; actualMultimap)
    {
        try
        {
<span class="nc" id="L2765">            Assert.assertNotNull(multimapName, actualMultimap);</span>

<span class="nc bnc" id="L2767" title="All 2 branches missed.">            if (!actualMultimap.containsKeyAndValue(expectedKey, expectedValue))</span>
            {
<span class="nc" id="L2769">                Assert.fail(multimapName + &quot; did not contain entry: &lt;&quot; + expectedKey + &quot;, &quot; + expectedValue + '&gt;');</span>
            }
        }
<span class="nc" id="L2772">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2774">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2775">        }</span>
<span class="nc" id="L2776">    }</span>

    /**
     * Assert the given {@link Multimap} contains all of the given keys and values.
     */
    public static void assertContainsAllEntries(Multimap&lt;?, ?&gt; actualMultimap, Object... keyValues)
    {
        try
        {
<span class="nc" id="L2785">            Verify.assertContainsAllEntries(&quot;multimap&quot;, actualMultimap, keyValues);</span>
        }
<span class="nc" id="L2787">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2789">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2790">        }</span>
<span class="nc" id="L2791">    }</span>

    /**
     * Assert the given {@link Multimap} contains all of the given keys and values.
     */
    public static void assertContainsAllEntries(
            String multimapName,
            Multimap&lt;?, ?&gt; actualMultimap,
            Object... expectedKeyValues)
    {
        try
        {
<span class="nc" id="L2803">            Verify.assertNotEmpty(&quot;Expected keys/values in assertion&quot;, expectedKeyValues);</span>

<span class="nc bnc" id="L2805" title="All 2 branches missed.">            if (expectedKeyValues.length % 2 != 0)</span>
            {
<span class="nc" id="L2807">                Assert.fail(&quot;Odd number of keys and values (every key must have a value)&quot;);</span>
            }

<span class="nc" id="L2810">            Verify.assertObjectNotNull(multimapName, actualMultimap);</span>

<span class="nc" id="L2812">            MutableList&lt;Map.Entry&lt;?, ?&gt;&gt; missingEntries = Lists.mutable.of();</span>
<span class="nc bnc" id="L2813" title="All 2 branches missed.">            for (int i = 0; i &lt; expectedKeyValues.length; i += 2)</span>
            {
<span class="nc" id="L2815">                Object expectedKey = expectedKeyValues[i];</span>
<span class="nc" id="L2816">                Object expectedValue = expectedKeyValues[i + 1];</span>

<span class="nc bnc" id="L2818" title="All 2 branches missed.">                if (!actualMultimap.containsKeyAndValue(expectedKey, expectedValue))</span>
                {
<span class="nc" id="L2820">                    missingEntries.add(new ImmutableEntry&lt;&gt;(expectedKey, expectedValue));</span>
                }
            }

<span class="nc bnc" id="L2824" title="All 2 branches missed.">            if (!missingEntries.isEmpty())</span>
            {
<span class="nc" id="L2826">                Assert.fail(multimapName + &quot; is missing entries: &quot; + missingEntries);</span>
            }
        }
<span class="nc" id="L2829">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2831">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2832">        }</span>
<span class="nc" id="L2833">    }</span>

    public static void denyContainsAny(
            String collectionName,
            Collection&lt;?&gt; actualCollection,
            Object... items)
    {
        try
        {
<span class="nc" id="L2842">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc" id="L2844">            Verify.assertObjectNotNull(collectionName, actualCollection);</span>

<span class="nc" id="L2846">            MutableSet&lt;Object&gt; intersection = Sets.intersect(UnifiedSet.newSet(actualCollection), UnifiedSet.newSetWith(items));</span>
<span class="nc bnc" id="L2847" title="All 2 branches missed.">            if (intersection.notEmpty())</span>
            {
<span class="nc" id="L2849">                Assert.fail(collectionName</span>
                        + &quot; has an intersection with these items and should not :&lt;&quot; + intersection + '&gt;');
            }
        }
<span class="nc" id="L2853">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2855">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2856">        }</span>
<span class="nc" id="L2857">    }</span>

    /**
     * Assert that the given {@link Map} contains an entry with the given key.
     */
    public static void assertContainsKey(Object expectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L2866">            Verify.assertContainsKey(&quot;map&quot;, expectedKey, actualMap);</span>
        }
<span class="nc" id="L2868">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2870">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2871">        }</span>
<span class="nc" id="L2872">    }</span>

    /**
     * Assert that the given {@link Map} contains an entry with the given key.
     */
    public static void assertContainsKey(String mapName, Object expectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L2881">            Assert.assertNotNull(mapName, actualMap);</span>

<span class="nc bnc" id="L2883" title="All 2 branches missed.">            if (!actualMap.containsKey(expectedKey))</span>
            {
<span class="nc" id="L2885">                Assert.fail(mapName + &quot; did not contain expectedKey:&lt;&quot; + expectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L2888">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2890">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2891">        }</span>
<span class="nc" id="L2892">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(Object expectedKey, MapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L2901">            Verify.assertContainsKey(&quot;map&quot;, expectedKey, mapIterable);</span>
        }
<span class="nc" id="L2903">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2905">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2906">        }</span>
<span class="nc" id="L2907">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(
            String mapIterableName,
            Object expectedKey,
            MapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L2919">            Assert.assertNotNull(mapIterableName, mapIterable);</span>

<span class="nc bnc" id="L2921" title="All 2 branches missed.">            if (!mapIterable.containsKey(expectedKey))</span>
            {
<span class="nc" id="L2923">                Assert.fail(mapIterableName + &quot; did not contain expectedKey:&lt;&quot; + expectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L2926">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2928">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2929">        }</span>
<span class="nc" id="L2930">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(Object expectedKey, MutableMapIterable&lt;?, ?&gt; mutableMapIterable)
    {
        try
        {
<span class="nc" id="L2939">            Verify.assertContainsKey(&quot;map&quot;, expectedKey, mutableMapIterable);</span>
        }
<span class="nc" id="L2941">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2943">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2944">        }</span>
<span class="nc" id="L2945">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(
            String mutableMapIterableName,
            Object expectedKey,
            MutableMapIterable&lt;?, ?&gt; mutableMapIterable)
    {
        try
        {
<span class="nc" id="L2957">            Assert.assertNotNull(mutableMapIterableName, mutableMapIterable);</span>

<span class="nc bnc" id="L2959" title="All 2 branches missed.">            if (!mutableMapIterable.containsKey(expectedKey))</span>
            {
<span class="nc" id="L2961">                Assert.fail(mutableMapIterableName + &quot; did not contain expectedKey:&lt;&quot; + expectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L2964">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2966">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2967">        }</span>
<span class="nc" id="L2968">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(Object expectedKey, ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable)
    {
        try
        {
<span class="nc" id="L2977">            Verify.assertContainsKey(&quot;map&quot;, expectedKey, immutableMapIterable);</span>
        }
<span class="nc" id="L2979">        catch (AssertionError e)</span>
        {
<span class="nc" id="L2981">            Verify.throwMangledException(e);</span>
<span class="nc" id="L2982">        }</span>
<span class="nc" id="L2983">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains an entry with the given key.
     */
    public static void assertContainsKey(
            String immutableMapIterableName,
            Object expectedKey,
            ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable)
    {
        try
        {
<span class="nc" id="L2995">            Assert.assertNotNull(immutableMapIterableName, immutableMapIterable);</span>

<span class="nc bnc" id="L2997" title="All 2 branches missed.">            if (!immutableMapIterable.containsKey(expectedKey))</span>
            {
<span class="nc" id="L2999">                Assert.fail(immutableMapIterableName + &quot; did not contain expectedKey:&lt;&quot; + expectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L3002">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3004">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3005">        }</span>
<span class="nc" id="L3006">    }</span>

    /**
     * Deny that the given {@link Map} contains an entry with the given key.
     */
    public static void denyContainsKey(Object unexpectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3015">            Verify.denyContainsKey(&quot;map&quot;, unexpectedKey, actualMap);</span>
        }
<span class="nc" id="L3017">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3019">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3020">        }</span>
<span class="nc" id="L3021">    }</span>

    /**
     * Deny that the given {@link Map} contains an entry with the given key.
     */
    public static void denyContainsKey(String mapName, Object unexpectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3030">            Assert.assertNotNull(mapName, actualMap);</span>

<span class="nc bnc" id="L3032" title="All 2 branches missed.">            if (actualMap.containsKey(unexpectedKey))</span>
            {
<span class="nc" id="L3034">                Assert.fail(mapName + &quot; contained unexpectedKey:&lt;&quot; + unexpectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L3037">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3039">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3040">        }</span>
<span class="nc" id="L3041">    }</span>

    /**
     * Assert that the given {@link Map} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            Object expectedKey,
            Object expectedValue,
            Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3053">            Verify.assertContainsKeyValue(&quot;map&quot;, expectedKey, expectedValue, actualMap);</span>
        }
<span class="nc" id="L3055">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3057">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3058">        }</span>
<span class="nc" id="L3059">    }</span>

    /**
     * Assert that the given {@link Map} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            String mapName,
            Object expectedKey,
            Object expectedValue,
            Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3072">            Verify.assertContainsKey(mapName, expectedKey, actualMap);</span>

<span class="nc" id="L3074">            Object actualValue = actualMap.get(expectedKey);</span>
<span class="nc bnc" id="L3075" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(actualValue, expectedValue))</span>
            {
<span class="nc" id="L3077">                Assert.fail(</span>
                        mapName
                                + &quot; entry with expectedKey:&lt;&quot;
                                + expectedKey
                                + &quot;&gt; &quot;
                                + &quot;did not contain expectedValue:&lt;&quot;
                                + expectedValue
                                + &quot;&gt;, &quot;
                                + &quot;but had actualValue:&lt;&quot;
                                + actualValue
                                + '&gt;');
            }
        }
<span class="nc" id="L3090">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3092">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3093">        }</span>
<span class="nc" id="L3094">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            Object expectedKey,
            Object expectedValue,
            MapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L3106">            Verify.assertContainsKeyValue(&quot;map&quot;, expectedKey, expectedValue, mapIterable);</span>
        }
<span class="nc" id="L3108">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3110">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3111">        }</span>
<span class="nc" id="L3112">    }</span>

    /**
     * Assert that the given {@link MapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            String mapIterableName,
            Object expectedKey,
            Object expectedValue,
            MapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L3125">            Verify.assertContainsKey(mapIterableName, expectedKey, mapIterable);</span>

<span class="nc" id="L3127">            Object actualValue = mapIterable.get(expectedKey);</span>
<span class="nc bnc" id="L3128" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(actualValue, expectedValue))</span>
            {
<span class="nc" id="L3130">                Assert.fail(</span>
                        mapIterableName
                                + &quot; entry with expectedKey:&lt;&quot;
                                + expectedKey
                                + &quot;&gt; &quot;
                                + &quot;did not contain expectedValue:&lt;&quot;
                                + expectedValue
                                + &quot;&gt;, &quot;
                                + &quot;but had actualValue:&lt;&quot;
                                + actualValue
                                + '&gt;');
            }
        }
<span class="nc" id="L3143">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3145">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3146">        }</span>
<span class="nc" id="L3147">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            Object expectedKey,
            Object expectedValue,
            MutableMapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L3159">            Verify.assertContainsKeyValue(&quot;map&quot;, expectedKey, expectedValue, mapIterable);</span>
        }
<span class="nc" id="L3161">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3163">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3164">        }</span>
<span class="nc" id="L3165">    }</span>

    /**
     * Assert that the given {@link MutableMapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            String mapIterableName,
            Object expectedKey,
            Object expectedValue,
            MutableMapIterable&lt;?, ?&gt; mutableMapIterable)
    {
        try
        {
<span class="nc" id="L3178">            Verify.assertContainsKey(mapIterableName, expectedKey, mutableMapIterable);</span>

<span class="nc" id="L3180">            Object actualValue = mutableMapIterable.get(expectedKey);</span>
<span class="nc bnc" id="L3181" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(actualValue, expectedValue))</span>
            {
<span class="nc" id="L3183">                Assert.fail(</span>
                        mapIterableName
                                + &quot; entry with expectedKey:&lt;&quot;
                                + expectedKey
                                + &quot;&gt; &quot;
                                + &quot;did not contain expectedValue:&lt;&quot;
                                + expectedValue
                                + &quot;&gt;, &quot;
                                + &quot;but had actualValue:&lt;&quot;
                                + actualValue
                                + '&gt;');
            }
        }
<span class="nc" id="L3196">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3198">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3199">        }</span>
<span class="nc" id="L3200">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            Object expectedKey,
            Object expectedValue,
            ImmutableMapIterable&lt;?, ?&gt; mapIterable)
    {
        try
        {
<span class="nc" id="L3212">            Verify.assertContainsKeyValue(&quot;map&quot;, expectedKey, expectedValue, mapIterable);</span>
        }
<span class="nc" id="L3214">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3216">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3217">        }</span>
<span class="nc" id="L3218">    }</span>

    /**
     * Assert that the given {@link ImmutableMapIterable} contains an entry with the given key and value.
     */
    public static void assertContainsKeyValue(
            String mapIterableName,
            Object expectedKey,
            Object expectedValue,
            ImmutableMapIterable&lt;?, ?&gt; immutableMapIterable)
    {
        try
        {
<span class="nc" id="L3231">            Verify.assertContainsKey(mapIterableName, expectedKey, immutableMapIterable);</span>

<span class="nc" id="L3233">            Object actualValue = immutableMapIterable.get(expectedKey);</span>
<span class="nc bnc" id="L3234" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(actualValue, expectedValue))</span>
            {
<span class="nc" id="L3236">                Assert.fail(</span>
                        mapIterableName
                                + &quot; entry with expectedKey:&lt;&quot;
                                + expectedKey
                                + &quot;&gt; &quot;
                                + &quot;did not contain expectedValue:&lt;&quot;
                                + expectedValue
                                + &quot;&gt;, &quot;
                                + &quot;but had actualValue:&lt;&quot;
                                + actualValue
                                + '&gt;');
            }
        }
<span class="nc" id="L3249">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3251">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3252">        }</span>
<span class="nc" id="L3253">    }</span>

    /**
     * Assert that the given {@link Collection} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContains(Object unexpectedItem, Collection&lt;?&gt; actualCollection)
    {
        try
        {
<span class="nc" id="L3262">            Verify.assertNotContains(&quot;collection&quot;, unexpectedItem, actualCollection);</span>
        }
<span class="nc" id="L3264">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3266">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3267">        }</span>
<span class="nc" id="L3268">    }</span>

    /**
     * Assert that the given {@link Collection} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContains(
            String collectionName,
            Object unexpectedItem,
            Collection&lt;?&gt; actualCollection)
    {
        try
        {
<span class="nc" id="L3280">            Verify.assertObjectNotNull(collectionName, actualCollection);</span>

<span class="nc bnc" id="L3282" title="All 2 branches missed.">            if (actualCollection.contains(unexpectedItem))</span>
            {
<span class="nc" id="L3284">                Assert.fail(collectionName + &quot; should not contain unexpectedItem:&lt;&quot; + unexpectedItem + '&gt;');</span>
            }
        }
<span class="nc" id="L3287">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3289">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3290">        }</span>
<span class="nc" id="L3291">    }</span>

    /**
     * Assert that the given {@link Iterable} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContains(Object unexpectedItem, Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L3300">            Verify.assertNotContains(&quot;iterable&quot;, unexpectedItem, iterable);</span>
        }
<span class="nc" id="L3302">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3304">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3305">        }</span>
<span class="nc" id="L3306">    }</span>

    /**
     * Assert that the given {@link Iterable} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContains(
            String collectionName,
            Object unexpectedItem,
            Iterable&lt;?&gt; iterable)
    {
        try
        {
<span class="nc" id="L3318">            Verify.assertObjectNotNull(collectionName, iterable);</span>

<span class="nc bnc" id="L3320" title="All 2 branches missed.">            if (Iterate.contains(iterable, unexpectedItem))</span>
            {
<span class="nc" id="L3322">                Assert.fail(collectionName + &quot; should not contain unexpectedItem:&lt;&quot; + unexpectedItem + '&gt;');</span>
            }
        }
<span class="nc" id="L3325">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3327">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3328">        }</span>
<span class="nc" id="L3329">    }</span>

    /**
     * Assert that the given {@link Collection} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContainsKey(Object unexpectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3338">            Verify.assertNotContainsKey(&quot;map&quot;, unexpectedKey, actualMap);</span>
        }
<span class="nc" id="L3340">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3342">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3343">        }</span>
<span class="nc" id="L3344">    }</span>

    /**
     * Assert that the given {@link Collection} does &lt;em&gt;not&lt;/em&gt; contain the given item.
     */
    public static void assertNotContainsKey(String mapName, Object unexpectedKey, Map&lt;?, ?&gt; actualMap)
    {
        try
        {
<span class="nc" id="L3353">            Verify.assertObjectNotNull(mapName, actualMap);</span>

<span class="nc bnc" id="L3355" title="All 2 branches missed.">            if (actualMap.containsKey(unexpectedKey))</span>
            {
<span class="nc" id="L3357">                Assert.fail(mapName + &quot; should not contain unexpectedItem:&lt;&quot; + unexpectedKey + '&gt;');</span>
            }
        }
<span class="nc" id="L3360">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3362">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3363">        }</span>
<span class="nc" id="L3364">    }</span>

    /**
     * Assert that the formerItem appears before the latterItem in the given {@link Collection}.
     * Both the formerItem and the latterItem must appear in the collection, or this assert will fail.
     */
    public static void assertBefore(Object formerItem, Object latterItem, List&lt;?&gt; actualList)
    {
        try
        {
<span class="nc" id="L3374">            Verify.assertBefore(&quot;list&quot;, formerItem, latterItem, actualList);</span>
        }
<span class="nc" id="L3376">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3378">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3379">        }</span>
<span class="nc" id="L3380">    }</span>

    /**
     * Assert that the formerItem appears before the latterItem in the given {@link Collection}.
     * {@link #assertContains(String, Object, Collection)} will be called for both the formerItem and the
     * latterItem, prior to the &quot;before&quot; assertion.
     */
    public static void assertBefore(
            String listName,
            Object formerItem,
            Object latterItem,
            List&lt;?&gt; actualList)
    {
        try
        {
<span class="nc" id="L3395">            Verify.assertObjectNotNull(listName, actualList);</span>
<span class="nc" id="L3396">            Verify.assertNotEquals(</span>
                    &quot;Bad test, formerItem and latterItem are equal, listName:&lt;&quot; + listName + '&gt;',
                    formerItem,
                    latterItem);
<span class="nc" id="L3400">            Verify.assertContainsAll(listName, actualList, formerItem, latterItem);</span>
<span class="nc" id="L3401">            int formerPosition = actualList.indexOf(formerItem);</span>
<span class="nc" id="L3402">            int latterPosition = actualList.indexOf(latterItem);</span>
<span class="nc bnc" id="L3403" title="All 2 branches missed.">            if (latterPosition &lt; formerPosition)</span>
            {
<span class="nc" id="L3405">                Assert.fail(&quot;Items in &quot;</span>
                        + listName
                        + &quot; are in incorrect order; &quot;
                        + &quot;expected formerItem:&lt;&quot;
                        + formerItem
                        + &quot;&gt; &quot;
                        + &quot;to appear before latterItem:&lt;&quot;
                        + latterItem
                        + &quot;&gt;, but didn't&quot;);
            }
        }
<span class="nc" id="L3416">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3418">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3419">        }</span>
<span class="nc" id="L3420">    }</span>

    public static void assertObjectNotNull(String objectName, Object actualObject)
    {
        try
        {
<span class="nc" id="L3426">            Assert.assertNotNull(objectName + &quot; should not be null&quot;, actualObject);</span>
        }
<span class="nc" id="L3428">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3430">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3431">        }</span>
<span class="nc" id="L3432">    }</span>

    /**
     * Assert that the given {@code item} is at the {@code index} in the given {@link List}.
     */
    public static void assertItemAtIndex(Object expectedItem, int index, List&lt;?&gt; list)
    {
        try
        {
<span class="nc" id="L3441">            Verify.assertItemAtIndex(&quot;list&quot;, expectedItem, index, list);</span>
        }
<span class="nc" id="L3443">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3445">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3446">        }</span>
<span class="nc" id="L3447">    }</span>

    /**
     * Assert that the given {@code item} is at the {@code index} in the given {@code array}.
     */
    public static void assertItemAtIndex(Object expectedItem, int index, Object[] array)
    {
        try
        {
<span class="nc" id="L3456">            Verify.assertItemAtIndex(&quot;array&quot;, expectedItem, index, array);</span>
        }
<span class="nc" id="L3458">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3460">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3461">        }</span>
<span class="nc" id="L3462">    }</span>

    public static &lt;T&gt; void assertStartsWith(T[] array, T... items)
    {
        try
        {
<span class="nc" id="L3468">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc bnc" id="L3470" title="All 2 branches missed.">            for (int i = 0; i &lt; items.length; i++)</span>
            {
<span class="nc" id="L3472">                T item = items[i];</span>
<span class="nc" id="L3473">                Verify.assertItemAtIndex(&quot;array&quot;, item, i, array);</span>
            }
        }
<span class="nc" id="L3476">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3478">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3479">        }</span>
<span class="nc" id="L3480">    }</span>

    public static &lt;T&gt; void assertStartsWith(List&lt;T&gt; list, T... items)
    {
        try
        {
<span class="nc" id="L3486">            Verify.assertStartsWith(&quot;list&quot;, list, items);</span>
        }
<span class="nc" id="L3488">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3490">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3491">        }</span>
<span class="nc" id="L3492">    }</span>

    public static &lt;T&gt; void assertStartsWith(String listName, List&lt;T&gt; list, T... items)
    {
        try
        {
<span class="nc" id="L3498">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc bnc" id="L3500" title="All 2 branches missed.">            for (int i = 0; i &lt; items.length; i++)</span>
            {
<span class="nc" id="L3502">                T item = items[i];</span>
<span class="nc" id="L3503">                Verify.assertItemAtIndex(listName, item, i, list);</span>
            }
        }
<span class="nc" id="L3506">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3508">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3509">        }</span>
<span class="nc" id="L3510">    }</span>

    public static &lt;T&gt; void assertEndsWith(List&lt;T&gt; list, T... items)
    {
        try
        {
<span class="nc" id="L3516">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc bnc" id="L3518" title="All 2 branches missed.">            for (int i = 0; i &lt; items.length; i++)</span>
            {
<span class="nc" id="L3520">                T item = items[i];</span>
<span class="nc" id="L3521">                Verify.assertItemAtIndex(&quot;list&quot;, item, list.size() - items.length + i, list);</span>
            }
        }
<span class="nc" id="L3524">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3526">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3527">        }</span>
<span class="nc" id="L3528">    }</span>

    public static &lt;T&gt; void assertEndsWith(T[] array, T... items)
    {
        try
        {
<span class="nc" id="L3534">            Verify.assertNotEmpty(&quot;Expected items in assertion&quot;, items);</span>

<span class="nc bnc" id="L3536" title="All 2 branches missed.">            for (int i = 0; i &lt; items.length; i++)</span>
            {
<span class="nc" id="L3538">                T item = items[i];</span>
<span class="nc" id="L3539">                Verify.assertItemAtIndex(&quot;array&quot;, item, array.length - items.length + i, array);</span>
            }
        }
<span class="nc" id="L3542">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3544">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3545">        }</span>
<span class="nc" id="L3546">    }</span>

    /**
     * Assert that the given {@code item} is at the {@code index} in the given {@link List}.
     */
    public static void assertItemAtIndex(
            String listName,
            Object expectedItem,
            int index,
            List&lt;?&gt; list)
    {
        try
        {
<span class="nc" id="L3559">            Verify.assertObjectNotNull(listName, list);</span>

<span class="nc" id="L3561">            Object actualItem = list.get(index);</span>
<span class="nc bnc" id="L3562" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(expectedItem, actualItem))</span>
            {
<span class="nc" id="L3564">                Assert.assertEquals(</span>
                        listName + &quot; has incorrect element at index:&lt;&quot; + index + '&gt;',
                        expectedItem,
                        actualItem);
            }
        }
<span class="nc" id="L3570">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3572">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3573">        }</span>
<span class="nc" id="L3574">    }</span>

    /**
     * Assert that the given {@code item} is at the {@code index} in the given {@link List}.
     */
    public static void assertItemAtIndex(
            String arrayName,
            Object expectedItem,
            int index,
            Object[] array)
    {
        try
        {
<span class="nc" id="L3587">            Assert.assertNotNull(array);</span>
<span class="nc" id="L3588">            Object actualItem = array[index];</span>
<span class="nc bnc" id="L3589" title="All 2 branches missed.">            if (!Comparators.nullSafeEquals(expectedItem, actualItem))</span>
            {
<span class="nc" id="L3591">                Assert.assertEquals(</span>
                        arrayName + &quot; has incorrect element at index:&lt;&quot; + index + '&gt;',
                        expectedItem,
                        actualItem);
            }
        }
<span class="nc" id="L3597">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3599">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3600">        }</span>
<span class="nc" id="L3601">    }</span>

    public static void assertPostSerializedEqualsAndHashCode(Object object)
    {
        try
        {
<span class="nc" id="L3607">            Object deserialized = SerializeTestHelper.serializeDeserialize(object);</span>
<span class="nc" id="L3608">            Verify.assertEqualsAndHashCode(&quot;objects&quot;, object, deserialized);</span>
<span class="nc" id="L3609">            Assert.assertNotSame(&quot;not same object&quot;, object, deserialized);</span>
        }
<span class="nc" id="L3611">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3613">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3614">        }</span>
<span class="nc" id="L3615">    }</span>

    public static void assertPostSerializedEqualsHashCodeAndToString(Object object)
    {
        try
        {
<span class="nc" id="L3621">            Object deserialized = SerializeTestHelper.serializeDeserialize(object);</span>
<span class="nc" id="L3622">            Verify.assertEqualsAndHashCode(&quot;objects&quot;, object, deserialized);</span>
<span class="nc" id="L3623">            Assert.assertNotSame(&quot;not same object&quot;, object, deserialized);</span>
<span class="nc" id="L3624">            Assert.assertEquals(&quot;not same toString&quot;, object.toString(), deserialized.toString());</span>
        }
<span class="nc" id="L3626">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3628">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3629">        }</span>
<span class="nc" id="L3630">    }</span>

    public static void assertPostSerializedIdentity(Object object)
    {
        try
        {
<span class="nc" id="L3636">            Object deserialized = SerializeTestHelper.serializeDeserialize(object);</span>
<span class="nc" id="L3637">            Verify.assertEqualsAndHashCode(&quot;objects&quot;, object, deserialized);</span>
<span class="nc" id="L3638">            Assert.assertSame(&quot;same object&quot;, object, deserialized);</span>
        }
<span class="nc" id="L3640">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3642">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3643">        }</span>
<span class="nc" id="L3644">    }</span>

    public static void assertSerializedForm(String expectedBase64Form, Object actualObject)
    {
        try
        {
<span class="nc" id="L3650">            Verify.assertInstanceOf(Serializable.class, actualObject);</span>
<span class="nc" id="L3651">            Assert.assertEquals(</span>
                    &quot;Serialization was broken.&quot;,
                    expectedBase64Form,
<span class="nc" id="L3654">                    Verify.encodeObject(actualObject));</span>
        }
<span class="nc" id="L3656">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3658">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3659">        }</span>
<span class="nc" id="L3660">    }</span>

    public static void assertSerializedForm(
            long expectedSerialVersionUID,
            String expectedBase64Form,
            Object actualObject)
    {
        try
        {
<span class="nc" id="L3669">            Verify.assertInstanceOf(Serializable.class, actualObject);</span>

<span class="nc" id="L3671">            Assert.assertEquals(</span>
                    &quot;Serialization was broken.&quot;,
                    expectedBase64Form,
<span class="nc" id="L3674">                    Verify.encodeObject(actualObject));</span>

<span class="nc" id="L3676">            Object decodeToObject = Verify.decodeObject(expectedBase64Form);</span>

<span class="nc" id="L3678">            Assert.assertEquals(</span>
                    &quot;serialVersionUID's differ&quot;,
                    expectedSerialVersionUID,
<span class="nc" id="L3681">                    ObjectStreamClass.lookup(decodeToObject.getClass()).getSerialVersionUID());</span>
        }
<span class="nc" id="L3683">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3685">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3686">        }</span>
<span class="nc" id="L3687">    }</span>

    public static void assertDeserializedForm(String expectedBase64Form, Object actualObject)
    {
        try
        {
<span class="nc" id="L3693">            Verify.assertInstanceOf(Serializable.class, actualObject);</span>

<span class="nc" id="L3695">            Object decodeToObject = Verify.decodeObject(expectedBase64Form);</span>
<span class="nc" id="L3696">            Assert.assertEquals(&quot;Serialization was broken.&quot;, decodeToObject, actualObject);</span>
        }
<span class="nc" id="L3698">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3700">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3701">        }</span>
<span class="nc" id="L3702">    }</span>

    private static Object decodeObject(String expectedBase64Form)
    {
        try
        {
<span class="nc" id="L3708">            byte[] bytes = Base64.decodeBase64(expectedBase64Form);</span>
<span class="nc" id="L3709">            return new ObjectInputStream(new ByteArrayInputStream(bytes)).readObject();</span>
        }
<span class="nc" id="L3711">        catch (IOException | ClassNotFoundException e)</span>
        {
<span class="nc" id="L3713">            throw new AssertionError(e);</span>
        }
    }

    private static String encodeObject(Object actualObject)
    {
        try
        {
<span class="nc" id="L3721">            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();</span>
<span class="nc" id="L3722">            ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);</span>
<span class="nc" id="L3723">            objectOutputStream.writeObject(actualObject);</span>
<span class="nc" id="L3724">            objectOutputStream.flush();</span>
<span class="nc" id="L3725">            objectOutputStream.close();</span>

<span class="nc" id="L3727">            String string = new Base64(76, LINE_SEPARATOR, false).encodeAsString(byteArrayOutputStream.toByteArray());</span>
<span class="nc" id="L3728">            String trimmedString = Verify.removeFinalNewline(string);</span>
<span class="nc" id="L3729">            return Verify.addFinalNewline(trimmedString);</span>
        }
<span class="nc" id="L3731">        catch (IOException e)</span>
        {
<span class="nc" id="L3733">            throw new AssertionError(e);</span>
        }
    }

    private static String removeFinalNewline(String string)
    {
<span class="nc" id="L3739">        return string.substring(0, string.length() - 1);</span>
    }

    private static String addFinalNewline(String string)
    {
<span class="nc bnc" id="L3744" title="All 2 branches missed.">        if (string.length() % 77 == 76)</span>
        {
<span class="nc" id="L3746">            return string + '\n';</span>
        }
<span class="nc" id="L3748">        return string;</span>
    }

    public static void assertNotSerializable(Object actualObject)
    {
        try
        {
<span class="nc" id="L3755">            Verify.assertThrows(NotSerializableException.class, () -&gt;</span>
            {
<span class="nc" id="L3757">                new ObjectOutputStream(new ByteArrayOutputStream()).writeObject(actualObject);</span>
<span class="nc" id="L3758">                return null;</span>
            });
        }
<span class="nc" id="L3761">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3763">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3764">        }</span>
<span class="nc" id="L3765">    }</span>

    /**
     * Assert that {@code objectA} and {@code objectB} are equal (via the {@link Object#equals(Object)} method,
     * and that they both return the same {@link Object#hashCode()}.
     */
    public static void assertEqualsAndHashCode(Object objectA, Object objectB)
    {
        try
        {
<span class="nc" id="L3775">            Verify.assertEqualsAndHashCode(&quot;objects&quot;, objectA, objectB);</span>
        }
<span class="nc" id="L3777">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3779">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3780">        }</span>
<span class="nc" id="L3781">    }</span>

    /**
     * Asserts that a value is negative.
     */
    public static void assertNegative(int value)
    {
        try
        {
<span class="nc bnc" id="L3790" title="All 2 branches missed.">            Assert.assertTrue(value + &quot; is not negative&quot;, value &lt; 0);</span>
        }
<span class="nc" id="L3792">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3794">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3795">        }</span>
<span class="nc" id="L3796">    }</span>

    /**
     * Asserts that a value is positive.
     */
    public static void assertPositive(int value)
    {
        try
        {
<span class="nc bnc" id="L3805" title="All 2 branches missed.">            Assert.assertTrue(value + &quot; is not positive&quot;, value &gt; 0);</span>
        }
<span class="nc" id="L3807">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3809">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3810">        }</span>
<span class="nc" id="L3811">    }</span>

    /**
     * Asserts that a value is positive.
     */
    public static void assertZero(int value)
    {
        try
        {
<span class="nc" id="L3820">            Assert.assertEquals(0, value);</span>
        }
<span class="nc" id="L3822">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3824">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3825">        }</span>
<span class="nc" id="L3826">    }</span>

    /**
     * Assert that {@code objectA} and {@code objectB} are equal (via the {@link Object#equals(Object)} method,
     * and that they both return the same {@link Object#hashCode()}.
     */
    public static void assertEqualsAndHashCode(String itemNames, Object objectA, Object objectB)
    {
        try
        {
<span class="nc bnc" id="L3836" title="All 4 branches missed.">            if (objectA == null || objectB == null)</span>
            {
<span class="nc" id="L3838">                Assert.fail(&quot;Neither item should be null: &lt;&quot; + objectA + &quot;&gt; &lt;&quot; + objectB + '&gt;');</span>
            }

<span class="nc" id="L3841">            Assert.assertFalse(&quot;Neither item should equal null&quot;, objectA.equals(null));</span>
<span class="nc" id="L3842">            Assert.assertFalse(&quot;Neither item should equal null&quot;, objectB.equals(null));</span>
<span class="nc" id="L3843">            Verify.assertNotEquals(&quot;Neither item should equal new Object()&quot;, objectA.equals(new Object()));</span>
<span class="nc" id="L3844">            Verify.assertNotEquals(&quot;Neither item should equal new Object()&quot;, objectB.equals(new Object()));</span>
<span class="nc" id="L3845">            Assert.assertEquals(&quot;Expected &quot; + itemNames + &quot; to be equal.&quot;, objectA, objectA);</span>
<span class="nc" id="L3846">            Assert.assertEquals(&quot;Expected &quot; + itemNames + &quot; to be equal.&quot;, objectB, objectB);</span>
<span class="nc" id="L3847">            Assert.assertEquals(&quot;Expected &quot; + itemNames + &quot; to be equal.&quot;, objectA, objectB);</span>
<span class="nc" id="L3848">            Assert.assertEquals(&quot;Expected &quot; + itemNames + &quot; to be equal.&quot;, objectB, objectA);</span>
<span class="nc" id="L3849">            Assert.assertEquals(</span>
                    &quot;Expected &quot; + itemNames + &quot; to have the same hashCode().&quot;,
<span class="nc" id="L3851">                    objectA.hashCode(),</span>
<span class="nc" id="L3852">                    objectB.hashCode());</span>
        }
<span class="nc" id="L3854">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3856">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3857">        }</span>
<span class="nc" id="L3858">    }</span>

    /**
     * @deprecated since 8.2.0 as will not work with Java 9
     */
    @Deprecated
    public static void assertShallowClone(Cloneable object)
    {
        try
        {
<span class="nc" id="L3868">            Verify.assertShallowClone(&quot;object&quot;, object);</span>
        }
<span class="nc" id="L3870">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3872">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3873">        }</span>
<span class="nc" id="L3874">    }</span>

    /**
     * @deprecated since 8.2.0 as will not work with Java 9
     */
    @Deprecated
    public static void assertShallowClone(String itemName, Cloneable object)
    {
        try
        {
<span class="nc" id="L3884">            Method method = Object.class.getDeclaredMethod(&quot;clone&quot;, (Class&lt;?&gt;[]) null);</span>
<span class="nc" id="L3885">            method.setAccessible(true);</span>
<span class="nc" id="L3886">            Object clone = method.invoke(object);</span>
<span class="nc" id="L3887">            String prefix = itemName + &quot; and its clone&quot;;</span>
<span class="nc" id="L3888">            Assert.assertNotSame(prefix, object, clone);</span>
<span class="nc" id="L3889">            Verify.assertEqualsAndHashCode(prefix, object, clone);</span>
        }
<span class="nc" id="L3891">        catch (IllegalArgumentException | IllegalAccessException | NoSuchMethodException | SecurityException | InvocationTargetException e)</span>
        {
<span class="nc" id="L3893">            throw new AssertionError(e.getLocalizedMessage());</span>
        }
<span class="nc" id="L3895">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3897">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3898">        }</span>
<span class="nc" id="L3899">    }</span>

    public static &lt;T&gt; void assertClassNonInstantiable(Class&lt;T&gt; aClass)
    {
        try
        {
            try
            {
<span class="nc" id="L3907">                aClass.newInstance();</span>
<span class="nc" id="L3908">                Assert.fail(&quot;Expected class '&quot; + aClass + &quot;' to be non-instantiable&quot;);</span>
            }
<span class="nc" id="L3910">            catch (InstantiationException e)</span>
            {
                // pass
            }
<span class="nc" id="L3914">            catch (IllegalAccessException e)</span>
            {
<span class="nc bnc" id="L3916" title="All 2 branches missed.">                if (Verify.canInstantiateThroughReflection(aClass))</span>
                {
<span class="nc" id="L3918">                    Assert.fail(&quot;Expected constructor of non-instantiable class '&quot; + aClass + &quot;' to throw an exception, but didn't&quot;);</span>
                }
<span class="nc" id="L3920">            }</span>
        }
<span class="nc" id="L3922">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3924">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3925">        }</span>
<span class="nc" id="L3926">    }</span>

    private static &lt;T&gt; boolean canInstantiateThroughReflection(Class&lt;T&gt; aClass)
    {
        try
        {
<span class="nc" id="L3932">            Constructor&lt;T&gt; declaredConstructor = aClass.getDeclaredConstructor();</span>
<span class="nc" id="L3933">            declaredConstructor.setAccessible(true);</span>
<span class="nc" id="L3934">            declaredConstructor.newInstance();</span>
<span class="nc" id="L3935">            return true;</span>
        }
<span class="nc" id="L3937">        catch (NoSuchMethodException | AssertionError | IllegalAccessException | InstantiationException | InvocationTargetException e)</span>
        {
<span class="nc" id="L3939">            return false;</span>
        }
    }

    public static void assertError(Class&lt;? extends Error&gt; expectedErrorClass, Runnable code)
    {
        try
        {
<span class="nc" id="L3947">            code.run();</span>
        }
<span class="nc" id="L3949">        catch (Error ex)</span>
        {
            try
            {
<span class="nc" id="L3953">                Assert.assertSame(</span>
                        &quot;Caught error of type &lt;&quot;
<span class="nc" id="L3955">                                + ex.getClass().getName()</span>
                                + &quot;&gt;, expected one of type &lt;&quot;
<span class="nc" id="L3957">                                + expectedErrorClass.getName()</span>
                                + '&gt;',
                        expectedErrorClass,
<span class="nc" id="L3960">                        ex.getClass());</span>
<span class="nc" id="L3961">                return;</span>
            }
<span class="nc" id="L3963">            catch (AssertionError e)</span>
            {
<span class="nc" id="L3965">                Verify.throwMangledException(e);</span>
            }
<span class="nc" id="L3967">        }</span>

        try
        {
<span class="nc" id="L3971">            Assert.fail(&quot;Block did not throw an error of type &quot; + expectedErrorClass.getName());</span>
        }
<span class="nc" id="L3973">        catch (AssertionError e)</span>
        {
<span class="nc" id="L3975">            Verify.throwMangledException(e);</span>
<span class="nc" id="L3976">        }</span>
<span class="nc" id="L3977">    }</span>

    /**
     * Runs the {@link Callable} {@code code} and asserts that it throws an {@code Exception} of the type
     * {@code expectedExceptionClass}.
     * &lt;p&gt;
     * {@code Callable} is most appropriate when a checked exception will be thrown.
     * If a subclass of {@link RuntimeException} will be thrown, the form
     * {@link #assertThrows(Class, Runnable)} may be more convenient.
     * &lt;p&gt;
     * e.g.
     * &lt;pre&gt;
     * Verify.&lt;b&gt;assertThrows&lt;/b&gt;(StringIndexOutOfBoundsException.class, new Callable&amp;lt;String&amp;gt;()
     * {
     *    public String call() throws Exception
     *    {
     *        return &quot;Craig&quot;.substring(42, 3);
     *    }
     * });
     * &lt;/pre&gt;
     *
     * @see #assertThrows(Class, Runnable)
     */
    public static void assertThrows(
            Class&lt;? extends Exception&gt; expectedExceptionClass,
            Callable&lt;?&gt; code)
    {
        try
        {
<span class="nc" id="L4006">            code.call();</span>
        }
<span class="nc" id="L4008">        catch (Exception ex)</span>
        {
            try
            {
<span class="nc" id="L4012">                Assert.assertSame(</span>
                        &quot;Caught exception of type &lt;&quot;
<span class="nc" id="L4014">                                + ex.getClass().getName()</span>
                                + &quot;&gt;, expected one of type &lt;&quot;
<span class="nc" id="L4016">                                + expectedExceptionClass.getName()</span>
                                + '&gt;'
                                + '\n'
<span class="nc" id="L4019">                                + &quot;Exception Message: &quot; + ex.getMessage()</span>
                                + '\n',
                        expectedExceptionClass,
<span class="nc" id="L4022">                        ex.getClass());</span>
<span class="nc" id="L4023">                return;</span>
            }
<span class="nc" id="L4025">            catch (AssertionError e)</span>
            {
<span class="nc" id="L4027">                Verify.throwMangledException(e);</span>
            }
<span class="nc" id="L4029">        }</span>

        try
        {
<span class="nc" id="L4033">            Assert.fail(&quot;Block did not throw an exception of type &quot; + expectedExceptionClass.getName());</span>
        }
<span class="nc" id="L4035">        catch (AssertionError e)</span>
        {
<span class="nc" id="L4037">            Verify.throwMangledException(e);</span>
<span class="nc" id="L4038">        }</span>
<span class="nc" id="L4039">    }</span>

    /**
     * Runs the {@link Runnable} {@code code} and asserts that it throws an {@code Exception} of the type
     * {@code expectedExceptionClass}.
     * &lt;p&gt;
     * {@code Runnable} is most appropriate when a subclass of {@link RuntimeException} will be thrown.
     * If a checked exception will be thrown, the form {@link #assertThrows(Class, Callable)} may be more
     * convenient.
     * &lt;p&gt;
     * e.g.
     * &lt;pre&gt;
     * Verify.&lt;b&gt;assertThrows&lt;/b&gt;(NullPointerException.class, new Runnable()
     * {
     *    public void run()
     *    {
     *        final Integer integer = null;
     *        LOGGER.info(integer.toString());
     *    }
     * });
     * &lt;/pre&gt;
     *
     * @see #assertThrows(Class, Callable)
     */
    public static void assertThrows(
            Class&lt;? extends Exception&gt; expectedExceptionClass,
            Runnable code)
    {
        try
        {
<span class="nc" id="L4069">            code.run();</span>
        }
<span class="nc" id="L4071">        catch (RuntimeException ex)</span>
        {
            try
            {
<span class="nc" id="L4075">                Assert.assertSame(</span>
                        &quot;Caught exception of type &lt;&quot;
<span class="nc" id="L4077">                                + ex.getClass().getName()</span>
                                + &quot;&gt;, expected one of type &lt;&quot;
<span class="nc" id="L4079">                                + expectedExceptionClass.getName()</span>
                                + '&gt;'
                                + '\n'
<span class="nc" id="L4082">                                + &quot;Exception Message: &quot; + ex.getMessage()</span>
                                + '\n',
                        expectedExceptionClass,
<span class="nc" id="L4085">                        ex.getClass());</span>
<span class="nc" id="L4086">                return;</span>
            }
<span class="nc" id="L4088">            catch (AssertionError e)</span>
            {
<span class="nc" id="L4090">                Verify.throwMangledException(e);</span>
            }
<span class="nc" id="L4092">        }</span>

        try
        {
<span class="nc" id="L4096">            Assert.fail(&quot;Block did not throw an exception of type &quot; + expectedExceptionClass.getName());</span>
        }
<span class="nc" id="L4098">        catch (AssertionError e)</span>
        {
<span class="nc" id="L4100">            Verify.throwMangledException(e);</span>
<span class="nc" id="L4101">        }</span>
<span class="nc" id="L4102">    }</span>

    /**
     * Runs the {@link Callable} {@code code} and asserts that it throws an {@code Exception} of the type
     * {@code expectedExceptionClass}, which contains a cause of type expectedCauseClass.
     * &lt;p&gt;
     * {@code Callable} is most appropriate when a checked exception will be thrown.
     * If a subclass of {@link RuntimeException} will be thrown, the form
     * {@link #assertThrowsWithCause(Class, Class, Runnable)} may be more convenient.
     * &lt;p&gt;
     * e.g.
     * &lt;pre&gt;
     * Verify.assertThrowsWithCause(RuntimeException.class, IOException.class, new Callable&lt;Void&gt;()
     * {
     *    public Void call() throws Exception
     *    {
     *        try
     *        {
     *            new File(&quot;&quot;).createNewFile();
     *        }
     *        catch (final IOException e)
     *        {
     *            throw new RuntimeException(&quot;Uh oh!&quot;, e);
     *        }
     *        return null;
     *    }
     * });
     * &lt;/pre&gt;
     *
     * @see #assertThrowsWithCause(Class, Class, Runnable)
     */
    public static void assertThrowsWithCause(
            Class&lt;? extends Exception&gt; expectedExceptionClass,
            Class&lt;? extends Throwable&gt; expectedCauseClass,
            Callable&lt;?&gt; code)
    {
        try
        {
<span class="nc" id="L4140">            code.call();</span>
        }
<span class="nc" id="L4142">        catch (Exception ex)</span>
        {
            try
            {
<span class="nc" id="L4146">                Assert.assertSame(</span>
                        &quot;Caught exception of type &lt;&quot;
<span class="nc" id="L4148">                                + ex.getClass().getName()</span>
                                + &quot;&gt;, expected one of type &lt;&quot;
<span class="nc" id="L4150">                                + expectedExceptionClass.getName()</span>
                                + '&gt;',
                        expectedExceptionClass,
<span class="nc" id="L4153">                        ex.getClass());</span>
<span class="nc" id="L4154">                Throwable actualCauseClass = ex.getCause();</span>
<span class="nc" id="L4155">                Assert.assertNotNull(</span>
                        &quot;Caught exception with null cause, expected cause of type &lt;&quot;
<span class="nc" id="L4157">                                + expectedCauseClass.getName()</span>
                                + '&gt;',
                        actualCauseClass);
<span class="nc" id="L4160">                Assert.assertSame(</span>
                        &quot;Caught exception with cause of type&lt;&quot;
<span class="nc" id="L4162">                                + actualCauseClass.getClass().getName()</span>
                                + &quot;&gt;, expected cause of type &lt;&quot;
<span class="nc" id="L4164">                                + expectedCauseClass.getName()</span>
                                + '&gt;',
                        expectedCauseClass,
<span class="nc" id="L4167">                        actualCauseClass.getClass());</span>
<span class="nc" id="L4168">                return;</span>
            }
<span class="nc" id="L4170">            catch (AssertionError e)</span>
            {
<span class="nc" id="L4172">                Verify.throwMangledException(e);</span>
            }
<span class="nc" id="L4174">        }</span>

        try
        {
<span class="nc" id="L4178">            Assert.fail(&quot;Block did not throw an exception of type &quot; + expectedExceptionClass.getName());</span>
        }
<span class="nc" id="L4180">        catch (AssertionError e)</span>
        {
<span class="nc" id="L4182">            Verify.throwMangledException(e);</span>
<span class="nc" id="L4183">        }</span>
<span class="nc" id="L4184">    }</span>

    /**
     * Runs the {@link Runnable} {@code code} and asserts that it throws an {@code Exception} of the type
     * {@code expectedExceptionClass}, which contains a cause of type expectedCauseClass.
     * &lt;p&gt;
     * {@code Runnable} is most appropriate when a subclass of {@link RuntimeException} will be thrown.
     * If a checked exception will be thrown, the form {@link #assertThrowsWithCause(Class, Class, Callable)}
     * may be more convenient.
     * &lt;p&gt;
     * e.g.
     * &lt;pre&gt;
     * Verify.assertThrowsWithCause(RuntimeException.class, StringIndexOutOfBoundsException.class, new Runnable()
     * {
     *    public void run()
     *    {
     *        try
     *        {
     *            LOGGER.info(&quot;Craig&quot;.substring(42, 3));
     *        }
     *        catch (final StringIndexOutOfBoundsException e)
     *        {
     *            throw new RuntimeException(&quot;Uh oh!&quot;, e);
     *        }
     *    }
     * });
     * &lt;/pre&gt;
     *
     * @see #assertThrowsWithCause(Class, Class, Callable)
     */
    public static void assertThrowsWithCause(
            Class&lt;? extends Exception&gt; expectedExceptionClass,
            Class&lt;? extends Throwable&gt; expectedCauseClass,
            Runnable code)
    {
        try
        {
<span class="nc" id="L4221">            code.run();</span>
        }
<span class="nc" id="L4223">        catch (RuntimeException ex)</span>
        {
            try
            {
<span class="nc" id="L4227">                Assert.assertSame(</span>
                        &quot;Caught exception of type &lt;&quot;
<span class="nc" id="L4229">                                + ex.getClass().getName()</span>
                                + &quot;&gt;, expected one of type &lt;&quot;
<span class="nc" id="L4231">                                + expectedExceptionClass.getName()</span>
                                + '&gt;',
                        expectedExceptionClass,
<span class="nc" id="L4234">                        ex.getClass());</span>
<span class="nc" id="L4235">                Throwable actualCauseClass = ex.getCause();</span>
<span class="nc" id="L4236">                Assert.assertNotNull(</span>
                        &quot;Caught exception with null cause, expected cause of type &lt;&quot;
<span class="nc" id="L4238">                                + expectedCauseClass.getName()</span>
                                + '&gt;',
                        actualCauseClass);
<span class="nc" id="L4241">                Assert.assertSame(</span>
                        &quot;Caught exception with cause of type&lt;&quot;
<span class="nc" id="L4243">                                + actualCauseClass.getClass().getName()</span>
                                + &quot;&gt;, expected cause of type &lt;&quot;
<span class="nc" id="L4245">                                + expectedCauseClass.getName()</span>
                                + '&gt;',
                        expectedCauseClass,
<span class="nc" id="L4248">                        actualCauseClass.getClass());</span>
<span class="nc" id="L4249">                return;</span>
            }
<span class="nc" id="L4251">            catch (AssertionError e)</span>
            {
<span class="nc" id="L4253">                Verify.throwMangledException(e);</span>
            }
<span class="nc" id="L4255">        }</span>

        try
        {
<span class="nc" id="L4259">            Assert.fail(&quot;Block did not throw an exception of type &quot; + expectedExceptionClass.getName());</span>
        }
<span class="nc" id="L4261">        catch (AssertionError e)</span>
        {
<span class="nc" id="L4263">            Verify.throwMangledException(e);</span>
<span class="nc" id="L4264">        }</span>
<span class="nc" id="L4265">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>