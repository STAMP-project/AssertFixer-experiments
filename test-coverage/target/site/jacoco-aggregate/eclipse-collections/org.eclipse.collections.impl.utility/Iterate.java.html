<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>Iterate.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Eclipse Collections Test Coverage Aggregation</a> &gt; <a href="../index.html" class="el_bundle">eclipse-collections</a> &gt; <a href="index.source.html" class="el_package">org.eclipse.collections.impl.utility</a> &gt; <span class="el_source">Iterate.java</span></div><h1>Iterate.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2016 Goldman Sachs.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * and Eclipse Distribution License v. 1.0 which accompany this distribution.
 * The Eclipse Public License is available at http://www.eclipse.org/legal/epl-v10.html
 * and the Eclipse Distribution License is available at
 * http://www.eclipse.org/org/documents/edl-v10.php.
 */

package org.eclipse.collections.impl.utility;

import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.Comparator;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.Optional;
import java.util.RandomAccess;
import java.util.SortedSet;
import java.util.function.BiConsumer;
import java.util.function.Supplier;
import java.util.stream.Collector;
import java.util.stream.Stream;

import org.eclipse.collections.api.InternalIterable;
import org.eclipse.collections.api.RichIterable;
import org.eclipse.collections.api.block.function.Function;
import org.eclipse.collections.api.block.function.Function0;
import org.eclipse.collections.api.block.function.Function2;
import org.eclipse.collections.api.block.function.Function3;
import org.eclipse.collections.api.block.function.primitive.BooleanFunction;
import org.eclipse.collections.api.block.function.primitive.ByteFunction;
import org.eclipse.collections.api.block.function.primitive.CharFunction;
import org.eclipse.collections.api.block.function.primitive.DoubleFunction;
import org.eclipse.collections.api.block.function.primitive.DoubleObjectToDoubleFunction;
import org.eclipse.collections.api.block.function.primitive.FloatFunction;
import org.eclipse.collections.api.block.function.primitive.FloatObjectToFloatFunction;
import org.eclipse.collections.api.block.function.primitive.IntFunction;
import org.eclipse.collections.api.block.function.primitive.IntObjectToIntFunction;
import org.eclipse.collections.api.block.function.primitive.LongFunction;
import org.eclipse.collections.api.block.function.primitive.LongObjectToLongFunction;
import org.eclipse.collections.api.block.function.primitive.ShortFunction;
import org.eclipse.collections.api.block.predicate.Predicate;
import org.eclipse.collections.api.block.predicate.Predicate2;
import org.eclipse.collections.api.block.procedure.Procedure;
import org.eclipse.collections.api.block.procedure.Procedure2;
import org.eclipse.collections.api.block.procedure.primitive.ObjectIntProcedure;
import org.eclipse.collections.api.collection.MutableCollection;
import org.eclipse.collections.api.collection.primitive.MutableBooleanCollection;
import org.eclipse.collections.api.collection.primitive.MutableByteCollection;
import org.eclipse.collections.api.collection.primitive.MutableCharCollection;
import org.eclipse.collections.api.collection.primitive.MutableDoubleCollection;
import org.eclipse.collections.api.collection.primitive.MutableFloatCollection;
import org.eclipse.collections.api.collection.primitive.MutableIntCollection;
import org.eclipse.collections.api.collection.primitive.MutableLongCollection;
import org.eclipse.collections.api.collection.primitive.MutableShortCollection;
import org.eclipse.collections.api.list.MutableList;
import org.eclipse.collections.api.map.MutableMap;
import org.eclipse.collections.api.map.primitive.ObjectDoubleMap;
import org.eclipse.collections.api.map.primitive.ObjectLongMap;
import org.eclipse.collections.api.multimap.MutableMultimap;
import org.eclipse.collections.api.multimap.bag.BagMultimap;
import org.eclipse.collections.api.multimap.list.ListMultimap;
import org.eclipse.collections.api.multimap.set.SetMultimap;
import org.eclipse.collections.api.partition.PartitionIterable;
import org.eclipse.collections.api.tuple.Pair;
import org.eclipse.collections.api.tuple.Twin;
import org.eclipse.collections.impl.block.factory.Comparators;
import org.eclipse.collections.impl.block.factory.Functions;
import org.eclipse.collections.impl.block.factory.Predicates;
import org.eclipse.collections.impl.block.factory.Procedures2;
import org.eclipse.collections.impl.block.procedure.MapCollectProcedure;
import org.eclipse.collections.impl.block.procedure.MaxComparatorProcedure;
import org.eclipse.collections.impl.block.procedure.MinComparatorProcedure;
import org.eclipse.collections.impl.block.procedure.MultimapKeyValuePutAllProcedure;
import org.eclipse.collections.impl.block.procedure.MultimapKeyValuePutProcedure;
import org.eclipse.collections.impl.factory.Lists;
import org.eclipse.collections.impl.list.mutable.FastList;
import org.eclipse.collections.impl.map.mutable.UnifiedMap;
import org.eclipse.collections.impl.multimap.bag.HashBagMultimap;
import org.eclipse.collections.impl.multimap.list.FastListMultimap;
import org.eclipse.collections.impl.multimap.set.UnifiedSetMultimap;
import org.eclipse.collections.impl.utility.internal.DefaultSpeciesNewStrategy;
import org.eclipse.collections.impl.utility.internal.IterableIterate;
import org.eclipse.collections.impl.utility.internal.RandomAccessListIterate;

/**
 * The Iterate utility class acts as a router to other utility classes to provide optimized iteration pattern
 * implementations based on the type of iterable.  The lowest common denominator used will normally be IterableIterate.
 * Iterate can be used when a JDK interface is the only type available to the developer, as it can
 * determine the best way to iterate based on instanceof checks.
 *
 * @since 1.0
 */
public final class Iterate
{
    private Iterate()
<span class="nc" id="L103">    {</span>
<span class="nc" id="L104">        throw new AssertionError(&quot;Suppress default constructor for noninstantiability&quot;);</span>
    }

    /**
     * The procedure is evaluated for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Iterate.&lt;b&gt;forEach&lt;/b&gt;(people, person -&gt; LOGGER.info(person.getName());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Iterate.&lt;b&gt;forEach&lt;/b&gt;(people, new Procedure&amp;lt;Person&amp;gt;()
     * {
     *     public void value(Person person)
     *     {
     *         LOGGER.info(person.getName());
     *     }
     * });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; void forEach(Iterable&lt;T&gt; iterable, Procedure&lt;? super T&gt; procedure)
    {
<span class="nc bnc" id="L128" title="All 2 branches missed.">        if (iterable instanceof InternalIterable)</span>
        {
<span class="nc" id="L130">            ((InternalIterable&lt;T&gt;) iterable).forEach(procedure);</span>
        }
<span class="nc bnc" id="L132" title="All 2 branches missed.">        else if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L134">            ArrayListIterate.forEach((ArrayList&lt;T&gt;) iterable, procedure);</span>
        }
<span class="nc bnc" id="L136" title="All 2 branches missed.">        else if (iterable instanceof List)</span>
        {
<span class="nc" id="L138">            ListIterate.forEach((List&lt;T&gt;) iterable, procedure);</span>
        }
<span class="nc bnc" id="L140" title="All 2 branches missed.">        else if (iterable != null)</span>
        {
<span class="nc" id="L142">            iterable.forEach(procedure);</span>
        }
        else
        {
<span class="nc" id="L146">            throw new IllegalArgumentException(&quot;Cannot perform a forEach on null&quot;);</span>
        }
<span class="nc" id="L148">    }</span>

    /**
     * The procedure2 is evaluated for each element of the iterable with the specified parameter passed
     * as the second argument.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Iterate.&lt;b&gt;forEachWith&lt;/b&gt;(people, (Person person, Person other) -&gt;
     *  {
     *      if (other.equals(person))
     *      {
     *          LOGGER.info(person.getName());
     *      }
     *  }, fred);
     * &lt;/pre&gt;
     * &lt;p&gt;
     * &lt;pre&gt;e.g.
     * Iterate.&lt;b&gt;forEachWith&lt;/b&gt;(people, new Procedure2&amp;lt;Person, Person&amp;gt;()
     * {
     *     public void value(Person person, Person other)
     *     {
     *         if (person.isRelatedTo(other))
     *         {
     *              LOGGER.info(person.getName());
     *         }
     *     }
     * }, fred);
     * &lt;/pre&gt;
     */
    public static &lt;T, P&gt; void forEachWith(
            Iterable&lt;T&gt; iterable,
            Procedure2&lt;? super T, ? super P&gt; procedure,
            P parameter)
    {
<span class="nc bnc" id="L183" title="All 2 branches missed.">        if (iterable instanceof InternalIterable)</span>
        {
<span class="nc" id="L185">            ((InternalIterable&lt;T&gt;) iterable).forEachWith(procedure, parameter);</span>
        }
<span class="nc bnc" id="L187" title="All 2 branches missed.">        else if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L189">            ArrayListIterate.forEachWith((ArrayList&lt;T&gt;) iterable, procedure, parameter);</span>
        }
<span class="nc bnc" id="L191" title="All 2 branches missed.">        else if (iterable instanceof List)</span>
        {
<span class="nc" id="L193">            ListIterate.forEachWith((List&lt;T&gt;) iterable, procedure, parameter);</span>
        }
<span class="nc bnc" id="L195" title="All 2 branches missed.">        else if (iterable != null)</span>
        {
<span class="nc" id="L197">            IterableIterate.forEachWith(iterable, procedure, parameter);</span>
        }
        else
        {
<span class="nc" id="L201">            throw new IllegalArgumentException(&quot;Cannot perform a forEachWith on null&quot;);</span>
        }
<span class="nc" id="L203">    }</span>

    /**
     * Iterates over a collection passing each element and the current relative int index to the specified instance of
     * ObjectIntProcedure.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Iterate.&lt;b&gt;forEachWithIndex&lt;/b&gt;(people, (Person person, int index) -&gt; LOGGER.info(&quot;Index: &quot; + index + &quot; person: &quot; + person.getName()));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * Iterate.&lt;b&gt;forEachWithIndex&lt;/b&gt;(people, new ObjectIntProcedure&amp;lt;Person&amp;gt;()
     * {
     *     public void value(Person person, int index)
     *     {
     *         LOGGER.info(&quot;Index: &quot; + index + &quot; person: &quot; + person.getName());
     *     }
     * });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; void forEachWithIndex(Iterable&lt;T&gt; iterable, ObjectIntProcedure&lt;? super T&gt; objectIntProcedure)
    {
<span class="nc bnc" id="L227" title="All 2 branches missed.">        if (iterable instanceof InternalIterable)</span>
        {
<span class="nc" id="L229">            ((InternalIterable&lt;T&gt;) iterable).forEachWithIndex(objectIntProcedure);</span>
        }
<span class="nc bnc" id="L231" title="All 2 branches missed.">        else if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L233">            ArrayListIterate.forEachWithIndex((ArrayList&lt;T&gt;) iterable, objectIntProcedure);</span>
        }
<span class="nc bnc" id="L235" title="All 2 branches missed.">        else if (iterable instanceof List)</span>
        {
<span class="nc" id="L237">            ListIterate.forEachWithIndex((List&lt;T&gt;) iterable, objectIntProcedure);</span>
        }
<span class="nc bnc" id="L239" title="All 2 branches missed.">        else if (iterable != null)</span>
        {
<span class="nc" id="L241">            IterableIterate.forEachWithIndex(iterable, objectIntProcedure);</span>
        }
        else
        {
<span class="nc" id="L245">            throw new IllegalArgumentException(&quot;Cannot perform a forEachWithIndex on null&quot;);</span>
        }
<span class="nc" id="L247">    }</span>

    /**
     * Returns a new collection with only the elements that evaluated to true for the specified predicate.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; selected =
     *     Iterate.&lt;b&gt;select&lt;/b&gt;(people, person -&gt; person.getAddress().getCity().equals(&quot;Metuchen&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;e.g.
     * Collection&amp;lt;Person&amp;gt; selected =
     *     Iterate.&lt;b&gt;select&lt;/b&gt;(people, new Predicate&amp;lt;Person&amp;gt;()
     *     {
     *         public boolean accept(Person person)
     *         {
     *             return person.getAddress().getCity().equals(&quot;Metuchen&quot;);
     *         }
     *     });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; Collection&lt;T&gt; select(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L272" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L274">            return ((MutableCollection&lt;T&gt;) iterable).select(predicate);</span>
        }
<span class="nc bnc" id="L276" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L278">            return ArrayListIterate.select((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L280" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L282">            return ListIterate.select((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L284" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L286">            return IterableIterate.select(</span>
                    iterable,
                    predicate,
<span class="nc" id="L289">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable));</span>
        }
<span class="nc bnc" id="L291" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L293">            return IterableIterate.select(iterable, predicate);</span>
        }
<span class="nc" id="L295">        throw new IllegalArgumentException(&quot;Cannot perform a select on null&quot;);</span>
    }

    /**
     * Returns a new collection with only elements that evaluated to true for the specified predicate and parameter.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; selected =
     *     Iterate.&lt;b&gt;selectWith&lt;/b&gt;(people, (Person person, Integer age) -&gt; person.getAge() &gt;= age, Integer.valueOf(18));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; selected =
     *      Iterate.&lt;b&gt;selectWith&lt;/b&gt;(people, new Predicate2&amp;lt;Person, Integer&amp;gt;()
     *     {
     *         public boolean accept(Person person, Integer age)
     *         {
     *             return person.getAge() &gt;= age;
     *         }
     *     }, Integer.valueOf(18));
     * &lt;/pre&gt;
     */
    public static &lt;T, IV&gt; Collection&lt;T&gt; selectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super IV&gt; predicate,
            IV parameter)
    {
<span class="nc bnc" id="L324" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L326">            return ((MutableCollection&lt;T&gt;) iterable).selectWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L328" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L330">            return ArrayListIterate.selectWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L332" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L334">            return ListIterate.selectWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L336" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L338">            return IterableIterate.selectWith(</span>
                    iterable,
                    predicate,
                    parameter,
<span class="nc" id="L342">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable));</span>
        }
<span class="nc bnc" id="L344" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L346">            return IterableIterate.selectWith(iterable, predicate, parameter, FastList.newList());</span>
        }
<span class="nc" id="L348">        throw new IllegalArgumentException(&quot;Cannot perform a selectWith on null&quot;);</span>
    }

    /**
     * Filters a collection into two separate collections based on a predicate returned via a Twin.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Twin&amp;lt;MutableList&amp;lt;Person&amp;gt;&amp;gt;selectedRejected =
     *      Iterate.&lt;b&gt;selectAndRejectWith&lt;/b&gt;(people, (Person person, String lastName) -&gt; lastName.equals(person.getLastName()), &quot;Mason&quot;);
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Twin&amp;lt;MutableList&amp;lt;Person&amp;gt;&amp;gt;selectedRejected =
     *      Iterate.&lt;b&gt;selectAndRejectWith&lt;/b&gt;(people, new Predicate2&amp;lt;String, String&amp;gt;()
     *      {
     *          public boolean accept(Person person, String lastName)
     *          {
     *              return lastName.equals(person.getLastName());
     *          }
     *      }, &quot;Mason&quot;);
     * &lt;/pre&gt;
     */
    public static &lt;T, IV&gt; Twin&lt;MutableList&lt;T&gt;&gt; selectAndRejectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super IV&gt; predicate,
            IV injectedValue)
    {
<span class="nc bnc" id="L377" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L379">            return ((MutableCollection&lt;T&gt;) iterable).selectAndRejectWith(predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L381" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L383">            return ArrayListIterate.selectAndRejectWith((ArrayList&lt;T&gt;) iterable, predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L385" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L387">            return ListIterate.selectAndRejectWith((List&lt;T&gt;) iterable, predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L389" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L391">            return IterableIterate.selectAndRejectWith(iterable, predicate, injectedValue);</span>
        }
<span class="nc" id="L393">        throw new IllegalArgumentException(&quot;Cannot perform a selectAndRejectWith on null&quot;);</span>
    }

    /**
     * Filters a collection into a PartitionIterable based on a predicate.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * PartitionIterable&amp;lt;Person&amp;gt; newYorkersAndNonNewYorkers =
     *      Iterate.&lt;b&gt;partition&lt;/b&gt;(people, person -&gt; person.getAddress().getState().getName().equals(&quot;New York&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * PartitionIterable&amp;lt;Person&amp;gt; newYorkersAndNonNewYorkers =
     *      Iterate.&lt;b&gt;partition&lt;/b&gt;(people, new Predicate&amp;lt;Person&amp;gt;()
     *      {
     *          public boolean accept(Person person)
     *          {
     *              return person.getAddress().getState().getName().equals(&quot;New York&quot;);
     *          }
     *      });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; PartitionIterable&lt;T&gt; partition(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L419" title="All 2 branches missed.">        if (iterable instanceof RichIterable&lt;?&gt;)</span>
        {
<span class="nc" id="L421">            return ((RichIterable&lt;T&gt;) iterable).partition(predicate);</span>
        }
<span class="nc bnc" id="L423" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L425">            return ArrayListIterate.partition((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L427" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L429">            return ListIterate.partition((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L431" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L433">            return IterableIterate.partition(iterable, predicate);</span>
        }
<span class="nc" id="L435">        throw new IllegalArgumentException(&quot;Cannot perform a partition on null&quot;);</span>
    }

    /**
     * Filters a collection into a PartitionIterable based on a predicate.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * PartitionIterable&amp;lt;Person&gt;&amp;gt newYorkersAndNonNewYorkers =
     *     Iterate.&lt;b&gt;partitionWith&lt;/b&gt;(people, (Person person, String state) -&gt; person.getAddress().getState().getName().equals(state), &quot;New York&quot;);
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * PartitionIterable&amp;lt;Person&amp;gt; newYorkersAndNonNewYorkers =
     *      Iterate.&lt;b&gt;partitionWith&lt;/b&gt;(people, new Predicate&amp;lt;Person, String&amp;gt;()
     *      {
     *          public boolean accept(Person person, String state)
     *          {
     *              return person.getAddress().getState().getName().equals(state);
     *          }
     *      }, &quot;New York&quot;);
     * &lt;/pre&gt;
     *
     * @since 5.0.
     */
    public static &lt;T, P&gt; PartitionIterable&lt;T&gt; partitionWith(Iterable&lt;T&gt; iterable, Predicate2&lt;? super T, ? super P&gt; predicate, P parameter)
    {
<span class="nc bnc" id="L463" title="All 2 branches missed.">        if (iterable instanceof RichIterable&lt;?&gt;)</span>
        {
<span class="nc" id="L465">            return ((RichIterable&lt;T&gt;) iterable).partitionWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L467" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L469">            return ArrayListIterate.partitionWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L471" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L473">            return ListIterate.partitionWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L475" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L477">            return IterableIterate.partitionWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L479">        throw new IllegalArgumentException(&quot;Cannot perform a partition on null&quot;);</span>
    }

    /**
     * Returns a new collection with only the elements that are instances of the Class {@code clazz}.
     */
    public static &lt;T&gt; Collection&lt;T&gt; selectInstancesOf(Iterable&lt;?&gt; iterable, Class&lt;T&gt; clazz)
    {
<span class="nc bnc" id="L487" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L489">            return ((MutableCollection&lt;?&gt;) iterable).selectInstancesOf(clazz);</span>
        }
<span class="nc bnc" id="L491" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L493">            return ArrayListIterate.selectInstancesOf((ArrayList&lt;?&gt;) iterable, clazz);</span>
        }
<span class="nc bnc" id="L495" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L497">            return ListIterate.selectInstancesOf((List&lt;?&gt;) iterable, clazz);</span>
        }
<span class="nc bnc" id="L499" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L501">            return IterableIterate.selectInstancesOf(</span>
                    iterable,
                    clazz,
<span class="nc" id="L504">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;?&gt;) iterable));</span>
        }
<span class="nc bnc" id="L506" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L508">            return IterableIterate.selectInstancesOf(iterable, clazz);</span>
        }
<span class="nc" id="L510">        throw new IllegalArgumentException(&quot;Cannot perform a selectInstancesOf on null&quot;);</span>
    }

    /**
     * Returns the total number of elements that evaluate to true for the specified predicate.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * int count = Iterate.&lt;b&gt;count&lt;/b&gt;(people, person -&gt; person.getAddress().getState().getName().equals(&quot;New York&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class
     * &lt;pre&gt;
     * int count = Iterate.&lt;b&gt;count&lt;/b&gt;(people, new Predicate&amp;lt;Person&amp;gt;()
     * {
     *     public boolean accept(Person person)
     *     {
     *         return person.getAddress().getState().getName().equals(&quot;New York&quot;);
     *     }
     * });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; int count(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L534" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L536">            return ((RichIterable&lt;T&gt;) iterable).count(predicate);</span>
        }
<span class="nc bnc" id="L538" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L540">            return ArrayListIterate.count((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L542" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L544">            return ListIterate.count((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L546" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L548">            return IterableIterate.count(iterable, predicate);</span>
        }
<span class="nc" id="L550">        throw new IllegalArgumentException(&quot;Cannot get a count from null&quot;);</span>
    }

    /**
     * Returns the total number of elements that evaluate to true for the specified predicate2 and parameter.
     * &lt;p&gt;
     * &lt;pre&gt;e.g.
     * return Iterate.&lt;b&gt;countWith&lt;/b&gt;(lastNames, Predicates2.equal(), &quot;Smith&quot;);
     * &lt;/pre&gt;
     */
    public static &lt;T, IV&gt; int countWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super IV&gt; predicate,
            IV injectedValue)
    {
<span class="nc bnc" id="L565" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L567">            return ((MutableCollection&lt;T&gt;) iterable).countWith(predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L569" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L571">            return ArrayListIterate.countWith((ArrayList&lt;T&gt;) iterable, predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L573" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L575">            return ListIterate.countWith((List&lt;T&gt;) iterable, predicate, injectedValue);</span>
        }
<span class="nc bnc" id="L577" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L579">            return IterableIterate.countWith(iterable, predicate, injectedValue);</span>
        }
<span class="nc" id="L581">        throw new IllegalArgumentException(&quot;Cannot get a count from null&quot;);</span>
    }

    /**
     * @see RichIterable#collectIf(Predicate, Function)
     */
    public static &lt;T, V&gt; Collection&lt;V&gt; collectIf(
            Iterable&lt;T&gt; iterable,
            Predicate&lt;? super T&gt; predicate,
            Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L592" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L594">            return ((MutableCollection&lt;T&gt;) iterable).collectIf(predicate, function);</span>
        }
<span class="nc bnc" id="L596" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L598">            return ArrayListIterate.collectIf((ArrayList&lt;T&gt;) iterable, predicate, function);</span>
        }
<span class="nc bnc" id="L600" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L602">            return ListIterate.collectIf((List&lt;T&gt;) iterable, predicate, function);</span>
        }
<span class="nc bnc" id="L604" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L606">            return IterableIterate.collectIf(</span>
                    iterable,
                    predicate,
                    function,
<span class="nc" id="L610">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable));</span>
        }
<span class="nc bnc" id="L612" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L614">            return IterableIterate.collectIf(iterable, predicate, function);</span>
        }
<span class="nc" id="L616">        throw new IllegalArgumentException(&quot;Cannot perform a collectIf on null&quot;);</span>
    }

    /**
     * @see RichIterable#collectIf(Predicate, Function, Collection)
     */
    public static &lt;T, V, R extends Collection&lt;V&gt;&gt; R collectIf(
            Iterable&lt;T&gt; iterable,
            Predicate&lt;? super T&gt; predicate,
            Function&lt;? super T, ? extends V&gt; function,
            R target)
    {
<span class="nc bnc" id="L628" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L630">            return ((RichIterable&lt;T&gt;) iterable).collectIf(predicate, function, target);</span>
        }
<span class="nc bnc" id="L632" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L634">            return ArrayListIterate.collectIf((ArrayList&lt;T&gt;) iterable, predicate, function, target);</span>
        }
<span class="nc bnc" id="L636" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L638">            return ListIterate.collectIf((List&lt;T&gt;) iterable, predicate, function, target);</span>
        }
<span class="nc bnc" id="L640" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L642">            return IterableIterate.collectIf(iterable, predicate, function, target);</span>
        }
<span class="nc" id="L644">        throw new IllegalArgumentException(&quot;Cannot perform a collectIf on null&quot;);</span>
    }

    /**
     * Same as the select method with two parameters but uses the specified target collection
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; selected =
     *      Iterate.&lt;b&gt;select&lt;/b&gt;(people, person -&gt; person.person.getLastName().equals(&quot;Smith&quot;), FastList.newList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; selected =
     *      Iterate.&lt;b&gt;select&lt;/b&gt;(people, new Predicate&amp;lt;Person&amp;gt;()
     *      {
     *          public boolean accept(Person person)
     *          {
     *         return person.person.getLastName().equals(&quot;Smith&quot;);
     *     }
     * }, FastList.newList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using Predicates factory:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; selected = Iterate.&lt;b&gt;select&lt;/b&gt;(collection, Predicates.attributeEqual(&quot;lastName&quot;, &quot;Smith&quot;), FastList.newList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends Collection&lt;T&gt;&gt; R select(
            Iterable&lt;T&gt; iterable,
            Predicate&lt;? super T&gt; predicate,
            R targetCollection)
    {
<span class="nc bnc" id="L678" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L680">            return ((RichIterable&lt;T&gt;) iterable).select(predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L682" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L684">            return ArrayListIterate.select((ArrayList&lt;T&gt;) iterable, predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L686" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L688">            return ListIterate.select((List&lt;T&gt;) iterable, predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L690" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L692">            return IterableIterate.select(iterable, predicate, targetCollection);</span>
        }
<span class="nc" id="L694">        throw new IllegalArgumentException(&quot;Cannot perform a select on null&quot;);</span>
    }

    /**
     * Same as the selectWith method with two parameters but uses the specified target collection.
     */
    public static &lt;T, P, R extends Collection&lt;T&gt;&gt; R selectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter,
            R targetCollection)
    {
<span class="nc bnc" id="L706" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L708">            return ((RichIterable&lt;T&gt;) iterable).selectWith(predicate, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L710" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L712">            return ArrayListIterate.selectWith((ArrayList&lt;T&gt;) iterable, predicate, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L714" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L716">            return ListIterate.selectWith((List&lt;T&gt;) iterable, predicate, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L718" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L720">            return IterableIterate.selectWith(iterable, predicate, parameter, targetCollection);</span>
        }
<span class="nc" id="L722">        throw new IllegalArgumentException(&quot;Cannot perform a selectWith on null&quot;);</span>
    }

    /**
     * Returns the first {@code count} elements of the iterable
     * or all the elements in the iterable if {@code count} is greater than the length of
     * the iterable.
     *
     * @param iterable the collection to take from.
     * @param count    the number of items to take.
     * @return a new list with the items take from the given collection.
     * @throws IllegalArgumentException if {@code count} is less than zero
     */
    public static &lt;T&gt; Collection&lt;T&gt; take(Iterable&lt;T&gt; iterable, int count)
    {
<span class="nc bnc" id="L737" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L739">            return ArrayListIterate.take((ArrayList&lt;T&gt;) iterable, count);</span>
        }
<span class="nc bnc" id="L741" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L743">            return RandomAccessListIterate.take((List&lt;T&gt;) iterable, count);</span>
        }
<span class="nc bnc" id="L745" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L747">            return IterableIterate.take(</span>
                    iterable,
                    count,
<span class="nc" id="L750">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable, count));</span>
        }
<span class="nc bnc" id="L752" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L754">            return IterableIterate.take(iterable, count);</span>
        }
<span class="nc" id="L756">        throw new IllegalArgumentException(&quot;Cannot perform a take on null&quot;);</span>
    }

    /**
     * Returns a collection without the first {@code count} elements of the iterable
     * or an empty iterable if the {@code count} is greater than the length of the iterable.
     *
     * @param iterable the collection to drop from.
     * @param count    the number of items to drop.
     * @return a new list with the items dropped from the given collection.
     * @throws IllegalArgumentException if {@code count} is less than zero
     */
    public static &lt;T&gt; Collection&lt;T&gt; drop(Iterable&lt;T&gt; iterable, int count)
    {
<span class="nc bnc" id="L770" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L772">            return ArrayListIterate.drop((ArrayList&lt;T&gt;) iterable, count);</span>
        }
<span class="nc bnc" id="L774" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L776">            return RandomAccessListIterate.drop((List&lt;T&gt;) iterable, count);</span>
        }
<span class="nc bnc" id="L778" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L780">            return IterableIterate.drop(</span>
                    iterable,
                    count,
<span class="nc" id="L783">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable, count));</span>
        }
<span class="nc bnc" id="L785" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L787">            return IterableIterate.drop(iterable, count);</span>
        }
<span class="nc" id="L789">        throw new IllegalArgumentException(&quot;Cannot perform a drop on null&quot;);</span>
    }

    /**
     * Returns all elements of the iterable that evaluate to false for the specified predicate.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people, person -&gt; person.person.getLastName().equals(&quot;Smith&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people,
     *          new Predicate&amp;lt;Person&amp;gt;()
     *          {
     *              public boolean accept(Person person)
     *              {
     *                  return person.person.getLastName().equals(&quot;Smith&quot;);
     *              }
     *          });
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using Predicates factory:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people, Predicates.attributeEqual(&quot;lastName&quot;, &quot;Smith&quot;));
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; Collection&lt;T&gt; reject(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L822" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L824">            return ((MutableCollection&lt;T&gt;) iterable).reject(predicate);</span>
        }
<span class="nc bnc" id="L826" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L828">            return ArrayListIterate.reject((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L830" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L832">            return ListIterate.reject((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L834" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L836">            return IterableIterate.reject(</span>
                    iterable,
                    predicate,
<span class="nc" id="L839">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable));</span>
        }
<span class="nc bnc" id="L841" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L843">            return IterableIterate.reject(iterable, predicate);</span>
        }
<span class="nc" id="L845">        throw new IllegalArgumentException(&quot;Cannot perform a reject on null&quot;);</span>
    }

    /**
     * SortThis is a mutating method.  The List passed in is also returned.
     */
    public static &lt;T extends Comparable&lt;? super T&gt;, L extends List&lt;T&gt;&gt; L sortThis(L list)
    {
<span class="nc bnc" id="L853" title="All 2 branches missed.">        if (list instanceof MutableList&lt;?&gt;)</span>
        {
<span class="nc" id="L855">            ((MutableList&lt;T&gt;) list).sortThis();</span>
        }
<span class="nc bnc" id="L857" title="All 2 branches missed.">        else if (list instanceof ArrayList)</span>
        {
<span class="nc" id="L859">            ArrayListIterate.sortThis((ArrayList&lt;T&gt;) list);</span>
        }
        else
        {
<span class="nc bnc" id="L863" title="All 2 branches missed.">            if (list.size() &gt; 1)</span>
            {
<span class="nc" id="L865">                Collections.sort(list);</span>
            }
        }
<span class="nc" id="L868">        return list;</span>
    }

    /**
     * SortThis is a mutating method.  The List passed in is also returned.
     */
    public static &lt;T, L extends List&lt;T&gt;&gt; L sortThis(L list, Comparator&lt;? super T&gt; comparator)
    {
<span class="nc bnc" id="L876" title="All 2 branches missed.">        if (list instanceof MutableList)</span>
        {
<span class="nc" id="L878">            ((MutableList&lt;T&gt;) list).sortThis(comparator);</span>
        }
<span class="nc bnc" id="L880" title="All 2 branches missed.">        else if (list instanceof ArrayList)</span>
        {
<span class="nc" id="L882">            ArrayListIterate.sortThis((ArrayList&lt;T&gt;) list, comparator);</span>
        }
        else
        {
<span class="nc bnc" id="L886" title="All 2 branches missed.">            if (list.size() &gt; 1)</span>
            {
<span class="nc" id="L888">                Collections.sort(list, comparator);</span>
            }
        }
<span class="nc" id="L891">        return list;</span>
    }

    /**
     * SortThis is a mutating method.  The List passed in is also returned.
     */
    public static &lt;T, L extends List&lt;T&gt;&gt; L sortThis(L list, Predicate2&lt;? super T, ? super T&gt; predicate)
    {
<span class="nc" id="L899">        return Iterate.sortThis(list, (Comparator&lt;T&gt;) (o1, o2) -&gt; {</span>
<span class="nc bnc" id="L900" title="All 2 branches missed.">            if (predicate.accept(o1, o2))</span>
            {
<span class="nc" id="L902">                return -1;</span>
            }
<span class="nc bnc" id="L904" title="All 2 branches missed.">            if (predicate.accept(o2, o1))</span>
            {
<span class="nc" id="L906">                return 1;</span>
            }
<span class="nc" id="L908">            return 0;</span>
        });
    }

    /**
     * Sort the list by comparing an attribute defined by the function.
     * SortThisBy is a mutating method.  The List passed in is also returned.
     */
    public static &lt;T, V extends Comparable&lt;? super V&gt;, L extends List&lt;T&gt;&gt; L sortThisBy(L list, Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc" id="L918">        return Iterate.sortThis(list, Comparators.byFunction(function));</span>
    }

    /**
     * Removes all elements from the iterable that evaluate to true for the specified predicate.
     */
    public static &lt;T&gt; boolean removeIf(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L926" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L928">            return ((MutableCollection&lt;T&gt;) iterable).removeIf(predicate);</span>
        }
<span class="nc bnc" id="L930" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L932">            return ArrayListIterate.removeIf((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L934" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L936">            return ListIterate.removeIf((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L938" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L940">            return IterableIterate.removeIf(iterable, predicate);</span>
        }
<span class="nc" id="L942">        throw new IllegalArgumentException(&quot;Cannot perform a remove on null&quot;);</span>
    }

    /**
     * Removes all elements of the iterable that evaluate to true for the specified predicate2 and parameter.
     */
    public static &lt;T, P&gt; boolean removeIfWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L953" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L955">            return ((MutableCollection&lt;T&gt;) iterable).removeIfWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L957" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L959">            return ArrayListIterate.removeIfWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L961" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L963">            return ListIterate.removeIfWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L965" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L967">            return IterableIterate.removeIfWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L969">        throw new IllegalArgumentException(&quot;Cannot perform a remove on null&quot;);</span>
    }

    /**
     * Similar to {@link #reject(Iterable, Predicate)}, except with an evaluation parameter for the second generic argument in {@link Predicate2}.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; rejected =
     *     Iterate.&lt;b&gt;rejectWith&lt;/b&gt;(people, (Person person, Integer age) -&gt; person.getAge() &gt;= age, Integer.valueOf(18));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Collection&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;rejectWith&lt;/b&gt;(people, new Predicate2&amp;lt;Person, Integer&amp;gt;()
     *     {
     *         public boolean accept(Person person, Integer age)
     *         {
     *             return person.getAge() &gt;= age;
     *         }
     *     }, Integer.valueOf(18));
     * &lt;/pre&gt;
     */
    public static &lt;T, P&gt; Collection&lt;T&gt; rejectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L998" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1000">            return ((MutableCollection&lt;T&gt;) iterable).rejectWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L1002" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1004">            return ArrayListIterate.rejectWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L1006" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1008">            return ListIterate.rejectWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L1010" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L1012">            return IterableIterate.rejectWith(</span>
                    iterable,
                    predicate,
                    parameter,
<span class="nc" id="L1016">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew((Collection&lt;T&gt;) iterable));</span>
        }
<span class="nc bnc" id="L1018" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1020">            return IterableIterate.rejectWith(iterable, predicate, parameter, FastList.newList());</span>
        }
<span class="nc" id="L1022">        throw new IllegalArgumentException(&quot;Cannot perform a rejectWith on null&quot;);</span>
    }

    /**
     * Same as the reject method with one parameter but uses the specified target collection for the results.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people, person -&gt; person.person.getLastName().equals(&quot;Smith&quot;), FastList.newList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people,
     *          new Predicate&amp;lt;Person&amp;gt;()
     *          {
     *              public boolean accept(Person person)
     *              {
     *                  return person.person.getLastName().equals(&quot;Smith&quot;);
     *              }
     *          }, FastList.newList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using Predicates factory:
     * &lt;pre&gt;
     * MutableList&amp;lt;Person&amp;gt; rejected =
     *      Iterate.&lt;b&gt;reject&lt;/b&gt;(people, Predicates.attributeEqual(&quot;lastName&quot;, &quot;Smith&quot;), FastList.newList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends Collection&lt;T&gt;&gt; R reject(
            Iterable&lt;T&gt; iterable,
            Predicate&lt;? super T&gt; predicate,
            R targetCollection)
    {
<span class="nc bnc" id="L1058" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L1060">            return ((RichIterable&lt;T&gt;) iterable).reject(predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L1062" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1064">            return ArrayListIterate.reject((ArrayList&lt;T&gt;) iterable, predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L1066" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1068">            return ListIterate.reject((List&lt;T&gt;) iterable, predicate, targetCollection);</span>
        }
<span class="nc bnc" id="L1070" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1072">            return IterableIterate.reject(iterable, predicate, targetCollection);</span>
        }
<span class="nc" id="L1074">        throw new IllegalArgumentException(&quot;Cannot perform a reject on null&quot;);</span>
    }

    /**
     * Same as the reject method with two parameters but uses the specified target collection.
     */
    public static &lt;T, P, R extends Collection&lt;T&gt;&gt; R rejectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter,
            R targetCollection)
    {
<span class="nc bnc" id="L1086" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L1088">            return ((RichIterable&lt;T&gt;) iterable).rejectWith(predicate, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L1090" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1092">            return ArrayListIterate.rejectWith(</span>
                    (ArrayList&lt;T&gt;) iterable,
                    predicate,
                    parameter,
                    targetCollection);
        }
<span class="nc bnc" id="L1098" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L1100">            return RandomAccessListIterate.rejectWith((List&lt;T&gt;) iterable, predicate, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L1102" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1104">            return IterableIterate.rejectWith(iterable, predicate, parameter, targetCollection);</span>
        }
<span class="nc" id="L1106">        throw new IllegalArgumentException(&quot;Cannot perform a rejectWith on null&quot;);</span>
    }

    /**
     * Add all elements from the source Iterable to the target collection, return the target collection.
     */
    public static &lt;T, R extends Collection&lt;T&gt;&gt; R addAllTo(Iterable&lt;? extends T&gt; iterable, R targetCollection)
    {
<span class="nc" id="L1114">        Iterate.addAllIterable(iterable, targetCollection);</span>
<span class="nc" id="L1115">        return targetCollection;</span>
    }

    /**
     * Add all elements from the source Iterable to the target collection, returns true if any element was added.
     */
    public static &lt;T&gt; boolean addAllIterable(Iterable&lt;? extends T&gt; iterable, Collection&lt;T&gt; targetCollection)
    {
<span class="nc bnc" id="L1123" title="All 2 branches missed.">        if (iterable == null)</span>
        {
<span class="nc" id="L1125">            throw new NullPointerException();</span>
        }
<span class="nc bnc" id="L1127" title="All 2 branches missed.">        if (iterable instanceof Collection&lt;?&gt;)</span>
        {
<span class="nc" id="L1129">            return targetCollection.addAll((Collection&lt;T&gt;) iterable);</span>
        }
<span class="nc" id="L1131">        int oldSize = targetCollection.size();</span>
<span class="nc" id="L1132">        Iterate.forEachWith(iterable, Procedures2.addToCollection(), targetCollection);</span>
<span class="nc bnc" id="L1133" title="All 2 branches missed.">        return targetCollection.size() != oldSize;</span>
    }

    /**
     * Remove all elements present in Iterable from the target collection, return the target collection.
     */
    public static &lt;T, R extends Collection&lt;T&gt;&gt; R removeAllFrom(Iterable&lt;? extends T&gt; iterable, R targetCollection)
    {
<span class="nc" id="L1141">        Iterate.removeAllIterable(iterable, targetCollection);</span>
<span class="nc" id="L1142">        return targetCollection;</span>
    }

    /**
     * Remove all elements present in Iterable from the target collection, returns true if any element was removed.
     */
    public static &lt;T&gt; boolean removeAllIterable(Iterable&lt;? extends T&gt; iterable, Collection&lt;T&gt; targetCollection)
    {
<span class="nc bnc" id="L1150" title="All 2 branches missed.">        if (iterable == null)</span>
        {
<span class="nc" id="L1152">            throw new NullPointerException();</span>
        }
<span class="nc bnc" id="L1154" title="All 2 branches missed.">        if (iterable instanceof Collection&lt;?&gt;)</span>
        {
<span class="nc" id="L1156">            return targetCollection.removeAll((Collection&lt;T&gt;) iterable);</span>
        }
<span class="nc" id="L1158">        int oldSize = targetCollection.size();</span>
<span class="nc" id="L1159">        Iterate.forEachWith(iterable, Procedures2.removeFromCollection(), targetCollection);</span>
<span class="nc bnc" id="L1160" title="All 2 branches missed.">        return targetCollection.size() != oldSize;</span>
    }

    /**
     * Returns a new collection with the results of applying the specified function for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Collection&amp;lt;String&amp;gt; names =
     *      Iterate.&lt;b&gt;collect&lt;/b&gt;(people, person -&gt; person.getFirstName() + &quot; &quot; + person.getLastName());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Collection&amp;lt;String&amp;gt; names =
     *      Iterate.&lt;b&gt;collect&lt;/b&gt;(people,
     *          new Function&amp;lt;Person, String&amp;gt;()
     *          {
     *              public String valueOf(Person person)
     *              {
     *                  return person.getFirstName() + &quot; &quot; + person.getLastName();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T, V&gt; Collection&lt;V&gt; collect(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L1189" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1191">            return ((MutableCollection&lt;T&gt;) iterable).collect(function);</span>
        }
<span class="nc bnc" id="L1193" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1195">            return ArrayListIterate.collect((ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L1197" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L1199">            return RandomAccessListIterate.collect((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L1201" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L1203">            return IterableIterate.collect(</span>
                    iterable,
                    function,
<span class="nc" id="L1206">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew(</span>
                            (Collection&lt;T&gt;) iterable,
<span class="nc" id="L1208">                            ((Collection&lt;T&gt;) iterable).size()));</span>
        }
<span class="nc bnc" id="L1210" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1212">            return IterableIterate.collect(iterable, function);</span>
        }
<span class="nc" id="L1214">        throw new IllegalArgumentException(&quot;Cannot perform a collect on null&quot;);</span>
    }

    /**
     * Same as the {@link #collect(Iterable, Function)} method with two parameters, except that the results are gathered into the specified
     * targetCollection
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableList&amp;lt;String&amp;gt; names =
     *      Iterate.&lt;b&gt;collect&lt;/b&gt;(people, person -&gt; person.getFirstName() + &quot; &quot; + person.getLastName(), FastList.newList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableList&amp;lt;String&amp;gt; names =
     *      Iterate.&lt;b&gt;collect&lt;/b&gt;(people,
     *          new Function&amp;lt;Person, String&amp;gt;()
     *          {
     *              public String valueOf(Person person)
     *              {
     *                  return person.getFirstName() + &quot; &quot; + person.getLastName();
     *              }
     *          }, FastList.newList());
     * &lt;/pre&gt;
     */
    public static &lt;T, A, R extends Collection&lt;A&gt;&gt; R collect(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends A&gt; function,
            R targetCollection)
    {
<span class="nc bnc" id="L1245" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L1247">            return ((RichIterable&lt;T&gt;) iterable).collect(function, targetCollection);</span>
        }
<span class="nc bnc" id="L1249" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1251">            return ArrayListIterate.collect((ArrayList&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L1253" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L1255">            return RandomAccessListIterate.collect((List&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L1257" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1259">            return IterableIterate.collect(iterable, function, targetCollection);</span>
        }
<span class="nc" id="L1261">        throw new IllegalArgumentException(&quot;Cannot perform a collect on null&quot;);</span>
    }

    /**
     * Returns a new primitive {@code boolean} collection with the results of applying the specified booleanFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * MutableBooleanCollection voters =
     *      Iterable.&lt;b&gt;collectBoolean&lt;/b&gt;(people, person -&gt; person.canVote());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * MutableBooleanCollection voters =
     *      Iterate.&lt;b&gt;collectBoolean&lt;/b&gt;(people,
     *          new BooleanFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public boolean booleanValueOf(Person person)
     *              {
     *                  return person.canVote();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableBooleanCollection collectBoolean(
            Iterable&lt;T&gt; iterable,
            BooleanFunction&lt;? super T&gt; booleanFunction)
    {
<span class="nc bnc" id="L1290" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1292">            return ((MutableCollection&lt;T&gt;) iterable).collectBoolean(booleanFunction);</span>
        }
<span class="nc bnc" id="L1294" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1296">            return ArrayListIterate.collectBoolean((ArrayList&lt;T&gt;) iterable, booleanFunction);</span>
        }
<span class="nc bnc" id="L1298" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1300">            return ListIterate.collectBoolean((List&lt;T&gt;) iterable, booleanFunction);</span>
        }
<span class="nc bnc" id="L1302" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1304">            return IterableIterate.collectBoolean(iterable, booleanFunction);</span>
        }
<span class="nc" id="L1306">        throw new IllegalArgumentException(&quot;Cannot perform a collectBoolean on null&quot;);</span>
    }

    /**
     * Same as {@link #collectBoolean(Iterable, BooleanFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * BooleanArrayList voters =
     *      Iterable.&lt;b&gt;collectBoolean&lt;/b&gt;(people, person -&gt; person.canVote(), new BooleanArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * BooleanArrayList voters =
     *      Iterate.&lt;b&gt;collectBoolean&lt;/b&gt;(people,
     *          new BooleanFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public boolean booleanValueOf(Person person)
     *              {
     *                  return person.canVote();
     *              }
     *          }, new BooleanArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableBooleanCollection&gt; R collectBoolean(
            Iterable&lt;T&gt; iterable,
            BooleanFunction&lt;? super T&gt; booleanFunction,
            R target)
    {
<span class="nc bnc" id="L1337" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1339">            return ((MutableCollection&lt;T&gt;) iterable).collectBoolean(booleanFunction, target);</span>
        }
<span class="nc bnc" id="L1341" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1343">            return ArrayListIterate.collectBoolean((ArrayList&lt;T&gt;) iterable, booleanFunction, target);</span>
        }
<span class="nc bnc" id="L1345" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1347">            return ListIterate.collectBoolean((List&lt;T&gt;) iterable, booleanFunction, target);</span>
        }
<span class="nc bnc" id="L1349" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1351">            return IterableIterate.collectBoolean(iterable, booleanFunction, target);</span>
        }
<span class="nc" id="L1353">        throw new IllegalArgumentException(&quot;Cannot perform a collectBoolean on null&quot;);</span>
    }

    /**
     * Returns a new {@code byte} collection with the results of applying the specified byteFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * MutableByteCollection bytes =
     *      Iterate.&lt;b&gt;collectByte&lt;/b&gt;(people, person -&gt; person.getCode());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * MutableByteCollection bytes =
     *      Iterate.&lt;b&gt;collectByte&lt;/b&gt;(people,
     *          new ByteFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public byte byteValueOf(Person person)
     *              {
     *                  return person.getCode();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableByteCollection collectByte(
            Iterable&lt;T&gt; iterable,
            ByteFunction&lt;? super T&gt; byteFunction)
    {
<span class="nc bnc" id="L1382" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1384">            return ((MutableCollection&lt;T&gt;) iterable).collectByte(byteFunction);</span>
        }
<span class="nc bnc" id="L1386" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1388">            return ArrayListIterate.collectByte((ArrayList&lt;T&gt;) iterable, byteFunction);</span>
        }
<span class="nc bnc" id="L1390" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1392">            return ListIterate.collectByte((List&lt;T&gt;) iterable, byteFunction);</span>
        }
<span class="nc bnc" id="L1394" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1396">            return IterableIterate.collectByte(iterable, byteFunction);</span>
        }
<span class="nc" id="L1398">        throw new IllegalArgumentException(&quot;Cannot perform a collectByte on null&quot;);</span>
    }

    /**
     * Same as {@link #collectByte(Iterable, ByteFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * ByteArrayList bytes =
     *      Iterate.&lt;b&gt;collectByte&lt;/b&gt;(people, person -&gt; person.getCode(), new ByteArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * ByteArrayList bytes =
     *      Iterate.&lt;b&gt;collectByte&lt;/b&gt;(people,
     *          new ByteFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public byte byteValueOf(Person person)
     *              {
     *                  return person.getCode();
     *              }
     *          }, new ByteArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableByteCollection&gt; R collectByte(
            Iterable&lt;T&gt; iterable,
            ByteFunction&lt;? super T&gt; byteFunction,
            R target)
    {
<span class="nc bnc" id="L1429" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1431">            return ((MutableCollection&lt;T&gt;) iterable).collectByte(byteFunction, target);</span>
        }
<span class="nc bnc" id="L1433" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1435">            return ArrayListIterate.collectByte((ArrayList&lt;T&gt;) iterable, byteFunction, target);</span>
        }
<span class="nc bnc" id="L1437" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1439">            return ListIterate.collectByte((List&lt;T&gt;) iterable, byteFunction, target);</span>
        }
<span class="nc bnc" id="L1441" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1443">            return IterableIterate.collectByte(iterable, byteFunction, target);</span>
        }
<span class="nc" id="L1445">        throw new IllegalArgumentException(&quot;Cannot perform a collectByte on null&quot;);</span>
    }

    /**
     * Returns a new {@code char} collection with the results of applying the specified charFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using Java 8 lambda:
     * &lt;pre&gt;
     * MutableCharCollection chars =
     *      Iterate.&lt;b&gt;collectChar&lt;/b&gt;(people, person -&gt; person.getMiddleInitial());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * MutableCharCollection chars =
     *      Iterate.&lt;b&gt;collectChar&lt;/b&gt;(people,
     *          new CharFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public char charValueOf(Person person)
     *              {
     *                  return person.getMiddleInitial();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableCharCollection collectChar(
            Iterable&lt;T&gt; iterable,
            CharFunction&lt;? super T&gt; charFunction)
    {
<span class="nc bnc" id="L1474" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1476">            return ((MutableCollection&lt;T&gt;) iterable).collectChar(charFunction);</span>
        }
<span class="nc bnc" id="L1478" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1480">            return ArrayListIterate.collectChar((ArrayList&lt;T&gt;) iterable, charFunction);</span>
        }
<span class="nc bnc" id="L1482" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1484">            return ListIterate.collectChar((List&lt;T&gt;) iterable, charFunction);</span>
        }
<span class="nc bnc" id="L1486" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1488">            return IterableIterate.collectChar(iterable, charFunction);</span>
        }
<span class="nc" id="L1490">        throw new IllegalArgumentException(&quot;Cannot perform a collectChar on null&quot;);</span>
    }

    /**
     * Same as {@link #collectChar(Iterable, CharFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * &lt;pre&gt;
     * CharArrayList chars =
     *      Iterate.&lt;b&gt;collectChar&lt;/b&gt;(people, person -&gt; person.getMiddleInitial());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using anonymous inner class:
     * &lt;pre&gt;
     * CharArrayList chars =
     *      Iterate.&lt;b&gt;collectChar&lt;/b&gt;(people,
     *          new CharFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public char charValueOf(Person person)
     *              {
     *                  return person.getMiddleInitial();
     *              }
     *          }, new CharArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableCharCollection&gt; R collectChar(
            Iterable&lt;T&gt; iterable,
            CharFunction&lt;? super T&gt; charFunction,
            R target)
    {
<span class="nc bnc" id="L1520" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1522">            return ((MutableCollection&lt;T&gt;) iterable).collectChar(charFunction, target);</span>
        }
<span class="nc bnc" id="L1524" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1526">            return ArrayListIterate.collectChar((ArrayList&lt;T&gt;) iterable, charFunction, target);</span>
        }
<span class="nc bnc" id="L1528" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1530">            return ListIterate.collectChar((List&lt;T&gt;) iterable, charFunction, target);</span>
        }
<span class="nc bnc" id="L1532" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1534">            return IterableIterate.collectChar(iterable, charFunction, target);</span>
        }
<span class="nc" id="L1536">        throw new IllegalArgumentException(&quot;Cannot perform a collectChar on null&quot;);</span>
    }

    /**
     * Returns a new {@code double} collection with the results of applying the specified doubleFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableDoubleCollection doubles =
     *      Iterate.&lt;b&gt;collectDouble&lt;/b&gt;(people, person -&gt; person.getMilesFromNorthPole());
     * &lt;/pre&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableDoubleCollection doubles =
     *      Iterate.&lt;b&gt;collectDouble&lt;/b&gt;(people,
     *          new DoubleFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public double doubleValueOf(Person person)
     *              {
     *                  return person.getMilesFromNorthPole();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableDoubleCollection collectDouble(
            Iterable&lt;T&gt; iterable,
            DoubleFunction&lt;? super T&gt; doubleFunction)
    {
<span class="nc bnc" id="L1564" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1566">            return ((MutableCollection&lt;T&gt;) iterable).collectDouble(doubleFunction);</span>
        }
<span class="nc bnc" id="L1568" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1570">            return ArrayListIterate.collectDouble((ArrayList&lt;T&gt;) iterable, doubleFunction);</span>
        }
<span class="nc bnc" id="L1572" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1574">            return ListIterate.collectDouble((List&lt;T&gt;) iterable, doubleFunction);</span>
        }
<span class="nc bnc" id="L1576" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1578">            return IterableIterate.collectDouble(iterable, doubleFunction);</span>
        }
<span class="nc" id="L1580">        throw new IllegalArgumentException(&quot;Cannot perform a collectDouble on null&quot;);</span>
    }

    /**
     * Same as {@link #collectDouble(Iterable, DoubleFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * DoubleArrayList doubles =
     *      Iterate.&lt;b&gt;collectDouble&lt;/b&gt;(people, person -&gt; person.getMilesFromNorthPole());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * DoubleArrayList doubles =
     *      Iterate.&lt;b&gt;collectDouble&lt;/b&gt;(people,
     *          new DoubleFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public double doubleValueOf(Person person)
     *              {
     *                  return person.getMilesFromNorthPole();
     *              }
     *          }, new DoubleArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableDoubleCollection&gt; R collectDouble(
            Iterable&lt;T&gt; iterable,
            DoubleFunction&lt;? super T&gt; doubleFunction,
            R target)
    {
<span class="nc bnc" id="L1611" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1613">            return ((MutableCollection&lt;T&gt;) iterable).collectDouble(doubleFunction, target);</span>
        }
<span class="nc bnc" id="L1615" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1617">            return ArrayListIterate.collectDouble((ArrayList&lt;T&gt;) iterable, doubleFunction, target);</span>
        }
<span class="nc bnc" id="L1619" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1621">            return ListIterate.collectDouble((List&lt;T&gt;) iterable, doubleFunction, target);</span>
        }
<span class="nc bnc" id="L1623" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1625">            return IterableIterate.collectDouble(iterable, doubleFunction, target);</span>
        }
<span class="nc" id="L1627">        throw new IllegalArgumentException(&quot;Cannot perform a collectDouble on null&quot;);</span>
    }

    /**
     * Returns a new {@code float} collection with the results of applying the specified floatFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableFloatCollection floats =
     *      Iterate.&lt;b&gt;collectFloat&lt;/b&gt;(people, person -&gt; person.getHeightInInches());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableFloatCollection floats =
     *      Iterate.&lt;b&gt;collectFloat&lt;/b&gt;(people,
     *          new FloatFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public float floatValueOf(Person person)
     *              {
     *                  return person.getHeightInInches();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableFloatCollection collectFloat(
            Iterable&lt;T&gt; iterable,
            FloatFunction&lt;? super T&gt; floatFunction)
    {
<span class="nc bnc" id="L1656" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1658">            return ((MutableCollection&lt;T&gt;) iterable).collectFloat(floatFunction);</span>
        }
<span class="nc bnc" id="L1660" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1662">            return ArrayListIterate.collectFloat((ArrayList&lt;T&gt;) iterable, floatFunction);</span>
        }
<span class="nc bnc" id="L1664" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1666">            return ListIterate.collectFloat((List&lt;T&gt;) iterable, floatFunction);</span>
        }
<span class="nc bnc" id="L1668" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1670">            return IterableIterate.collectFloat(iterable, floatFunction);</span>
        }
<span class="nc" id="L1672">        throw new IllegalArgumentException(&quot;Cannot perform a collectFloat on null&quot;);</span>
    }

    /**
     * Same as {@link #collectFloat(Iterable, FloatFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * FloatArrayList floats =
     *      Iterate.&lt;b&gt;collectFloat&lt;/b&gt;(people, person -&gt; person.getHeightInInches(), new FloatArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * FloatArrayList floats =
     *      Iterate.&lt;b&gt;collectFloat&lt;/b&gt;(people,
     *          new FloatFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public float floatValueOf(Person person)
     *              {
     *                  return person.getHeightInInches();
     *              }
     *          }, new FloatArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableFloatCollection&gt; R collectFloat(
            Iterable&lt;T&gt; iterable,
            FloatFunction&lt;? super T&gt; floatFunction,
            R target)
    {
<span class="nc bnc" id="L1703" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1705">            return ((MutableCollection&lt;T&gt;) iterable).collectFloat(floatFunction, target);</span>
        }
<span class="nc bnc" id="L1707" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1709">            return ArrayListIterate.collectFloat((ArrayList&lt;T&gt;) iterable, floatFunction, target);</span>
        }
<span class="nc bnc" id="L1711" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1713">            return ListIterate.collectFloat((List&lt;T&gt;) iterable, floatFunction, target);</span>
        }
<span class="nc bnc" id="L1715" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1717">            return IterableIterate.collectFloat(iterable, floatFunction, target);</span>
        }
<span class="nc" id="L1719">        throw new IllegalArgumentException(&quot;Cannot perform a collectFloat on null&quot;);</span>
    }

    /**
     * Returns a new {@code int} collection with the results of applying the specified intFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableIntCollection ages =
     *      Iterate.&lt;b&gt;collectInt&lt;/b&gt;(people, person -&gt; person.getAge());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableIntCollection ages =
     *      Iterate.&lt;b&gt;collectInt&lt;/b&gt;(people,
     *          new IntFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public int intValueOf(Person person)
     *              {
     *                  return person.getAge();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableIntCollection collectInt(
            Iterable&lt;T&gt; iterable,
            IntFunction&lt;? super T&gt; intFunction)
    {
<span class="nc bnc" id="L1748" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1750">            return ((MutableCollection&lt;T&gt;) iterable).collectInt(intFunction);</span>
        }
<span class="nc bnc" id="L1752" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1754">            return ArrayListIterate.collectInt((ArrayList&lt;T&gt;) iterable, intFunction);</span>
        }
<span class="nc bnc" id="L1756" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1758">            return ListIterate.collectInt((List&lt;T&gt;) iterable, intFunction);</span>
        }
<span class="nc bnc" id="L1760" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1762">            return IterableIterate.collectInt(iterable, intFunction);</span>
        }
<span class="nc" id="L1764">        throw new IllegalArgumentException(&quot;Cannot perform a collectInt on null&quot;);</span>
    }

    /**
     * Same as {@link #collectInt(Iterable, IntFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * IntArrayList ages =
     *      Iterate.&lt;b&gt;collectInt&lt;/b&gt;(people, person -&gt; person.getAge(), new IntArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * IntArrayList ages =
     *      Iterate.&lt;b&gt;collectInt&lt;/b&gt;(people,
     *          new IntFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public int intValueOf(Person person)
     *              {
     *                  return person.getAge();
     *              }
     *          }, new IntArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableIntCollection&gt; R collectInt(
            Iterable&lt;T&gt; iterable,
            IntFunction&lt;? super T&gt; intFunction,
            R target)
    {
<span class="nc bnc" id="L1795" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1797">            return ((MutableCollection&lt;T&gt;) iterable).collectInt(intFunction, target);</span>
        }
<span class="nc bnc" id="L1799" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1801">            return ArrayListIterate.collectInt((ArrayList&lt;T&gt;) iterable, intFunction, target);</span>
        }
<span class="nc bnc" id="L1803" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1805">            return ListIterate.collectInt((List&lt;T&gt;) iterable, intFunction, target);</span>
        }
<span class="nc bnc" id="L1807" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1809">            return IterableIterate.collectInt(iterable, intFunction, target);</span>
        }
<span class="nc" id="L1811">        throw new IllegalArgumentException(&quot;Cannot perform a collectInt on null&quot;);</span>
    }

    /**
     * Returns a new {@code long} collection with the results of applying the specified longFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableLongCollection longs =
     *      Iterate.&lt;b&gt;collectLong&lt;/b&gt;(people, person -&gt; person.getGuid());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableLongCollection longs =
     *      Iterate.&lt;b&gt;collectLong&lt;/b&gt;(people,
     *          new LongFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public long longValueOf(Person person)
     *              {
     *                  return person.getGuid();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableLongCollection collectLong(
            Iterable&lt;T&gt; iterable,
            LongFunction&lt;? super T&gt; longFunction)
    {
<span class="nc bnc" id="L1840" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1842">            return ((MutableCollection&lt;T&gt;) iterable).collectLong(longFunction);</span>
        }
<span class="nc bnc" id="L1844" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1846">            return ArrayListIterate.collectLong((ArrayList&lt;T&gt;) iterable, longFunction);</span>
        }
<span class="nc bnc" id="L1848" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1850">            return ListIterate.collectLong((List&lt;T&gt;) iterable, longFunction);</span>
        }
<span class="nc bnc" id="L1852" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1854">            return IterableIterate.collectLong(iterable, longFunction);</span>
        }
<span class="nc" id="L1856">        throw new IllegalArgumentException(&quot;Cannot perform a collectLong on null&quot;);</span>
    }

    /**
     * Same as {@link #collectLong(Iterable, LongFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * LongArrayList longs =
     *      Iterate.&lt;b&gt;collectLong&lt;/b&gt;(people, person -&gt; person.getGuid(), new LongArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * LongArrayList longs =
     *      Iterate.&lt;b&gt;collectLong&lt;/b&gt;(people,
     *              new LongFunction&amp;lt;Person&amp;gt;()
     *              {
     *                  public long longValueOf(Person person)
     *                  {
     *                      return person.getGuid();
     *                  }
     *              }, new LongArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableLongCollection&gt; R collectLong(
            Iterable&lt;T&gt; iterable,
            LongFunction&lt;? super T&gt; longFunction,
            R target)
    {
<span class="nc bnc" id="L1887" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1889">            return ((MutableCollection&lt;T&gt;) iterable).collectLong(longFunction, target);</span>
        }
<span class="nc bnc" id="L1891" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1893">            return ArrayListIterate.collectLong((ArrayList&lt;T&gt;) iterable, longFunction, target);</span>
        }
<span class="nc bnc" id="L1895" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1897">            return ListIterate.collectLong((List&lt;T&gt;) iterable, longFunction, target);</span>
        }
<span class="nc bnc" id="L1899" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1901">            return IterableIterate.collectLong(iterable, longFunction, target);</span>
        }
<span class="nc" id="L1903">        throw new IllegalArgumentException(&quot;Cannot perform a collectLong on null&quot;);</span>
    }

    /**
     * Returns a new {@code short} collection with the results of applying the specified shortFunction for each element of the iterable.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableShortCollection shorts =
     *      Iterate.&lt;b&gt;collectShort&lt;/b&gt;(people, person -&gt; person.getNumberOfJunkMailItemsReceivedPerMonth());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableShortCollection shorts =
     *      Iterate.&lt;b&gt;collectShort&lt;/b&gt;(people,
     *          new ShortFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public short shortValueOf(Person person)
     *              {
     *                  return person.getNumberOfJunkMailItemsReceivedPerMonth();
     *              }
     *          });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; MutableShortCollection collectShort(
            Iterable&lt;T&gt; iterable,
            ShortFunction&lt;? super T&gt; shortFunction)
    {
<span class="nc bnc" id="L1932" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1934">            return ((MutableCollection&lt;T&gt;) iterable).collectShort(shortFunction);</span>
        }
<span class="nc bnc" id="L1936" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1938">            return ArrayListIterate.collectShort((ArrayList&lt;T&gt;) iterable, shortFunction);</span>
        }
<span class="nc bnc" id="L1940" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1942">            return ListIterate.collectShort((List&lt;T&gt;) iterable, shortFunction);</span>
        }
<span class="nc bnc" id="L1944" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1946">            return IterableIterate.collectShort(iterable, shortFunction);</span>
        }
<span class="nc" id="L1948">        throw new IllegalArgumentException(&quot;Cannot perform a collectShort on null&quot;);</span>
    }

    /**
     * Same as {@link #collectShort(Iterable, ShortFunction)}, except that the results are gathered into the specified {@code target}
     * collection.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * ShortArrayList shorts =
     *      Iterate.&lt;b&gt;collectShort&lt;/b&gt;(people, person -&gt; person.getNumberOfJunkMailItemsReceivedPerMonth(), new ShortArrayList());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * ShortArrayList shorts =
     *      Iterate.&lt;b&gt;collectShort&lt;/b&gt;(people,
     *          new ShortFunction&amp;lt;Person&amp;gt;()
     *          {
     *              public short shortValueOf(Person person)
     *              {
     *                  return person.getNumberOfJunkMailItemsReceivedPerMonth();
     *              }
     *          }, new ShortArrayList());
     * &lt;/pre&gt;
     */
    public static &lt;T, R extends MutableShortCollection&gt; R collectShort(
            Iterable&lt;T&gt; iterable,
            ShortFunction&lt;? super T&gt; shortFunction,
            R target)
    {
<span class="nc bnc" id="L1979" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L1981">            return ((MutableCollection&lt;T&gt;) iterable).collectShort(shortFunction, target);</span>
        }
<span class="nc bnc" id="L1983" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L1985">            return ArrayListIterate.collectShort((ArrayList&lt;T&gt;) iterable, shortFunction, target);</span>
        }
<span class="nc bnc" id="L1987" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L1989">            return ListIterate.collectShort((List&lt;T&gt;) iterable, shortFunction, target);</span>
        }
<span class="nc bnc" id="L1991" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L1993">            return IterableIterate.collectShort(iterable, shortFunction, target);</span>
        }
<span class="nc" id="L1995">        throw new IllegalArgumentException(&quot;Cannot perform a collectShort on null&quot;);</span>
    }

    /**
     * @see RichIterable#flatCollect(Function)
     */
    public static &lt;T, V&gt; Collection&lt;V&gt; flatCollect(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends Iterable&lt;V&gt;&gt; function)
    {
<span class="nc bnc" id="L2005" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2007">            return ((MutableCollection&lt;T&gt;) iterable).flatCollect(function);</span>
        }
<span class="nc bnc" id="L2009" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2011">            return ArrayListIterate.flatCollect((ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2013" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2015">            return RandomAccessListIterate.flatCollect((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2017" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L2019">            return IterableIterate.flatCollect(</span>
                    iterable,
                    function,
<span class="nc" id="L2022">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew(</span>
                            (Collection&lt;T&gt;) iterable,
<span class="nc" id="L2024">                            ((Collection&lt;T&gt;) iterable).size()));</span>
        }
<span class="nc bnc" id="L2026" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2028">            return IterableIterate.flatCollect(iterable, function);</span>
        }
<span class="nc" id="L2030">        throw new IllegalArgumentException(&quot;Cannot perform a flatCollect on null&quot;);</span>
    }

    /**
     * @see RichIterable#flatCollect(Function, Collection)
     */
    public static &lt;T, A, R extends Collection&lt;A&gt;&gt; R flatCollect(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends Iterable&lt;A&gt;&gt; function,
            R targetCollection)
    {
<span class="nc bnc" id="L2041" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2043">            return ((RichIterable&lt;T&gt;) iterable).flatCollect(function, targetCollection);</span>
        }
<span class="nc bnc" id="L2045" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2047">            return ArrayListIterate.flatCollect((ArrayList&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L2049" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2051">            return RandomAccessListIterate.flatCollect((List&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L2053" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2055">            return IterableIterate.flatCollect(iterable, function, targetCollection);</span>
        }
<span class="nc" id="L2057">        throw new IllegalArgumentException(&quot;Cannot perform a flatCollect on null&quot;);</span>
    }

    /**
     * Same as collect with a Function2 and specified parameter which is passed to the function.
     */
    public static &lt;T, P, A&gt; Collection&lt;A&gt; collectWith(
            Iterable&lt;T&gt; iterable,
            Function2&lt;? super T, ? super P, ? extends A&gt; function,
            P parameter)
    {
<span class="nc bnc" id="L2068" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2070">            return ((MutableCollection&lt;T&gt;) iterable).collectWith(function, parameter);</span>
        }
<span class="nc bnc" id="L2072" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2074">            return ArrayListIterate.collectWith((ArrayList&lt;T&gt;) iterable, function, parameter);</span>
        }
<span class="nc bnc" id="L2076" title="All 2 branches missed.">        if (iterable instanceof List&lt;?&gt;)</span>
        {
<span class="nc" id="L2078">            return ListIterate.collectWith((List&lt;T&gt;) iterable, function, parameter);</span>
        }
<span class="nc bnc" id="L2080" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L2082">            return IterableIterate.collectWith(</span>
                    iterable,
                    function,
                    parameter,
<span class="nc" id="L2086">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew(</span>
                            (Collection&lt;T&gt;) iterable,
<span class="nc" id="L2088">                            ((Collection&lt;T&gt;) iterable).size()));</span>
        }
<span class="nc bnc" id="L2090" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2092">            return IterableIterate.collectWith(iterable, function, parameter);</span>
        }
<span class="nc" id="L2094">        throw new IllegalArgumentException(&quot;Cannot perform a collectWith on null&quot;);</span>
    }

    /**
     * Same as collectWith but with a targetCollection parameter to gather the results.
     */
    public static &lt;T, P, A, R extends Collection&lt;A&gt;&gt; R collectWith(
            Iterable&lt;T&gt; iterable,
            Function2&lt;? super T, ? super P, ? extends A&gt; function,
            P parameter,
            R targetCollection)
    {
<span class="nc bnc" id="L2106" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2108">            return ((RichIterable&lt;T&gt;) iterable).collectWith(function, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L2110" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2112">            return ArrayListIterate.collectWith((ArrayList&lt;T&gt;) iterable, function, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L2114" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2116">            return RandomAccessListIterate.collectWith((List&lt;T&gt;) iterable, function, parameter, targetCollection);</span>
        }
<span class="nc bnc" id="L2118" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2120">            return IterableIterate.collectWith(iterable, function, parameter, targetCollection);</span>
        }
<span class="nc" id="L2122">        throw new IllegalArgumentException(&quot;Cannot perform a collectWith on null&quot;);</span>
    }

    /**
     * Flattens a collection of collections into one &quot;flat&quot; collection.
     *
     * @param iterable A list of lists, e.g. { { 1, 2, 3 }, { 4, 5 }, { 6 } }
     * @return A flattened list, e.g. { 1, 2, 3, 4, 5, 6 }
     */
    public static &lt;T&gt; Collection&lt;T&gt; flatten(Iterable&lt;? extends Iterable&lt;T&gt;&gt; iterable)
    {
<span class="nc" id="L2133">        return Iterate.flatCollect(iterable, Functions.&lt;Iterable&lt;T&gt;&gt;identity());</span>
    }

    /**
     * Same as {@link #flatten(Iterable)} except that the results are gathered into the specified targetCollection.
     */
    public static &lt;T, R extends Collection&lt;T&gt;&gt; R flatten(Iterable&lt;? extends Iterable&lt;T&gt;&gt; iterable, R targetCollection)
    {
<span class="nc" id="L2141">        return Iterate.flatCollect(iterable, Functions.&lt;Iterable&lt;T&gt;&gt;identity(), targetCollection);</span>
    }

    /**
     * Returns the first element of a collection.  In the case of a List it is the element at the first index.  In the
     * case of any other Collection, it is the first element that would be returned during an iteration. If the
     * Collection is empty, the result is {@code null}.
     * &lt;p&gt;
     * WARNING!!! The order of Sets are not guaranteed (except for TreeSets and other Ordered Set implementations), so
     * if you use this method, the first element could be any element from the Set.
     *
     * @throws IllegalArgumentException if the Collection is null
     */
    public static &lt;T&gt; T getFirst(Iterable&lt;T&gt; iterable)
    {
<span class="nc bnc" id="L2156" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2158">            return ((RichIterable&lt;T&gt;) iterable).getFirst();</span>
        }
<span class="nc bnc" id="L2160" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2162">            return ListIterate.getFirst((List&lt;T&gt;) iterable);</span>
        }
<span class="nc bnc" id="L2164" title="All 4 branches missed.">        if (iterable instanceof SortedSet &amp;&amp; !((SortedSet&lt;T&gt;) iterable).isEmpty())</span>
        {
<span class="nc" id="L2166">            return ((SortedSet&lt;T&gt;) iterable).first();</span>
        }
<span class="nc bnc" id="L2168" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc bnc" id="L2170" title="All 2 branches missed.">            return Iterate.isEmpty(iterable) ? null : iterable.iterator().next();</span>
        }
<span class="nc bnc" id="L2172" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2174">            return IterableIterate.getFirst(iterable);</span>
        }
<span class="nc" id="L2176">        throw new IllegalArgumentException(&quot;Cannot get first from null&quot;);</span>
    }

    /**
     * A null-safe check on a collection to see if it isEmpty.  A null collection results in a true.
     */
    public static boolean isEmpty(Iterable&lt;?&gt; iterable)
    {
<span class="nc bnc" id="L2184" title="All 2 branches missed.">        if (iterable == null)</span>
        {
<span class="nc" id="L2186">            return true;</span>
        }
<span class="nc bnc" id="L2188" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2190">            return ((RichIterable&lt;?&gt;) iterable).isEmpty();</span>
        }
<span class="nc bnc" id="L2192" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L2194">            return ((Collection&lt;?&gt;) iterable).isEmpty();</span>
        }
<span class="nc" id="L2196">        return IterableIterate.isEmpty(iterable);</span>
    }

    /**
     * A null-safe check on a collection to see if it is notEmpty.  A null collection results in a false.
     */
    public static boolean notEmpty(Iterable&lt;?&gt; iterable)
    {
<span class="nc bnc" id="L2204" title="All 2 branches missed.">        return !Iterate.isEmpty(iterable);</span>
    }

    /**
     * Returns the last element of a collection.  In the case of a List it is the element at the last index.  In the
     * case of any other Collection, it is the last element that would be returned during an iteration. If the
     * Collection is empty, the result is {@code null}.
     * &lt;p&gt;
     * WARNING!!! The order of Sets are not guaranteed (except for TreeSets and other Ordered Set implementations), so
     * if you use this method, the last element could be any element from the Set.
     *
     * @throws IllegalArgumentException if the Collection is null
     */
    public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable)
    {
<span class="nc bnc" id="L2219" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2221">            return ((RichIterable&lt;T&gt;) iterable).getLast();</span>
        }
<span class="nc bnc" id="L2223" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2225">            return RandomAccessListIterate.getLast((List&lt;T&gt;) iterable);</span>
        }
<span class="nc bnc" id="L2227" title="All 4 branches missed.">        if (iterable instanceof SortedSet &amp;&amp; !((SortedSet&lt;T&gt;) iterable).isEmpty())</span>
        {
<span class="nc" id="L2229">            return ((SortedSet&lt;T&gt;) iterable).last();</span>
        }
<span class="nc bnc" id="L2231" title="All 4 branches missed.">        if (iterable instanceof LinkedList &amp;&amp; !((LinkedList&lt;T&gt;) iterable).isEmpty())</span>
        {
<span class="nc" id="L2233">            return ((LinkedList&lt;T&gt;) iterable).getLast();</span>
        }
<span class="nc bnc" id="L2235" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2237">            return IterableIterate.getLast(iterable);</span>
        }
<span class="nc" id="L2239">        throw new IllegalArgumentException(&quot;Cannot get last from null&quot;);</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate, or null if
     * no element evaluates to true.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Person person = Iterate.&lt;b&gt;detect&lt;/b&gt;(people, person -&gt; person.getFirstName().equals(&quot;John&quot;) &amp;&amp; person.getLastName().equals(&quot;Smith&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Person person = Iterate.&lt;b&gt;detect&lt;/b&gt;(people, new Predicate&amp;lt;Person&amp;gt;()
     * {
     *     public boolean accept(Person person)
     *     {
     *         return person.getFirstName().equals(&quot;John&quot;) &amp;&amp; person.getLastName().equals(&quot;Smith&quot;);
     *     }
     * });
     * &lt;/pre&gt;
     */
    public static &lt;T&gt; T detect(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L2264" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2266">            return ((RichIterable&lt;T&gt;) iterable).detect(predicate);</span>
        }
<span class="nc bnc" id="L2268" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2270">            return ArrayListIterate.detect((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2272" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2274">            return RandomAccessListIterate.detect((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2276" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2278">            return IterableIterate.detect(iterable, predicate);</span>
        }
<span class="nc" id="L2280">        throw new IllegalArgumentException(&quot;Cannot perform detect on null&quot;);</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate2 and parameter,
     * or null if no element evaluates to true.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Person person = Iterate.&lt;b&gt;detectWith&lt;/b&gt;(people, (person, fullName) -&gt; person.getFullName().equals(fullName), &quot;John Smith&quot;);
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * Person person = Iterate.&lt;b&gt;detectWith&lt;/b&gt;(people, new Predicate2&amp;lt;Person, String&amp;gt;()
     * {
     *     public boolean accept(Person person, String fullName)
     *     {
     *         return person.getFullName().equals(fullName);
     *     }
     * }, &quot;John Smith&quot;);
     * &lt;/pre&gt;
     */
    public static &lt;T, P&gt; T detectWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L2308" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2310">            return ((MutableCollection&lt;T&gt;) iterable).detectWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L2312" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2314">            return ArrayListIterate.detectWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2316" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2318">            return RandomAccessListIterate.detectWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2320" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2322">            return IterableIterate.detectWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L2324">        throw new IllegalArgumentException(&quot;Cannot perform detectWith on null&quot;);</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate as an Optional.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Optional&amp;lt;Person&amp;gt; person =
     *      Iterate.&lt;b&gt;detectOptional&lt;/b&gt;(people,
     *          person -&gt; person.getFirstName().equals(&quot;John&quot;) &amp;&amp; person.getLastName().equals(&quot;Smith&quot;));
     * &lt;/pre&gt;
     * &lt;p&gt;
     *
     * @throws NullPointerException if the element selected is null
     * @since 8.0
     */
    public static &lt;T&gt; Optional&lt;T&gt; detectOptional(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L2343" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2345">            return ((RichIterable&lt;T&gt;) iterable).detectOptional(predicate);</span>
        }
<span class="nc bnc" id="L2347" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2349">            return ArrayListIterate.detectOptional((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2351" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2353">            return RandomAccessListIterate.detectOptional((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2355" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2357">            return IterableIterate.detectOptional(iterable, predicate);</span>
        }
<span class="nc" id="L2359">        throw new IllegalArgumentException(&quot;Cannot perform detectOptional on null&quot;);</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate2 and parameter as
     * an Optional.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * Optional&amp;lt;Person&amp;gt; person =
     *      Iterate.&lt;b&gt;detectWithOptional&lt;/b&gt;(people,
     *          (person, fullName) -&gt; person.getFullName().equals(fullName), &quot;John Smith&quot;);
     * &lt;/pre&gt;
     * &lt;p&gt;
     *
     * @throws NullPointerException if the element selected is null
     * @since 8.0
     */
    public static &lt;T, P&gt; Optional&lt;T&gt; detectWithOptional(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L2382" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2384">            return ((MutableCollection&lt;T&gt;) iterable).detectWithOptional(predicate, parameter);</span>
        }
<span class="nc bnc" id="L2386" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2388">            return ArrayListIterate.detectWithOptional((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2390" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2392">            return RandomAccessListIterate.detectWithOptional((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2394" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2396">            return IterableIterate.detectWithOptional(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L2398">        throw new IllegalArgumentException(&quot;Cannot perform detectWith on null&quot;);</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate, or returns the
     * result ifNone if no element evaluates to true.
     */
    public static &lt;T&gt; T detectIfNone(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate, T ifNone)
    {
<span class="nc" id="L2407">        T result = Iterate.detect(iterable, predicate);</span>
<span class="nc bnc" id="L2408" title="All 2 branches missed.">        return result == null ? ifNone : result;</span>
    }

    /**
     * Returns the first element of the iterable that evaluates to true for the specified predicate2 and parameter,
     * or returns the result ifNone if no element evaluates to true.
     */
    public static &lt;T, P&gt; T detectWithIfNone(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter,
            T ifNone)
    {
<span class="nc" id="L2421">        T result = Iterate.detectWith(iterable, predicate, parameter);</span>
<span class="nc bnc" id="L2422" title="All 2 branches missed.">        return result == null ? ifNone : result;</span>
    }

    /**
     * Searches for the first occurrence where the predicate evaluates to true, returns -1 if the predicate does not evaluate to true.
     */
    public static &lt;T&gt; int detectIndex(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L2430" title="All 2 branches missed.">        if (iterable instanceof ArrayList&lt;?&gt;)</span>
        {
<span class="nc" id="L2432">            return ArrayListIterate.detectIndex((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2434" title="All 2 branches missed.">        if (iterable instanceof List&lt;?&gt;)</span>
        {
<span class="nc" id="L2436">            return ListIterate.detectIndex((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2438" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2440">            return IterableIterate.detectIndex(iterable, predicate);</span>
        }
<span class="nc" id="L2442">        throw new IllegalArgumentException(&quot;Cannot perform detectIndex on null&quot;);</span>
    }

    /**
     * Searches for the first occurrence where the predicate2 and parameter evaluates to true, returns -1 if the predicate2 and parameter do not evaluate to true.
     */
    public static &lt;T, P&gt; int detectIndexWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L2453" title="All 2 branches missed.">        if (iterable instanceof ArrayList&lt;?&gt;)</span>
        {
<span class="nc" id="L2455">            return ArrayListIterate.detectIndexWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2457" title="All 2 branches missed.">        if (iterable instanceof List&lt;?&gt;)</span>
        {
<span class="nc" id="L2459">            return ListIterate.detectIndexWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2461" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2463">            return IterableIterate.detectIndexWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L2465">        throw new IllegalArgumentException(&quot;Cannot perform detectIndexWith on null&quot;);</span>
    }

    /**
     * This method produces the equivalent result as {@link Stream#collect(Collector)}.
     *
     * @since 8.0
     */
    public static &lt;T, A, R&gt; R reduceInPlace(Iterable&lt;T&gt; iterable, Collector&lt;? super T, A, R&gt; collector)
    {
<span class="nc bnc" id="L2475" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2477">            return ((RichIterable&lt;T&gt;) iterable).reduceInPlace(collector);</span>
        }
<span class="nc" id="L2479">        A mutableResult = collector.supplier().get();</span>
<span class="nc" id="L2480">        BiConsumer&lt;A, ? super T&gt; accumulator = collector.accumulator();</span>
<span class="nc" id="L2481">        Iterate.forEach(iterable, each -&gt; accumulator.accept(mutableResult, each));</span>
<span class="nc" id="L2482">        return collector.finisher().apply(mutableResult);</span>
    }

    /**
     * This method produces the equivalent result as {@link Stream#collect(Supplier, BiConsumer, BiConsumer)}.
     * The combiner used in collect is unnecessary in the serial case, so is not included in the API.
     *
     * @since 8.0
     */
    public static &lt;T, R&gt; R reduceInPlace(Iterable&lt;T&gt; iterable, Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator)
    {
<span class="nc bnc" id="L2493" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2495">            return ((RichIterable&lt;T&gt;) iterable).reduceInPlace(supplier, accumulator);</span>
        }
<span class="nc" id="L2497">        R result = supplier.get();</span>
<span class="nc" id="L2498">        Iterate.forEach(iterable, each -&gt; accumulator.accept(result, each));</span>
<span class="nc" id="L2499">        return result;</span>
    }

    /**
     * @see RichIterable#injectInto(Object, Function2)
     */
    public static &lt;T, IV&gt; IV injectInto(
            IV injectValue,
            Iterable&lt;T&gt; iterable,
            Function2&lt;? super IV, ? super T, ? extends IV&gt; function)
    {
<span class="nc bnc" id="L2510" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2512">            return ((RichIterable&lt;T&gt;) iterable).injectInto(injectValue, function);</span>
        }
<span class="nc bnc" id="L2514" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2516">            return ArrayListIterate.injectInto(injectValue, (ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2518" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2520">            return RandomAccessListIterate.injectInto(injectValue, (List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2522" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2524">            return IterableIterate.injectInto(injectValue, iterable, function);</span>
        }
<span class="nc" id="L2526">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#injectInto(int, IntObjectToIntFunction)
     */
    public static &lt;T&gt; int injectInto(
            int injectValue,
            Iterable&lt;T&gt; iterable,
            IntObjectToIntFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2537" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2539">            return ((RichIterable&lt;T&gt;) iterable).injectInto(injectValue, function);</span>
        }
<span class="nc bnc" id="L2541" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2543">            return ArrayListIterate.injectInto(injectValue, (ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2545" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2547">            return RandomAccessListIterate.injectInto(injectValue, (List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2549" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2551">            return IterableIterate.injectInto(injectValue, iterable, function);</span>
        }
<span class="nc" id="L2553">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#injectInto(long, LongObjectToLongFunction)
     */
    public static &lt;T&gt; long injectInto(
            long injectValue,
            Iterable&lt;T&gt; iterable,
            LongObjectToLongFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2564" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2566">            return ((RichIterable&lt;T&gt;) iterable).injectInto(injectValue, function);</span>
        }
<span class="nc bnc" id="L2568" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2570">            return ArrayListIterate.injectInto(injectValue, (ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2572" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2574">            return RandomAccessListIterate.injectInto(injectValue, (List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2576" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2578">            return IterableIterate.injectInto(injectValue, iterable, function);</span>
        }
<span class="nc" id="L2580">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#injectInto(double, DoubleObjectToDoubleFunction)
     */
    public static &lt;T&gt; double injectInto(
            double injectValue,
            Iterable&lt;T&gt; iterable,
            DoubleObjectToDoubleFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2591" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2593">            return ((RichIterable&lt;T&gt;) iterable).injectInto(injectValue, function);</span>
        }
<span class="nc bnc" id="L2595" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2597">            return ArrayListIterate.injectInto(injectValue, (ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2599" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2601">            return RandomAccessListIterate.injectInto(injectValue, (List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2603" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2605">            return IterableIterate.injectInto(injectValue, iterable, function);</span>
        }
<span class="nc" id="L2607">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#injectInto(float, FloatObjectToFloatFunction)
     */
    public static &lt;T&gt; float injectInto(
            float injectValue,
            Iterable&lt;T&gt; iterable,
            FloatObjectToFloatFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2618" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2620">            return ((RichIterable&lt;T&gt;) iterable).injectInto(injectValue, function);</span>
        }
<span class="nc bnc" id="L2622" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2624">            return ArrayListIterate.injectInto(injectValue, (ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2626" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2628">            return RandomAccessListIterate.injectInto(injectValue, (List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2630" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2632">            return IterableIterate.injectInto(injectValue, iterable, function);</span>
        }
<span class="nc" id="L2634">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfInt(IntFunction)
     */
    public static &lt;T&gt; long sumOfInt(Iterable&lt;T&gt; iterable, IntFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2642" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2644">            return ((RichIterable&lt;T&gt;) iterable).sumOfInt(function);</span>
        }
<span class="nc bnc" id="L2646" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2648">            return ListIterate.sumOfInt((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2650" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2652">            return IterableIterate.sumOfInt(iterable, function);</span>
        }
<span class="nc" id="L2654">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfInt on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfLong(LongFunction)
     */
    public static &lt;T&gt; long sumOfLong(Iterable&lt;T&gt; iterable, LongFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2662" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2664">            return ((RichIterable&lt;T&gt;) iterable).sumOfLong(function);</span>
        }
<span class="nc bnc" id="L2666" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2668">            return ListIterate.sumOfLong((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2670" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2672">            return IterableIterate.sumOfLong(iterable, function);</span>
        }
<span class="nc" id="L2674">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfLong on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfFloat(FloatFunction)
     */
    public static &lt;T&gt; double sumOfFloat(Iterable&lt;T&gt; iterable, FloatFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2682" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2684">            return ((RichIterable&lt;T&gt;) iterable).sumOfFloat(function);</span>
        }
<span class="nc bnc" id="L2686" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2688">            return ListIterate.sumOfFloat((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2690" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2692">            return IterableIterate.sumOfFloat(iterable, function);</span>
        }
<span class="nc" id="L2694">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfFloat on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfDouble(DoubleFunction)
     */
    public static &lt;T&gt; double sumOfDouble(Iterable&lt;T&gt; iterable, DoubleFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2702" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2704">            return ((RichIterable&lt;T&gt;) iterable).sumOfDouble(function);</span>
        }
<span class="nc bnc" id="L2706" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2708">            return ListIterate.sumOfDouble((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2710" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2712">            return IterableIterate.sumOfDouble(iterable, function);</span>
        }
<span class="nc" id="L2714">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfDouble on null&quot;);</span>
    }

    /**
     * Returns the BigDecimal sum of the result of applying the function to each element of the iterable.
     *
     * @since 6.0
     */
    public static &lt;T&gt; BigDecimal sumOfBigDecimal(Iterable&lt;T&gt; iterable, Function&lt;? super T, BigDecimal&gt; function)
    {
<span class="nc bnc" id="L2724" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2726">            return ListIterate.sumOfBigDecimal((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2728" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2730">            return IterableIterate.sumOfBigDecimal(iterable, function);</span>
        }
<span class="nc" id="L2732">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfBigDecimal on null&quot;);</span>
    }

    /**
     * Returns the BigInteger sum of the result of applying the function to each element of the iterable.
     *
     * @since 6.0
     */
    public static &lt;T&gt; BigInteger sumOfBigInteger(Iterable&lt;T&gt; iterable, Function&lt;? super T, BigInteger&gt; function)
    {
<span class="nc bnc" id="L2742" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2744">            return ListIterate.sumOfBigInteger((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L2746" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2748">            return IterableIterate.sumOfBigInteger(iterable, function);</span>
        }
<span class="nc" id="L2750">        throw new IllegalArgumentException(&quot;Cannot perform an sumOfBigDecimal on null&quot;);</span>
    }

    /**
     * Groups and sums the values of the iterable using the two specified functions.
     *
     * @since 6.0
     */
    public static &lt;V, T&gt; MutableMap&lt;V, BigDecimal&gt; sumByBigDecimal(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, Function&lt;? super T, BigDecimal&gt; function)
    {
<span class="nc bnc" id="L2760" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2762">            return ListIterate.sumByBigDecimal((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2764" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2766">            return IterableIterate.sumByBigDecimal(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2768">        throw new IllegalArgumentException(&quot;Cannot perform an sumByBigDecimal on null&quot;);</span>
    }

    /**
     * Groups and sums the values of the iterable using the two specified functions.
     *
     * @since 6.0
     */
    public static &lt;V, T&gt; MutableMap&lt;V, BigInteger&gt; sumByBigInteger(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, Function&lt;? super T, BigInteger&gt; function)
    {
<span class="nc bnc" id="L2778" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2780">            return ListIterate.sumByBigInteger((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2782" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2784">            return IterableIterate.sumByBigInteger(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2786">        throw new IllegalArgumentException(&quot;Cannot perform an sumByBigInteger on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumByInt(Function, IntFunction)
     */
    public static &lt;T, V&gt; ObjectLongMap&lt;V&gt; sumByInt(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, IntFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2794" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2796">            return ((RichIterable&lt;T&gt;) iterable).sumByInt(groupBy, function);</span>
        }
<span class="nc bnc" id="L2798" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2800">            return ListIterate.sumByInt((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2802" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2804">            return IterableIterate.sumByInt(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2806">        throw new IllegalArgumentException(&quot;Cannot perform an sumByInt on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumByLong(Function, LongFunction)
     */
    public static &lt;T, V&gt; ObjectLongMap&lt;V&gt; sumByLong(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, LongFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2814" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2816">            return ((RichIterable&lt;T&gt;) iterable).sumByLong(groupBy, function);</span>
        }
<span class="nc bnc" id="L2818" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2820">            return ListIterate.sumByLong((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2822" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2824">            return IterableIterate.sumByLong(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2826">        throw new IllegalArgumentException(&quot;Cannot perform an sumByLong on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfFloat(FloatFunction)
     */
    public static &lt;T, V&gt; ObjectDoubleMap&lt;V&gt; sumByFloat(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, FloatFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2834" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2836">            return ((RichIterable&lt;T&gt;) iterable).sumByFloat(groupBy, function);</span>
        }
<span class="nc bnc" id="L2838" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2840">            return ListIterate.sumByFloat((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2842" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2844">            return IterableIterate.sumByFloat(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2846">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * @see RichIterable#sumOfDouble(DoubleFunction)
     */
    public static &lt;T, V&gt; ObjectDoubleMap&lt;V&gt; sumByDouble(Iterable&lt;T&gt; iterable, Function&lt;T, V&gt; groupBy, DoubleFunction&lt;? super T&gt; function)
    {
<span class="nc bnc" id="L2854" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2856">            return ((RichIterable&lt;T&gt;) iterable).sumByDouble(groupBy, function);</span>
        }
<span class="nc bnc" id="L2858" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L2860">            return ListIterate.sumByDouble((List&lt;T&gt;) iterable, groupBy, function);</span>
        }
<span class="nc bnc" id="L2862" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2864">            return IterableIterate.sumByDouble(iterable, groupBy, function);</span>
        }
<span class="nc" id="L2866">        throw new IllegalArgumentException(&quot;Cannot perform an injectInto on null&quot;);</span>
    }

    /**
     * Similar to {@link #injectInto(Object, Iterable, Function2)}, except with a parameter is used as third generic argument in function3.
     */
    public static &lt;T, IV, P&gt; IV injectIntoWith(
            IV injectValue,
            Iterable&lt;T&gt; iterable,
            Function3&lt;? super IV, ? super T, ? super P, ? extends IV&gt; function,
            P parameter)
    {
<span class="nc bnc" id="L2878" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2880">            return ((MutableCollection&lt;T&gt;) iterable).injectIntoWith(injectValue, function, parameter);</span>
        }
<span class="nc bnc" id="L2882" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2884">            return ArrayListIterate.injectIntoWith(injectValue, (ArrayList&lt;T&gt;) iterable, function, parameter);</span>
        }
<span class="nc bnc" id="L2886" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2888">            return RandomAccessListIterate.injectIntoWith(injectValue, (List&lt;T&gt;) iterable, function, parameter);</span>
        }
<span class="nc bnc" id="L2890" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2892">            return IterableIterate.injectIntoWith(injectValue, iterable, function, parameter);</span>
        }
<span class="nc" id="L2894">        throw new IllegalArgumentException(&quot;Cannot perform an injectIntoWith on null&quot;);</span>
    }

    /**
     * Returns true if the predicate evaluates to true for any element of the iterable.
     * Returns false if the iterable is empty or if no elements return true for the predicate.
     */
    public static &lt;T&gt; boolean anySatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L2903" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2905">            return ((RichIterable&lt;T&gt;) iterable).anySatisfy(predicate);</span>
        }
<span class="nc bnc" id="L2907" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2909">            return ArrayListIterate.anySatisfy((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2911" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2913">            return RandomAccessListIterate.anySatisfy((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2915" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2917">            return IterableIterate.anySatisfy(iterable, predicate);</span>
        }
<span class="nc" id="L2919">        throw new IllegalArgumentException(&quot;Cannot perform an anySatisfy on null&quot;);</span>
    }

    /**
     * Returns true if the predicate2 and parameter evaluates to true for any element of the iterable.
     * Returns false if the iterable is empty or if no elements return true for the predicate2.
     */
    public static &lt;T, P&gt; boolean anySatisfyWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L2931" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2933">            return ((MutableCollection&lt;T&gt;) iterable).anySatisfyWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L2935" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2937">            return ArrayListIterate.anySatisfyWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2939" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2941">            return RandomAccessListIterate.anySatisfyWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2943" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2945">            return IterableIterate.anySatisfyWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L2947">        throw new IllegalArgumentException(&quot;Cannot perform an anySatisfyWith on null&quot;);</span>
    }

    /**
     * Returns true if the predicate evaluates to true for every element of the iterable, or returns false.
     * Returns true if the iterable is empty.
     */
    public static &lt;T&gt; boolean allSatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L2956" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L2958">            return ((RichIterable&lt;T&gt;) iterable).allSatisfy(predicate);</span>
        }
<span class="nc bnc" id="L2960" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2962">            return ArrayListIterate.allSatisfy((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2964" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2966">            return RandomAccessListIterate.allSatisfy((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L2968" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2970">            return IterableIterate.allSatisfy(iterable, predicate);</span>
        }
<span class="nc" id="L2972">        throw new IllegalArgumentException(&quot;Cannot perform an allSatisfy on null&quot;);</span>
    }

    /**
     * Returns true if the predicate evaluates to true for every element of the iterable, or returns false.
     */
    public static &lt;T, P&gt; boolean allSatisfyWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L2983" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L2985">            return ((MutableCollection&lt;T&gt;) iterable).allSatisfyWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L2987" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L2989">            return ArrayListIterate.allSatisfyWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2991" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L2993">            return RandomAccessListIterate.allSatisfyWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L2995" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L2997">            return IterableIterate.allSatisfyWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L2999">        throw new IllegalArgumentException(&quot;Cannot perform an allSatisfyWith on null&quot;);</span>
    }

    /**
     * Returns true if the predicate evaluates to false for every element of the iterable, or returns false.
     * Returns true if the iterable is empty.
     */
    public static &lt;T&gt; boolean noneSatisfy(Iterable&lt;T&gt; iterable, Predicate&lt;? super T&gt; predicate)
    {
<span class="nc bnc" id="L3008" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3010">            return ((RichIterable&lt;T&gt;) iterable).noneSatisfy(predicate);</span>
        }
<span class="nc bnc" id="L3012" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3014">            return ArrayListIterate.noneSatisfy((ArrayList&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L3016" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3018">            return RandomAccessListIterate.noneSatisfy((List&lt;T&gt;) iterable, predicate);</span>
        }
<span class="nc bnc" id="L3020" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3022">            return IterableIterate.noneSatisfy(iterable, predicate);</span>
        }
<span class="nc" id="L3024">        throw new IllegalArgumentException(&quot;Cannot perform an allSatisfy on null&quot;);</span>
    }

    /**
     * Returns true if the predicate evaluates to false for every element of the iterable, or returns false.
     * Returns true if the iterable is empty.
     */
    public static &lt;T, P&gt; boolean noneSatisfyWith(
            Iterable&lt;T&gt; iterable,
            Predicate2&lt;? super T, ? super P&gt; predicate,
            P parameter)
    {
<span class="nc bnc" id="L3036" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3038">            return ((MutableCollection&lt;T&gt;) iterable).noneSatisfyWith(predicate, parameter);</span>
        }
<span class="nc bnc" id="L3040" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3042">            return ArrayListIterate.noneSatisfyWith((ArrayList&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L3044" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3046">            return RandomAccessListIterate.noneSatisfyWith((List&lt;T&gt;) iterable, predicate, parameter);</span>
        }
<span class="nc bnc" id="L3048" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3050">            return IterableIterate.noneSatisfyWith(iterable, predicate, parameter);</span>
        }
<span class="nc" id="L3052">        throw new IllegalArgumentException(&quot;Cannot perform an noneSatisfyWith on null&quot;);</span>
    }

    /**
     * Iterate over the specified collection applying the specified Function to each element to calculate
     * a key and return the results as a Map.
     */
    public static &lt;T, K&gt; MutableMap&lt;K, T&gt; toMap(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; keyFunction)
    {
<span class="nc" id="L3063">        MutableMap&lt;K, T&gt; map = UnifiedMap.newMap();</span>
<span class="nc" id="L3064">        Iterate.forEach(iterable, new MapCollectProcedure&lt;&gt;(map, keyFunction));</span>
<span class="nc" id="L3065">        return map;</span>
    }

    /**
     * Iterate over the specified collection applying the specified Functions to each element to calculate
     * a key and value, and return the results as a Map.
     */
    public static &lt;T, K, V&gt; MutableMap&lt;K, V&gt; toMap(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; keyFunction,
            Function&lt;? super T, ? extends V&gt; valueFunction)
    {
<span class="nc" id="L3077">        return Iterate.addToMap(iterable, keyFunction, valueFunction, UnifiedMap.newMap());</span>
    }

    /**
     * Iterate over the specified collection applying a specific Function to each element to calculate a
     * key, and add the results to input Map.
     * This method will mutate the input Map.
     */
    public static &lt;T, K, V, M extends Map&lt;K, V&gt;&gt; M addToMap(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; keyFunction,
            M map)
    {
<span class="nc" id="L3090">        Iterate.forEach(iterable, new MapCollectProcedure&lt;&gt;(map, keyFunction));</span>
<span class="nc" id="L3091">        return map;</span>
    }

    /**
     * Iterate over the specified collection applying the specified Functions to each element to calculate
     * a key and value, and add the results to input Map.
     * This method will mutate the input Map.
     */
    public static &lt;T, K, V, M extends Map&lt;K, V&gt;&gt; M addToMap(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; keyFunction,
            Function&lt;? super T, ? extends V&gt; valueFunction,
            M map)
    {
<span class="nc" id="L3105">        Iterate.forEach(iterable, new MapCollectProcedure&lt;&gt;(map, keyFunction, valueFunction));</span>
<span class="nc" id="L3106">        return map;</span>
    }

    /**
     * Iterate over the specified collection applying the specified Functions to each element to calculate
     * a key and values, add the results to {@code targetMultimap} and return the {@code targetMultimap}.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableMultimap&amp;lt;String, String&amp;gt; multimap =
     *      Iterate.&lt;b&gt;toMultimap&lt;/b&gt;(integers, each -&gt; &quot;key:&quot; + each, each -&gt; Lists.mutable.of(&quot;value:&quot; + each), FastListMultimap.newMultimap());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableMultimap&amp;lt;String, String&amp;gt; multimap =
     *      Iterate.&lt;b&gt;groupByAndCollect&lt;/b&gt;(integers,
     *          new Function&amp;lt;Integer, String&amp;gt;()
     *          {
     *              public String valueOf(Integer each)
     *              {
     *                  return &quot;key:&quot; + each;
     *              }
     *          }, new Function&amp;lt;Integer, Iterable&amp;lt;String&amp;gt;&amp;gt;()
     *          {
     *              public Iterable&amp;lt;String&amp;gt; valueOf(Integer each)
     *              {
     *                  return Lists.mutable.of(&quot;value:&quot; + each);
     *              }
     *          }, FastListMultimap.newMultimap());
     * &lt;/pre&gt;
     *
     * @see Iterate#groupBy(Iterable, Function) when only keys get transformed
     * @see Iterate#groupByEach(Iterable, Function) when only keys get transformed and Function returns multiple keys
     * @see Iterate#groupByAndCollect(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns single key and value
     */
    public static &lt;T, K, V, R extends MutableMultimap&lt;K, V&gt;&gt; R toMultimap(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; keyFunction,
            Function&lt;? super T, ? extends Iterable&lt;V&gt;&gt; valuesFunction,
            R targetMultimap)
    {
<span class="nc" id="L3148">        Iterate.forEach(iterable, new MultimapKeyValuePutAllProcedure&lt;&gt;(targetMultimap, keyFunction, valuesFunction));</span>
<span class="nc" id="L3149">        return targetMultimap;</span>
    }

    /**
     * Return the specified collection as a sorted List.
     */
    public static &lt;T extends Comparable&lt;? super T&gt;&gt; MutableList&lt;T&gt; toSortedList(Iterable&lt;T&gt; iterable)
    {
<span class="nc" id="L3157">        return Iterate.toSortedList(iterable, Comparators.naturalOrder());</span>
    }

    /**
     * Return the specified collection as a sorted List using the specified Comparator.
     */
    public static &lt;T&gt; MutableList&lt;T&gt; toSortedList(Iterable&lt;T&gt; iterable, Comparator&lt;? super T&gt; comparator)
    {
<span class="nc" id="L3165">        return FastList.newList(iterable).sortThis(comparator);</span>
    }

    /**
     * Returns the size of an iterable.
     * In the case of Collections and RichIterables, the method size is called.
     * All other iterables will force a complete iteration to happen, which can be unnecessarily costly.
     */
    public static int sizeOf(Iterable&lt;?&gt; iterable)
    {
<span class="nc bnc" id="L3175" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3177">            return ((Collection&lt;?&gt;) iterable).size();</span>
        }
<span class="nc bnc" id="L3179" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3181">            return ((RichIterable&lt;?&gt;) iterable).size();</span>
        }
<span class="nc" id="L3183">        return Iterate.count(iterable, Predicates.alwaysTrue());</span>
    }

    /**
     * Returns true if the iterable contains the value.
     * In the case of Collections and RichIterables, the method contains is called.
     * All other iterables will force a complete iteration to happen, which can be unnecessarily costly.
     */
    public static boolean contains(Iterable&lt;?&gt; iterable, Object value)
    {
<span class="nc bnc" id="L3193" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3195">            return ((Collection&lt;?&gt;) iterable).contains(value);</span>
        }
<span class="nc bnc" id="L3197" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3199">            return ((RichIterable&lt;?&gt;) iterable).contains(value);</span>
        }
<span class="nc bnc" id="L3201" title="All 2 branches missed.">        return IterableIterate.detectIndex(iterable, Predicates.equal(value)) &gt; -1;</span>
    }

    /**
     * Converts the specified iterable to an array.
     */
    public static &lt;T&gt; Object[] toArray(Iterable&lt;T&gt; iterable)
    {
<span class="nc bnc" id="L3209" title="All 2 branches missed.">        if (iterable == null)</span>
        {
<span class="nc" id="L3211">            throw new NullPointerException();</span>
        }
<span class="nc bnc" id="L3213" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3215">            return ((Collection&lt;T&gt;) iterable).toArray();</span>
        }
<span class="nc bnc" id="L3217" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3219">            return ((RichIterable&lt;T&gt;) iterable).toArray();</span>
        }
<span class="nc" id="L3221">        MutableList&lt;T&gt; result = Lists.mutable.empty();</span>
<span class="nc" id="L3222">        Iterate.addAllTo(iterable, result);</span>
<span class="nc" id="L3223">        return result.toArray();</span>
    }

    /**
     * Copies the specified iterable into the specified array.
     */
    public static &lt;T&gt; T[] toArray(Iterable&lt;? extends T&gt; iterable, T[] target)
    {
<span class="nc bnc" id="L3231" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3233">            return ((Collection&lt;T&gt;) iterable).toArray(target);</span>
        }
<span class="nc bnc" id="L3235" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3237">            return ((RichIterable&lt;T&gt;) iterable).toArray(target);</span>
        }
<span class="nc" id="L3239">        MutableList&lt;T&gt; result = Lists.mutable.empty();</span>
<span class="nc" id="L3240">        Iterate.addAllTo(iterable, result);</span>
<span class="nc" id="L3241">        return result.toArray(target);</span>
    }

    /**
     * @see RichIterable#groupBy(Function)
     * @see Iterate#groupByEach(Iterable, Function) when function returns multiple keys
     * @see Iterate#groupByAndCollect(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed
     * @see Iterate#toMultimap(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns multiple values
     */
    public static &lt;T, V&gt; MutableMultimap&lt;V, T&gt; groupBy(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L3254" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3256">            return ((MutableCollection&lt;T&gt;) iterable).groupBy(function);</span>
        }
<span class="nc bnc" id="L3258" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3260">            return ArrayListIterate.groupBy((ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3262" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3264">            return RandomAccessListIterate.groupBy((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3266" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3268">            return IterableIterate.groupBy(iterable, function, FastListMultimap.newMultimap());</span>
        }
<span class="nc bnc" id="L3270" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3272">            return IterableIterate.groupBy(iterable, function);</span>
        }
<span class="nc" id="L3274">        throw new IllegalArgumentException(&quot;Cannot perform a groupBy on null&quot;);</span>
    }

    /**
     * @see RichIterable#groupBy(Function, MutableMultimap)
     * @see Iterate#groupByEach(Iterable, Function, MutableMultimap) when function returns multiple keys
     * @see Iterate#groupByAndCollect(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed
     * @see Iterate#toMultimap(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns multiple values
     */
    public static &lt;T, V, R extends MutableMultimap&lt;V, T&gt;&gt; R groupBy(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends V&gt; function,
            R targetMultimap)
    {
<span class="nc bnc" id="L3288" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3290">            return ((RichIterable&lt;T&gt;) iterable).groupBy(function, targetMultimap);</span>
        }
<span class="nc bnc" id="L3292" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3294">            return ArrayListIterate.groupBy((ArrayList&lt;T&gt;) iterable, function, targetMultimap);</span>
        }
<span class="nc bnc" id="L3296" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3298">            return RandomAccessListIterate.groupBy((List&lt;T&gt;) iterable, function, targetMultimap);</span>
        }
<span class="nc bnc" id="L3300" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3302">            return IterableIterate.groupBy(iterable, function, targetMultimap);</span>
        }
<span class="nc" id="L3304">        throw new IllegalArgumentException(&quot;Cannot perform a groupBy on null&quot;);</span>
    }

    /**
     * @see RichIterable#aggregateInPlaceBy(Function, Function0, Procedure2)
     */
    public static &lt;T, K, V&gt; MutableMap&lt;K, V&gt; aggregateInPlaceBy(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; groupBy,
            Function0&lt;? extends V&gt; zeroValueFactory,
            Procedure2&lt;? super V, ? super T&gt; mutatingAggregator)
    {
<span class="nc bnc" id="L3316" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3318">            return ((MutableCollection&lt;T&gt;) iterable).aggregateInPlaceBy(groupBy, zeroValueFactory, mutatingAggregator);</span>
        }
<span class="nc bnc" id="L3320" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3322">            return ArrayListIterate.aggregateInPlaceBy((ArrayList&lt;T&gt;) iterable, groupBy, zeroValueFactory, mutatingAggregator);</span>
        }
<span class="nc bnc" id="L3324" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3326">            return RandomAccessListIterate.aggregateInPlaceBy((List&lt;T&gt;) iterable, groupBy, zeroValueFactory, mutatingAggregator);</span>
        }
<span class="nc bnc" id="L3328" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3330">            return IterableIterate.aggregateInPlaceBy(iterable, groupBy, zeroValueFactory, mutatingAggregator);</span>
        }
<span class="nc" id="L3332">        throw new IllegalArgumentException(&quot;Cannot perform an aggregateInPlaceBy on null&quot;);</span>
    }

    /**
     * @see RichIterable#aggregateBy(Function, Function0, Function2)
     */
    public static &lt;T, K, V&gt; MutableMap&lt;K, V&gt; aggregateBy(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; groupBy,
            Function0&lt;? extends V&gt; zeroValueFactory,
            Function2&lt;? super V, ? super T, ? extends V&gt; nonMutatingAggregator)
    {
<span class="nc bnc" id="L3344" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3346">            return ((MutableCollection&lt;T&gt;) iterable).aggregateBy(groupBy, zeroValueFactory, nonMutatingAggregator);</span>
        }
<span class="nc bnc" id="L3348" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3350">            return ArrayListIterate.aggregateBy((ArrayList&lt;T&gt;) iterable, groupBy, zeroValueFactory, nonMutatingAggregator);</span>
        }
<span class="nc bnc" id="L3352" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3354">            return RandomAccessListIterate.aggregateBy((List&lt;T&gt;) iterable, groupBy, zeroValueFactory, nonMutatingAggregator);</span>
        }
<span class="nc bnc" id="L3356" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3358">            return IterableIterate.aggregateBy(iterable, groupBy, zeroValueFactory, nonMutatingAggregator);</span>
        }
<span class="nc" id="L3360">        throw new IllegalArgumentException(&quot;Cannot perform an aggregateBy on null&quot;);</span>
    }

    /**
     * @see RichIterable#groupByEach(Function)
     * @see Iterate#groupBy(Iterable, Function) when function returns single key
     * @see Iterate#groupByAndCollect(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed
     * @see Iterate#toMultimap(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns multiple values
     */
    public static &lt;T, V&gt; MutableMultimap&lt;V, T&gt; groupByEach(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends Iterable&lt;V&gt;&gt; function)
    {
<span class="nc bnc" id="L3373" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3375">            return ((MutableCollection&lt;T&gt;) iterable).groupByEach(function);</span>
        }
<span class="nc bnc" id="L3377" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3379">            return ArrayListIterate.groupByEach((ArrayList&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3381" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3383">            return RandomAccessListIterate.groupByEach((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3385" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3387">            return IterableIterate.groupByEach(iterable, function, FastListMultimap.newMultimap());</span>
        }
<span class="nc bnc" id="L3389" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3391">            return IterableIterate.groupByEach(iterable, function);</span>
        }
<span class="nc" id="L3393">        throw new IllegalArgumentException(&quot;Cannot perform a groupByEach on null&quot;);</span>
    }

    /**
     * @see RichIterable#groupByEach(Function, MutableMultimap)
     * @see Iterate#groupBy(Iterable, Function, MutableMultimap) when function returns single key
     * @see Iterate#groupByAndCollect(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed
     * @see Iterate#toMultimap(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns multiple values
     */
    public static &lt;T, V, R extends MutableMultimap&lt;V, T&gt;&gt; R groupByEach(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends Iterable&lt;V&gt;&gt; function,
            R targetCollection)
    {
<span class="nc bnc" id="L3407" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3409">            return ((RichIterable&lt;T&gt;) iterable).groupByEach(function, targetCollection);</span>
        }
<span class="nc bnc" id="L3411" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3413">            return ArrayListIterate.groupByEach((ArrayList&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L3415" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3417">            return RandomAccessListIterate.groupByEach((List&lt;T&gt;) iterable, function, targetCollection);</span>
        }
<span class="nc bnc" id="L3419" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3421">            return IterableIterate.groupByEach(iterable, function, targetCollection);</span>
        }
<span class="nc" id="L3423">        throw new IllegalArgumentException(&quot;Cannot perform a groupByEach on null&quot;);</span>
    }

    /**
     * Iterate over the specified collection applying the specified Functions to each element to calculate
     * a key and value, add the results to {@code targetMultimap} and return the {@code targetMultimap}.
     * &lt;p&gt;
     * Example using a Java 8 lambda expression:
     * &lt;pre&gt;
     * MutableMultimap&amp;lt;String, String&amp;gt; multimap =
     *      Iterate.&lt;b&gt;groupByAndCollect&lt;/b&gt;(integers, each -&gt; &quot;key:&quot; + each, each -&gt; &quot;value:&quot; + each, FastListMultimap.newMultimap());
     * &lt;/pre&gt;
     * &lt;p&gt;
     * Example using an anonymous inner class:
     * &lt;pre&gt;
     * MutableMultimap&amp;lt;String, String&amp;gt; multimap =
     *      Iterate.&lt;b&gt;groupByAndCollect&lt;/b&gt;(integers,
     *          new Function&amp;lt;Integer, String&amp;gt;()
     *          {
     *              public String valueOf(Integer each)
     *              {
     *                  return &quot;key:&quot; + each;
     *              }
     *          }, new Function&amp;lt;Integer, String&amp;gt;()
     *          {
     *              public String valueOf(Integer each)
     *              {
     *                  return &quot;value:&quot; + each;
     *              }
     *          }, FastListMultimap.newMultimap());
     * &lt;/pre&gt;
     *
     * @see Iterate#groupBy(Iterable, Function) when only keys get transformed
     * @see Iterate#groupByEach(Iterable, Function) when function returns multiple keys
     * @see Iterate#toMultimap(Iterable, Function, Function, MutableMultimap) when both keys and values get transformed and Function returns multiple values
     */
    public static &lt;T, K, V, R extends MutableMultimap&lt;K, V&gt;&gt; R groupByAndCollect(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends K&gt; groupByFunction,
            Function&lt;? super T, ? extends V&gt; valueFunction,
            R targetMultimap)
    {
<span class="nc" id="L3465">        Iterate.forEach(iterable, new MultimapKeyValuePutProcedure&lt;&gt;(targetMultimap, groupByFunction, valueFunction));</span>
<span class="nc" id="L3466">        return targetMultimap;</span>
    }

    /**
     * @see RichIterable#groupByUniqueKey(Function)
     */
    public static &lt;V, T&gt; MutableMap&lt;V, T&gt; groupByUniqueKey(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L3476" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L3478">            return ListIterate.groupByUniqueKey((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3480" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3482">            return IterableIterate.groupByUniqueKey(iterable, function);</span>
        }
<span class="nc" id="L3484">        throw new IllegalArgumentException(&quot;Cannot perform a groupByUniqueKey on null&quot;);</span>
    }

    /**
     * @see RichIterable#groupByUniqueKey(Function, MutableMap)
     */
    public static &lt;V, T, R extends MutableMap&lt;V, T&gt;&gt; R groupByUniqueKey(
            Iterable&lt;T&gt; iterable,
            Function&lt;? super T, ? extends V&gt; function,
            R target)
    {
<span class="nc bnc" id="L3495" title="All 2 branches missed.">        if (iterable instanceof List)</span>
        {
<span class="nc" id="L3497">            return ListIterate.groupByUniqueKey((List&lt;T&gt;) iterable, function, target);</span>
        }
<span class="nc bnc" id="L3499" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3501">            return IterableIterate.groupByUniqueKey(iterable, function, target);</span>
        }
<span class="nc" id="L3503">        throw new IllegalArgumentException(&quot;Cannot perform a groupByUniqueKey on null&quot;);</span>
    }

    /**
     * @see RichIterable#min(Comparator)
     */
    public static &lt;T&gt; T min(Iterable&lt;T&gt; iterable, Comparator&lt;? super T&gt; comparator)
    {
<span class="nc" id="L3511">        MinComparatorProcedure&lt;T&gt; procedure = new MinComparatorProcedure&lt;&gt;(comparator);</span>
<span class="nc" id="L3512">        Iterate.forEach(iterable, procedure);</span>
<span class="nc" id="L3513">        return procedure.getResult();</span>
    }

    /**
     * @see RichIterable#max(Comparator)
     */
    public static &lt;T&gt; T max(Iterable&lt;T&gt; iterable, Comparator&lt;? super T&gt; comparator)
    {
<span class="nc" id="L3521">        MaxComparatorProcedure&lt;T&gt; procedure = new MaxComparatorProcedure&lt;&gt;(comparator);</span>
<span class="nc" id="L3522">        Iterate.forEach(iterable, procedure);</span>
<span class="nc" id="L3523">        return procedure.getResult();</span>
    }

    /**
     * @see RichIterable#min()
     */
    public static &lt;T&gt; T min(Iterable&lt;T&gt; iterable)
    {
<span class="nc" id="L3531">        return Iterate.min(iterable, Comparators.naturalOrder());</span>
    }

    /**
     * @see RichIterable#max()
     */
    public static &lt;T&gt; T max(Iterable&lt;T&gt; iterable)
    {
<span class="nc" id="L3539">        return Iterate.max(iterable, Comparators.naturalOrder());</span>
    }

    public static &lt;T&gt; T getOnly(Iterable&lt;T&gt; iterable)
    {
<span class="nc bnc" id="L3544" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3546">            return IterableIterate.getOnly(iterable);</span>
        }
<span class="nc" id="L3548">        throw new IllegalArgumentException(&quot;Cannot perform getOnly on null&quot;);</span>
    }

    /**
     * @see RichIterable#zip(Iterable)
     */
    public static &lt;X, Y&gt; Collection&lt;Pair&lt;X, Y&gt;&gt; zip(Iterable&lt;X&gt; xs, Iterable&lt;Y&gt; ys)
    {
<span class="nc bnc" id="L3556" title="All 2 branches missed.">        if (xs instanceof MutableCollection)</span>
        {
<span class="nc" id="L3558">            return ((MutableCollection&lt;X&gt;) xs).zip(ys);</span>
        }
<span class="nc bnc" id="L3560" title="All 2 branches missed.">        if (xs instanceof ArrayList)</span>
        {
<span class="nc" id="L3562">            return ArrayListIterate.zip((ArrayList&lt;X&gt;) xs, ys);</span>
        }
<span class="nc bnc" id="L3564" title="All 2 branches missed.">        if (xs instanceof RandomAccess)</span>
        {
<span class="nc" id="L3566">            return RandomAccessListIterate.zip((List&lt;X&gt;) xs, ys);</span>
        }
<span class="nc bnc" id="L3568" title="All 2 branches missed.">        if (xs != null)</span>
        {
<span class="nc" id="L3570">            return IterableIterate.zip(xs, ys);</span>
        }
<span class="nc" id="L3572">        throw new IllegalArgumentException(&quot;Cannot perform a zip on null&quot;);</span>
    }

    /**
     * @see RichIterable#zip(Iterable, Collection)
     */
    public static &lt;X, Y, R extends Collection&lt;Pair&lt;X, Y&gt;&gt;&gt; R zip(
            Iterable&lt;X&gt; xs,
            Iterable&lt;Y&gt; ys,
            R targetCollection)
    {
<span class="nc bnc" id="L3583" title="All 2 branches missed.">        if (xs instanceof RichIterable)</span>
        {
<span class="nc" id="L3585">            return ((RichIterable&lt;X&gt;) xs).zip(ys, targetCollection);</span>
        }
<span class="nc bnc" id="L3587" title="All 2 branches missed.">        if (xs instanceof ArrayList)</span>
        {
<span class="nc" id="L3589">            return ArrayListIterate.zip((ArrayList&lt;X&gt;) xs, ys, targetCollection);</span>
        }
<span class="nc bnc" id="L3591" title="All 2 branches missed.">        if (xs instanceof RandomAccess)</span>
        {
<span class="nc" id="L3593">            return RandomAccessListIterate.zip((List&lt;X&gt;) xs, ys, targetCollection);</span>
        }
<span class="nc bnc" id="L3595" title="All 2 branches missed.">        if (xs != null)</span>
        {
<span class="nc" id="L3597">            return IterableIterate.zip(xs, ys, targetCollection);</span>
        }
<span class="nc" id="L3599">        throw new IllegalArgumentException(&quot;Cannot perform a zip on null&quot;);</span>
    }

    /**
     * @see RichIterable#zipWithIndex()
     */
    public static &lt;T&gt; Collection&lt;Pair&lt;T, Integer&gt;&gt; zipWithIndex(Iterable&lt;T&gt; iterable)
    {
<span class="nc bnc" id="L3607" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3609">            return ((MutableCollection&lt;T&gt;) iterable).zipWithIndex();</span>
        }
<span class="nc bnc" id="L3611" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3613">            return ArrayListIterate.zipWithIndex((ArrayList&lt;T&gt;) iterable);</span>
        }
<span class="nc bnc" id="L3615" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3617">            return RandomAccessListIterate.zipWithIndex((List&lt;T&gt;) iterable);</span>
        }
<span class="nc bnc" id="L3619" title="All 2 branches missed.">        if (iterable instanceof Collection)</span>
        {
<span class="nc" id="L3621">            return IterableIterate.zipWithIndex(</span>
                    iterable,
<span class="nc" id="L3623">                    DefaultSpeciesNewStrategy.INSTANCE.speciesNew(</span>
                            (Collection&lt;T&gt;) iterable,
<span class="nc" id="L3625">                            ((Collection&lt;T&gt;) iterable).size()));</span>
        }
<span class="nc bnc" id="L3627" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3629">            return IterableIterate.zipWithIndex(iterable);</span>
        }
<span class="nc" id="L3631">        throw new IllegalArgumentException(&quot;Cannot perform a zipWithIndex on null&quot;);</span>
    }

    /**
     * @see RichIterable#zipWithIndex(Collection)
     */
    public static &lt;T, R extends Collection&lt;Pair&lt;T, Integer&gt;&gt;&gt; R zipWithIndex(
            Iterable&lt;T&gt; iterable,
            R targetCollection)
    {
<span class="nc bnc" id="L3641" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3643">            return ((RichIterable&lt;T&gt;) iterable).zipWithIndex(targetCollection);</span>
        }
<span class="nc bnc" id="L3645" title="All 2 branches missed.">        if (iterable instanceof ArrayList)</span>
        {
<span class="nc" id="L3647">            return ArrayListIterate.zipWithIndex((ArrayList&lt;T&gt;) iterable, targetCollection);</span>
        }
<span class="nc bnc" id="L3649" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3651">            return RandomAccessListIterate.zipWithIndex((List&lt;T&gt;) iterable, targetCollection);</span>
        }
<span class="nc bnc" id="L3653" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3655">            return IterableIterate.zipWithIndex(iterable, targetCollection);</span>
        }
<span class="nc" id="L3657">        throw new IllegalArgumentException(&quot;Cannot perform a zipWithIndex on null&quot;);</span>
    }

    /**
     * @see RichIterable#chunk(int)
     */
    public static &lt;T&gt; RichIterable&lt;RichIterable&lt;T&gt;&gt; chunk(Iterable&lt;T&gt; iterable, int size)
    {
<span class="nc bnc" id="L3665" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3667">            return ((RichIterable&lt;T&gt;) iterable).chunk(size);</span>
        }
<span class="nc bnc" id="L3669" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3671">            return IterableIterate.chunk(iterable, size);</span>
        }
<span class="nc" id="L3673">        throw new IllegalArgumentException(&quot;Cannot perform a chunk on null&quot;);</span>
    }

    /**
     * @see RichIterable#makeString()
     */
    public static &lt;T&gt; String makeString(Iterable&lt;T&gt; iterable)
    {
<span class="nc" id="L3681">        return Iterate.makeString(iterable, &quot;, &quot;);</span>
    }

    /**
     * @see RichIterable#makeString(String)
     */
    public static &lt;T&gt; String makeString(Iterable&lt;T&gt; iterable, String separator)
    {
<span class="nc" id="L3689">        return Iterate.makeString(iterable, &quot;&quot;, separator, &quot;&quot;);</span>
    }

    /**
     * @see RichIterable#makeString(String, String, String)
     */
    public static &lt;T&gt; String makeString(Iterable&lt;T&gt; iterable, String start, String separator, String end)
    {
<span class="nc" id="L3697">        Appendable stringBuilder = new StringBuilder();</span>
<span class="nc" id="L3698">        Iterate.appendString(iterable, stringBuilder, start, separator, end);</span>
<span class="nc" id="L3699">        return stringBuilder.toString();</span>
    }

    /**
     * @see RichIterable#appendString(Appendable)
     */
    public static &lt;T&gt; void appendString(Iterable&lt;T&gt; iterable, Appendable appendable)
    {
<span class="nc" id="L3707">        Iterate.appendString(iterable, appendable, &quot;, &quot;);</span>
<span class="nc" id="L3708">    }</span>

    /**
     * @see RichIterable#appendString(Appendable, String)
     */
    public static &lt;T&gt; void appendString(Iterable&lt;T&gt; iterable, Appendable appendable, String separator)
    {
<span class="nc" id="L3715">        Iterate.appendString(iterable, appendable, &quot;&quot;, separator, &quot;&quot;);</span>
<span class="nc" id="L3716">    }</span>

    /**
     * @see RichIterable#appendString(Appendable, String, String, String)
     */
    public static &lt;T&gt; void appendString(
            Iterable&lt;T&gt; iterable,
            Appendable appendable,
            String start,
            String separator,
            String end)
    {
<span class="nc bnc" id="L3728" title="All 2 branches missed.">        if (iterable instanceof MutableCollection)</span>
        {
<span class="nc" id="L3730">            ((MutableCollection&lt;T&gt;) iterable).appendString(appendable, start, separator, end);</span>
        }
<span class="nc bnc" id="L3732" title="All 2 branches missed.">        else if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3734">            RandomAccessListIterate.appendString((List&lt;T&gt;) iterable, appendable, start, separator, end);</span>
        }
<span class="nc bnc" id="L3736" title="All 2 branches missed.">        else if (iterable != null)</span>
        {
<span class="nc" id="L3738">            IterableIterate.appendString(iterable, appendable, start, separator, end);</span>
        }
        else
        {
<span class="nc" id="L3742">            throw new IllegalArgumentException(&quot;Cannot perform an appendString on null&quot;);</span>
        }
<span class="nc" id="L3744">    }</span>

    /**
     * Returns the maximum element out of the iterable based on the natural order of the attribute returned by the function.
     */
    public static &lt;T, V extends Comparable&lt;? super V&gt;&gt; T maxBy(Iterable&lt;T&gt; iterable, Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L3751" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3753">            return ((RichIterable&lt;T&gt;) iterable).maxBy(function);</span>
        }
<span class="nc bnc" id="L3755" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3757">            return RandomAccessListIterate.maxBy((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3759" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3761">            return IterableIterate.maxBy(iterable, function);</span>
        }
<span class="nc" id="L3763">        throw new IllegalArgumentException(&quot;Cannot perform a maxBy on null&quot;);</span>
    }

    /**
     * Returns the minimum element out of the iterable based on the natural order of the attribute returned by the function.
     */
    public static &lt;T, V extends Comparable&lt;? super V&gt;&gt; T minBy(Iterable&lt;T&gt; iterable, Function&lt;? super T, ? extends V&gt; function)
    {
<span class="nc bnc" id="L3771" title="All 2 branches missed.">        if (iterable instanceof RichIterable)</span>
        {
<span class="nc" id="L3773">            return ((RichIterable&lt;T&gt;) iterable).minBy(function);</span>
        }
<span class="nc bnc" id="L3775" title="All 2 branches missed.">        if (iterable instanceof RandomAccess)</span>
        {
<span class="nc" id="L3777">            return RandomAccessListIterate.minBy((List&lt;T&gt;) iterable, function);</span>
        }
<span class="nc bnc" id="L3779" title="All 2 branches missed.">        if (iterable != null)</span>
        {
<span class="nc" id="L3781">            return IterableIterate.minBy(iterable, function);</span>
        }
<span class="nc" id="L3783">        throw new IllegalArgumentException(&quot;Cannot perform a minBy on null&quot;);</span>
    }

    /**
     * Flip the keys and values of the multimap.
     */
    public static &lt;K, V&gt; HashBagMultimap&lt;V, K&gt; flip(BagMultimap&lt;K, V&gt; bagMultimap)
    {
<span class="nc" id="L3791">        HashBagMultimap&lt;V, K&gt; result = new HashBagMultimap&lt;&gt;();</span>
<span class="nc" id="L3792">        bagMultimap.forEachKeyMultiValues((key, values) -&gt; Iterate.forEach(values, value -&gt; result.put(value, key)));</span>
<span class="nc" id="L3793">        return result;</span>
    }

    /**
     * Flip the keys and values of the multimap.
     */
    public static &lt;K, V&gt; HashBagMultimap&lt;V, K&gt; flip(ListMultimap&lt;K, V&gt; listMultimap)
    {
<span class="nc" id="L3801">        HashBagMultimap&lt;V, K&gt; result = new HashBagMultimap&lt;&gt;();</span>
<span class="nc" id="L3802">        listMultimap.forEachKeyMultiValues((key, values) -&gt; Iterate.forEach(values, value -&gt; result.put(value, key)));</span>
<span class="nc" id="L3803">        return result;</span>
    }

    /**
     * Flip the keys and values of the multimap.
     */
    public static &lt;K, V&gt; UnifiedSetMultimap&lt;V, K&gt; flip(SetMultimap&lt;K, V&gt; setMultimap)
    {
<span class="nc" id="L3811">        UnifiedSetMultimap&lt;V, K&gt; result = new UnifiedSetMultimap&lt;&gt;();</span>
<span class="nc" id="L3812">        setMultimap.forEachKeyMultiValues((key, values) -&gt; Iterate.forEach(values, value -&gt; result.put(value, key)));</span>
<span class="nc" id="L3813">        return result;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>