SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/root/./workspace/1and1/ejb-cdi-unit/389259854/.m2/org/slf4j/slf4j-log4j12/1.7.21/slf4j-log4j12-1.7.21.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/root/./workspace/1and1/ejb-cdi-unit/389259854/.m2/ch/qos/logback/logback-classic/1.0.9/logback-classic-1.0.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2018-06-07 16:18:20,448 INFO   (: [  ]  ) [org.jboss.weld.Version] (main) WELD-000900 1.1.14 (Final)
2018-06-07 16:18:20,992 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:21,448 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:21,610 INFO   (: [  ]  ) [org.hibernate.annotations.common.Version] (main) HCANN000001: Hibernate Commons Annotations {4.0.2.Final}
2018-06-07 16:18:21,616 INFO   (: [  ]  ) [org.hibernate.Version] (main) HHH000412: Hibernate Core {4.2.2.Final}
2018-06-07 16:18:21,618 INFO   (: [  ]  ) [org.hibernate.cfg.Environment] (main) HHH000206: hibernate.properties not found
2018-06-07 16:18:21,620 INFO   (: [  ]  ) [org.hibernate.cfg.Environment] (main) HHH000021: Bytecode provider name : javassist
2018-06-07 16:18:21,873 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:21,880 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:21,881 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:21,881 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:21,881 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:22,128 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:22,262 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:22,267 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:22,314 INFO   (: [  ]  ) [org.hibernate.validator.internal.util.Version] (main) HV000001: Hibernate Validator 4.3.1.Final
2018-06-07 16:18:22,599 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:22,606 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:22,758 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 16:18:22,758 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:22,844 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 1 in StatelessEJB.persistRequiredAndIOException
2018-06-07 16:18:22,844 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 1 in StatelessEJB.persistRequiredAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 16:18:22,877 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredAndIOException
2018-06-07 16:18:22,878 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 16:18:22,878 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 16:18:22,878 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 16:18:22,881 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:22,881 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:22,886 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:22,886 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:22,977 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:23,086 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:23,142 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:23,142 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:23,142 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:23,143 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,143 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:23,151 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:23,155 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:23,155 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:23,165 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:23,169 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:23,174 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 16:18:23,174 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:23,177 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception RuntimeException in REQUIRED xid: 2 in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:23,178 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:23,179 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:23,179 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 16:18:23,179 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 16:18:23,179 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 16:18:23,180 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:23,181 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:23,184 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:23,184 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,253 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:23,335 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:23,386 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:23,386 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:23,386 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:23,386 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,387 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:23,392 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:23,394 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:23,395 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:23,404 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:23,406 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:23,410 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 16:18:23,410 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:23,412 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 3 in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 16:18:23,413 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 16:18:23,413 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 16:18:23,413 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
Hibernate: select count(testentity0_.id) as col_0_0_ from test_entity_1 testentity0_
2018-06-07 16:18:23,538 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:23,538 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:23,541 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:23,541 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,600 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:23,682 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:23,733 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:23,734 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:23,734 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:23,735 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,735 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:23,741 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:23,759 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:23,759 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:23,772 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:23,774 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:23,779 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 16:18:23,779 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:23,781 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 4 in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 16:18:23,785 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 16:18:23,785 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 16:18:23,785 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 16:18:23,786 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:23,786 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:23,788 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:23,788 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,830 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:23,894 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:23,925 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:23,925 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:23,925 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:23,925 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:23,925 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:23,929 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:23,932 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:23,932 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:23,941 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:23,943 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:23,947 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 16:18:23,947 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 16:18:23,964 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRED xid: null in StatelessEJB.persistRequiredAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:23,967 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception IOException in REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 16:18:23,967 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 16:18:23,967 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRED back to REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 16:18:23,968 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 5 in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 16:18:23,968 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 5 in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 16:18:23,972 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 16:18:23,973 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 16:18:23,973 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 16:18:23,973 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 16:18:23,974 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:23,975 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:23,977 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:23,977 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,026 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:24,078 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:24,105 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:24,105 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:24,106 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:24,106 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,106 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:24,109 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:24,112 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:24,112 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:24,121 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:24,122 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:24,126 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 16:18:24,126 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,127 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:24,129 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception RuntimeException in REQUIRED xid: 6 in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRED back to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception EJBException in REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 16:18:24,130 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 16:18:24,131 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 16:18:24,132 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:24,132 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:24,133 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:24,133 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,167 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:24,210 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:24,235 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:24,236 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:24,236 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:24,236 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,236 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:24,240 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:24,242 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:24,242 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:24,250 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:24,252 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:24,255 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 16:18:24,256 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:24,258 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRES_NEW xid: 7 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 16:18:24,258 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 7 in StatelessEJB.persistRequiresNewAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 16:18:24,261 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 16:18:24,261 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 16:18:24,261 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 16:18:24,261 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 16:18:24,262 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:24,262 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:24,264 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:24,264 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,298 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:24,338 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:24,365 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:24,365 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:24,365 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:24,365 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,365 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:24,368 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:24,371 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:24,372 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:24,385 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:24,387 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:24,392 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 16:18:24,392 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:24,395 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception RuntimeException in REQUIRES_NEW xid: 8 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,395 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,395 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,396 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 16:18:24,396 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 16:18:24,396 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 16:18:24,397 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:24,397 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:24,399 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:24,399 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,444 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:24,499 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:24,535 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:24,535 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:24,535 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:24,535 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,535 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:24,539 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:24,542 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:24,543 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:24,556 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:24,558 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:24,564 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 16:18:24,565 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 16:18:24,565 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:24,569 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception IOException in REQUIRES_NEW xid: 10 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 16:18:24,569 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRES_NEW xid: 10 in StatelessEJB.persistRequiresNewAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 16:18:24,573 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRES_NEW back to REQUIRED xid: 9 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 16:18:24,574 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 9 in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 16:18:24,574 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 9 in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 16:18:24,574 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 16:18:24,575 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 16:18:24,575 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 16:18:24,575 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 16:18:24,576 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:24,576 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:24,577 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:24,577 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,628 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 16:18:24,687 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 16:18:24,725 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 16:18:24,725 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 16:18:24,726 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 16:18:24,726 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 16:18:24,726 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 16:18:24,731 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 16:18:24,734 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 16:18:24,734 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 16:18:24,746 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 16:18:24,748 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 16:18:24,753 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 16:18:24,753 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,754 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 16:18:24,758 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception RuntimeException in REQUIRES_NEW xid: 12 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,758 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRES_NEW xid: 11 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,758 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRES_NEW back to REQUIRED xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 16:18:24,759 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception EJBException in REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,759 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,759 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 16:18:24,760 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 16:18:24,760 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 16:18:24,760 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 16:18:24,761 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 16:18:24,761 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 16:18:24,763 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 16:18:24,764 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
