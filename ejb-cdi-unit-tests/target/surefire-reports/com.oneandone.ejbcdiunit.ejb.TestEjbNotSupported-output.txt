SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/root/./workspace/1and1/ejb-cdi-unit/389259868/.m2/org/slf4j/slf4j-log4j12/1.7.21/slf4j-log4j12-1.7.21.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/root/./workspace/1and1/ejb-cdi-unit/389259868/.m2/ch/qos/logback/logback-classic/1.0.9/logback-classic-1.0.9.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2018-06-07 19:16:25,709 INFO   (: [  ]  ) [org.jboss.weld.Version] (main) WELD-000900 1.1.14 (Final)
2018-06-07 19:16:26,284 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:26,724 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:26,906 INFO   (: [  ]  ) [org.hibernate.annotations.common.Version] (main) HCANN000001: Hibernate Commons Annotations {4.0.2.Final}
2018-06-07 19:16:26,912 INFO   (: [  ]  ) [org.hibernate.Version] (main) HHH000412: Hibernate Core {4.2.2.Final}
2018-06-07 19:16:26,914 INFO   (: [  ]  ) [org.hibernate.cfg.Environment] (main) HHH000206: hibernate.properties not found
2018-06-07 19:16:26,915 INFO   (: [  ]  ) [org.hibernate.cfg.Environment] (main) HHH000021: Bytecode provider name : javassist
2018-06-07 19:16:27,165 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:27,172 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:27,173 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:27,173 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:27,173 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:27,430 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:27,598 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:27,603 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:27,649 INFO   (: [  ]  ) [org.hibernate.validator.internal.util.Version] (main) HV000001: Hibernate Validator 4.3.1.Final
2018-06-07 19:16:27,955 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:27,963 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:28,134 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 19:16:28,135 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:28,238 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 1 in StatelessEJB.persistRequiredAndIOException
2018-06-07 19:16:28,239 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 1 in StatelessEJB.persistRequiredAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 19:16:28,286 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredAndIOException
2018-06-07 19:16:28,287 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 19:16:28,287 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 19:16:28,287 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredTraPlusIOException
2018-06-07 19:16:28,292 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:28,293 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:28,299 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:28,299 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:28,389 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:28,501 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:28,556 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:28,556 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:28,556 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:28,557 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:28,557 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:28,565 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:28,568 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:28,568 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:28,581 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:28,585 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:28,594 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 19:16:28,594 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:28,598 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception RuntimeException in REQUIRED xid: 2 in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:28,600 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:28,601 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:28,601 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 19:16:28,601 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 19:16:28,601 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredTraPlusRTException
2018-06-07 19:16:28,603 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:28,604 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:28,606 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:28,607 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:28,685 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:28,779 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:28,834 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:28,835 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:28,835 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:28,835 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:28,835 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:28,842 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:28,846 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:28,847 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:28,861 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:28,864 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:28,869 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 19:16:28,869 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:28,872 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 3 in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 19:16:28,873 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 19:16:28,873 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
2018-06-07 19:16:28,873 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.persistRequiresNewSetRollbackOnlyBySessionContext
Hibernate: select count(testentity0_.id) as col_0_0_ from test_entity_1 testentity0_
2018-06-07 19:16:29,012 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:29,012 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:29,014 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:29,015 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,078 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:29,162 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:29,238 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:29,239 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:29,239 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:29,239 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,239 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:29,249 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:29,253 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:29,253 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:29,273 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:29,275 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:29,280 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 19:16:29,281 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:29,284 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 4 in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 19:16:29,289 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 19:16:29,289 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 19:16:29,289 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.persistRequiresNewGetRollbackOnlyBySessionContext
2018-06-07 19:16:29,290 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:29,290 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:29,292 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:29,293 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,352 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:29,419 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:29,468 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:29,468 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:29,469 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:29,469 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,469 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:29,475 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:29,478 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:29,479 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:29,493 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:29,495 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:29,500 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 19:16:29,500 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 19:16:29,518 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRED xid: null in StatelessEJB.persistRequiredAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:29,521 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception IOException in REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 19:16:29,521 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 19:16:29,522 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRED back to REQUIRED xid: 5 in StatelessEJB.persistRequiredAndIOException
2018-06-07 19:16:29,522 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 5 in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 19:16:29,522 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 5 in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 19:16:29,527 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredIndirectAndIOExceptionIndirect
2018-06-07 19:16:29,528 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 19:16:29,528 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 19:16:29,528 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOException
2018-06-07 19:16:29,529 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:29,530 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:29,532 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:29,532 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,590 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:29,658 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:29,703 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:29,704 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:29,704 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:29,704 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,705 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:29,711 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:29,714 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:29,714 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:29,728 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:29,730 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:29,735 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 19:16:29,735 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 19:16:29,736 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:29,739 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception RuntimeException in REQUIRED xid: 6 in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:29,739 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:29,740 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRED back to REQUIRED xid: null in StatelessEJB.persistRequiredAndRTException
2018-06-07 19:16:29,740 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception EJBException in REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 19:16:29,740 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 19:16:29,740 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiredIndirectAndRTExceptionIndirect
2018-06-07 19:16:29,741 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 19:16:29,741 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 19:16:29,741 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTException
2018-06-07 19:16:29,742 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:29,742 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:29,744 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:29,745 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,794 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:29,851 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:29,890 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:29,890 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:29,890 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:29,890 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,890 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:29,895 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:29,898 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:29,899 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:29,909 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:29,911 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:29,915 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 19:16:29,916 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:29,919 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRES_NEW xid: 7 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 19:16:29,919 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: 7 in StatelessEJB.persistRequiresNewAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 19:16:29,923 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 19:16:29,923 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 19:16:29,923 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 19:16:29,924 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusIOException
2018-06-07 19:16:29,924 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:29,925 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:29,927 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:29,927 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:29,966 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:30,012 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:30,052 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:30,052 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:30,052 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:30,053 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:30,053 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:30,058 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:30,061 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:30,061 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:30,075 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:30,077 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:30,082 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 19:16:30,082 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:30,088 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception RuntimeException in REQUIRES_NEW xid: 8 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,089 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,089 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRES_NEW back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,089 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 19:16:30,089 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 19:16:30,089 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiresNewTraPlusRTException
2018-06-07 19:16:30,090 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:30,092 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:30,094 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:30,094 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:30,140 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:30,204 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:30,242 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:30,242 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:30,243 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:30,243 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:30,243 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:30,248 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:30,251 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:30,252 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:30,266 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:30,268 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:30,273 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 19:16:30,273 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 19:16:30,274 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndIOException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:30,278 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception IOException in REQUIRES_NEW xid: 10 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 19:16:30,278 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRES_NEW xid: 10 in StatelessEJB.persistRequiresNewAndIOException
Hibernate: insert into test_entity_1 (intAttribute, stringAttribute, id) values (?, ?, ?)
2018-06-07 19:16:30,282 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRES_NEW back to REQUIRED xid: 9 in StatelessEJB.persistRequiresNewAndIOException
2018-06-07 19:16:30,283 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception IOException in REQUIRED xid: 9 in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 19:16:30,283 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: 9 in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 19:16:30,284 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewIndirectAndIOExceptionIndirect
2018-06-07 19:16:30,284 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception IOException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 19:16:30,284 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 19:16:30,284 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusIOExceptionIndirect
2018-06-07 19:16:30,285 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:30,285 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:30,288 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:30,288 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:30,340 ERROR  (: [  ]  ) [CDI-Unit EJB-ExtensionExtended] (main) Self injection of EJB Type com.oneandone.ejbcdiunit.ejbs.SingletonEJB in field selfejb of Class com.oneandone.ejbcdiunit.ejbs.SingletonEJB can't get simulated by ejb-cdi-unit
2018-06-07 19:16:30,401 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) creating persistence factory testdb
2018-06-07 19:16:30,440 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000402: Using Hibernate built-in connection pool (not for production use!)
2018-06-07 19:16:30,441 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000115: Hibernate connection pool size: 20
2018-06-07 19:16:30,441 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000006: Autocommit mode: true
2018-06-07 19:16:30,441 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000401: using driver [org.h2.Driver] at URL [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
2018-06-07 19:16:30,441 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000046: Connection properties: {user=sa, autocommit=true, release_mode=auto}
2018-06-07 19:16:30,446 INFO   (: [  ]  ) [org.hibernate.dialect.Dialect] (main) HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-06-07 19:16:30,449 INFO   (: [  ]  ) [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (main) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2018-06-07 19:16:30,450 INFO   (: [  ]  ) [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (main) HHH000397: Using ASTQueryTranslatorFactory
2018-06-07 19:16:30,462 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
Hibernate: create table test_entity_1 (id bigint not null, intAttribute integer not null, stringAttribute varchar(255), primary key (id))
Hibernate: create table hibernate_sequences ( sequence_name varchar(255),  sequence_next_hi_value integer ) 
2018-06-07 19:16:30,464 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
check constructions
2018-06-07 19:16:30,469 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 changing  from undefined to NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 19:16:30,469 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 changing  from NOT_SUPPORTED to REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 19:16:30,470 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 changing  from REQUIRED to REQUIRES_NEW xid: null in StatelessEJB.persistRequiresNewAndRTException
Hibernate: select sequence_next_hi_value from hibernate_sequences where sequence_name = 'test_entity_1' for update
Hibernate: insert into hibernate_sequences(sequence_name, sequence_next_hi_value) values('test_entity_1', ?)
Hibernate: update hibernate_sequences set sequence_next_hi_value = ? where sequence_next_hi_value = ? and sequence_name = 'test_entity_1'
2018-06-07 19:16:30,473 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 Exception RuntimeException in REQUIRES_NEW xid: 12 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,474 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 finally   in REQUIRES_NEW xid: 11 in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,474 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L3 done      REQUIRES_NEW back to REQUIRED xid: null in StatelessEJB.persistRequiresNewAndRTException
2018-06-07 19:16:30,474 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 Exception EJBException in REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 19:16:30,475 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 finally   in REQUIRED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 19:16:30,475 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L2 done      REQUIRED back to NOT_SUPPORTED xid: null in StatelessEJB.persistRequiresNewIndirectAndRTExceptionIndirect
2018-06-07 19:16:30,475 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 Exception EJBException in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 19:16:30,475 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 finally   in NOT_SUPPORTED xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 19:16:30,475 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.internal.TransactionalInterceptor] (main) Thread 1 L1 done      NOT_SUPPORTED back to undefined xid: null in StatelessNotSupportedEJB.testRequiredIndirectTraPlusRTExceptionIndirect
2018-06-07 19:16:30,477 INFO   (: [  ]  ) [com.oneandone.ejbcdiunit.persistence.PersistenceFactory] (main) destroying persistence factory testdb
2018-06-07 19:16:30,477 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000227: Running hbm2ddl schema export
Hibernate: drop table if exists test_entity_1
Hibernate: drop table if exists hibernate_sequences
2018-06-07 19:16:30,479 INFO   (: [  ]  ) [org.hibernate.tool.hbm2ddl.SchemaExport] (main) HHH000230: Schema export complete
2018-06-07 19:16:30,479 INFO   (: [  ]  ) [org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl] (main) HHH000030: Cleaning up connection pool [jdbc:h2:mem:test;MODE=MySQL;DB_CLOSE_DELAY=0]
