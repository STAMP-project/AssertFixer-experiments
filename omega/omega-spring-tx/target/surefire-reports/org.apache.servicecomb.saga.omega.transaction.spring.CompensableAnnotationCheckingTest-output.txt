
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.13.RELEASE)

[main] INFO org.apache.maven.surefire.booter.ForkedBooter - Starting ForkedBooter v2.19.1 on cyclone1 with PID 483 (started by root in /root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx)
[main] INFO org.apache.maven.surefire.booter.ForkedBooter - The following profiles are active: omega-context-aware-checking
[main] INFO org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@3e4afd10: startup date [Tue Jun 05 20:17:36 CEST 2018]; root of context hierarchy
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4e6d011c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'transactionAspectConfig' of type [org.apache.servicecomb.saga.omega.transaction.spring.TransactionAspectConfig$$EnhancerBySpringCGLIB$$13a3ac6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'transactionInterceptionTest.MessageConfig' of type [org.apache.servicecomb.saga.omega.transaction.spring.TransactionInterceptionTest$MessageConfig$$EnhancerBySpringCGLIB$$a207abb0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'omegaContext' of type [org.apache.servicecomb.saga.omega.context.OmegaContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'recoveryContext' of type [org.apache.servicecomb.saga.omega.context.CompensationContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.jdbc.datasource.init.ScriptUtils - Executing SQL script from URL [file:/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/schema.sql]
[main] INFO org.springframework.jdbc.datasource.init.ScriptUtils - Executed SQL script from URL [file:/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/schema.sql] in 6 ms.
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'misconfiguredAnnotation' defined in file [/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/org/apache/servicecomb/saga/omega/transaction/spring/MisconfiguredAnnotation.class]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Only Executor, ExecutorService, and ScheduledExecutorService are supported for @OmegaContextAware
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[main] INFO org.springframework.boot.autoconfigure.logging.AutoConfigurationReportLoggingInitializer - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
[main] ERROR org.springframework.boot.SpringApplication - Application startup failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'misconfiguredAnnotation' defined in file [/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/org/apache/servicecomb/saga/omega/transaction/spring/MisconfiguredAnnotation.class]: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: Only Executor, ExecutorService, and ScheduledExecutorService are supported for @OmegaContextAware
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationCheckingTest.blowsUpWhenAnnotationOnWrongType(CompensableAnnotationCheckingTest.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: java.lang.IllegalArgumentException: Only Executor, ExecutorService, and ScheduledExecutorService are supported for @OmegaContextAware
	at org.apache.servicecomb.saga.omega.transaction.spring.ExecutorFieldCallback.doWith(ExecutorFieldCallback.java:61)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:692)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:672)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationProcessor.checkFields(CompensableAnnotationProcessor.java:56)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationProcessor.postProcessBeforeInitialization(CompensableAnnotationProcessor.java:40)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	... 37 more

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.13.RELEASE)

[main] INFO org.apache.maven.surefire.booter.ForkedBooter - Starting ForkedBooter v2.19.1 on cyclone1 with PID 483 (started by root in /root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx)
[main] INFO org.apache.maven.surefire.booter.ForkedBooter - The following profiles are active: annotation-checking
[main] INFO org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@32d1d6c5: startup date [Tue Jun 05 20:17:37 CEST 2018]; root of context hierarchy
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4e6d011c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'transactionAspectConfig' of type [org.apache.servicecomb.saga.omega.transaction.spring.TransactionAspectConfig$$EnhancerBySpringCGLIB$$13a3ac6d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'transactionInterceptionTest.MessageConfig' of type [org.apache.servicecomb.saga.omega.transaction.spring.TransactionInterceptionTest$MessageConfig$$EnhancerBySpringCGLIB$$a207abb0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'omegaContext' of type [org.apache.servicecomb.saga.omega.context.OmegaContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'recoveryContext' of type [org.apache.servicecomb.saga.omega.context.CompensationContext] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
[main] INFO org.springframework.jdbc.datasource.init.ScriptUtils - Executing SQL script from URL [file:/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/schema.sql]
[main] INFO org.springframework.jdbc.datasource.init.ScriptUtils - Executed SQL script from URL [file:/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/schema.sql] in 1 ms.
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'misconfiguredService' defined in file [/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/org/apache/servicecomb/saga/omega/transaction/spring/MisconfiguredService.class]: Initialization of bean failed; nested exception is org.apache.servicecomb.saga.omega.transaction.OmegaException: No such compensation method [none] found in org.apache.servicecomb.saga.omega.transaction.spring.MisconfiguredService
[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[main] INFO org.springframework.boot.autoconfigure.logging.AutoConfigurationReportLoggingInitializer - 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
[main] ERROR org.springframework.boot.SpringApplication - Application startup failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'misconfiguredService' defined in file [/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/org/apache/servicecomb/saga/omega/transaction/spring/MisconfiguredService.class]: Initialization of bean failed; nested exception is org.apache.servicecomb.saga.omega.transaction.OmegaException: No such compensation method [none] found in org.apache.servicecomb.saga.omega.transaction.spring.MisconfiguredService
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationCheckingTest.blowsUpWhenCompensableMethodIsNotFound(CompensableAnnotationCheckingTest.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.apache.servicecomb.saga.omega.transaction.OmegaException: No such compensation method [none] found in org.apache.servicecomb.saga.omega.transaction.spring.MisconfiguredService
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableMethodCheckingCallback.doWith(CompensableMethodCheckingCallback.java:60)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:530)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:510)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationProcessor.checkMethod(CompensableAnnotationProcessor.java:50)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableAnnotationProcessor.postProcessBeforeInitialization(CompensableAnnotationProcessor.java:39)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	... 37 more
Caused by: java.lang.NoSuchMethodException: org.apache.servicecomb.saga.omega.transaction.spring.MisconfiguredService.none()
	at java.lang.Class.getDeclaredMethod(Class.java:2130)
	at org.apache.servicecomb.saga.omega.transaction.spring.CompensableMethodCheckingCallback.doWith(CompensableMethodCheckingCallback.java:54)
	... 44 more
[Thread-4] INFO org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@ae3540e: startup date [Tue Jun 05 20:17:23 CEST 2018]; root of context hierarchy
[Thread-4] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[EL Info]: connection: 2018-06-05 20:17:38.658--ServerSession(1808584758)--/file:/root/workspace/apache/incubator-servicecomb-saga/388408298/omega/omega-spring-tx/target/test-classes/_default logout successful
